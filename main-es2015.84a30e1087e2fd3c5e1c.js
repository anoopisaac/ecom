(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"3Kre":function(t,e,n){"use strict";n.r(e),n.d(e,"factory",(function(){return S})),n.d(e,"getGlobalVars",(function(){return C})),n.d(e,"registerAnalytics",(function(){return k})),n.d(e,"resetGlobalVars",(function(){return x})),n.d(e,"settings",(function(){return E}));var i,r,s,o=n("wj3C"),a=n.n(o),l=(n("fSjL"),n("mrSG")),c=n("q/0M"),u=n("zVF4"),h=n("S+S0"),d="https://www.googletagmanager.com/gtag/js",p=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),f=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),m=new c.Logger("@firebase/analytics"),g=((i={})["no-ga-id"]='"measurementId" field is empty in Firebase config. Firebase Analytics requires this field to contain a valid measurement ID.',i["already-exists"]="A Firebase Analytics instance with the measurement ID ${id}  already exists. Only one Firebase Analytics instance can be created for each measurement ID.",i["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",i["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate",i),y=new u.ErrorFactory("analytics","Analytics",g),v={},_="dataLayer",b="gtag",w=!1;function x(t,e){void 0===t&&(t=!1),void 0===e&&(e={}),w=t,v=e,_="dataLayer",b="gtag"}function C(){return{initializedIdPromisesMap:v}}function E(t){if(w)throw y.create("already-initialized");t.dataLayerName&&(_=t.dataLayerName),t.gtagName&&(b=t.gtagName)}function S(t,e){var n=t.options.measurementId;if(!n)throw y.create("no-ga-id");if(null!=v[n])throw y.create("already-exists",{id:n});if(!w){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var i=n[e];if(i.src&&i.src.includes(d))return i}return null})()||function(t){var e=document.createElement("script");e.src=d+"?l="+t,e.async=!0,document.head.appendChild(e)}(_),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(_);var i=function(t,e,n){var i=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];window[e].push(arguments)};return window[n]&&"function"==typeof window[n]&&(i=window[n]),window[n]=function(t,e){return function(n,i,r){if(n===p.EVENT){var s=[];if(r&&r.send_to){var o=r.send_to;Array.isArray(o)||(o=[o]);for(var a=0,l=o;a<l.length;a++){var c=e[l[a]];if(!c){s=[];break}s.push(c)}}if(0===s.length)for(var u=0,h=Object.values(e);u<h.length;u++)s.push(h[u]);Promise.all(s).then((function(){return t(p.EVENT,i,r||{})})).catch((function(t){return m.error(t)}))}else n===p.CONFIG?(e[i]||Promise.resolve()).then((function(){t(p.CONFIG,i,r)})).catch((function(t){return m.error(t)})):t(p.SET,i)}}(i,t),{gtagCore:i,wrappedGtag:window[n]}}(v,_,b);s=i.wrappedGtag,r=i.gtagCore,w=!0}return v[n]=function(t,e,n){return Object(l.__awaiter)(this,void 0,void 0,(function(){var i,r;return Object(l.__generator)(this,(function(s){switch(s.label){case 0:return[4,e.getId()];case 1:return i=s.sent(),n("js",new Date),n(p.CONFIG,t.options.measurementId,((r={}).firebase_id=i,r.origin="firebase",r.update=!0,r)),[2]}}))}))}(t,e,r),{app:t,logEvent:function(t,e,i){return function(t,e,n,i,r){var s=i||{};r&&r.global||(s=Object(l.__assign)(Object(l.__assign)({},i),{send_to:e})),t(p.EVENT,n,s||{})}(s,n,t,e,i)},setCurrentScreen:function(t,e){return function(t,e,n,i){i&&i.global?t(p.SET,{screen_name:n}):t(p.CONFIG,e,{update:!0,screen_name:n})}(s,n,t,e)},setUserId:function(t,e){return function(t,e,n,i){i&&i.global?t(p.SET,{user_id:n}):t(p.CONFIG,e,{update:!0,user_id:n})}(s,n,t,e)},setUserProperties:function(t,e){return function(t,e,n,i){if(i&&i.global){for(var r={},s=0,o=Object.keys(n);s<o.length;s++){var a=o[s];r["user_properties."+a]=n[a]}t(p.SET,r)}else t(p.CONFIG,e,{update:!0,user_properties:n})}(s,n,t,e)},setAnalyticsCollectionEnabled:function(t){return function(t,e){window["ga-disable-"+t]=!e}(n,t)}}}function k(t){t.INTERNAL.registerComponent(new h.Component("analytics",(function(t){return S(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:E,EventName:f})),t.INTERNAL.registerComponent(new h.Component("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(e){throw y.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.3.0")}k(a.a)},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=(i=n("wj3C"))&&"object"==typeof i&&"default"in i?i.default:i,s=n("mrSG"),o=n("q/0M"),a=n("zVF4"),l=n("S+S0"),c=n("x7I3"),u=r.SDK_VERSION,h=function(){function t(t){this.uid=t}return t.prototype.t=function(){return null!=this.uid},t.prototype.i=function(){return this.t()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.u=new t("google-credentials-uid"),t.s=new t("first-party-uid"),t}(),d={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},p=function(t){function e(e,n){var i=t.call(this,n)||this;return i.code=e,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return s.__extends(e,t),e}(Error),f=function(t,e){this.user=e,this.type="OAuth",this.o={},this.o.Authorization="Bearer "+t},m=function(){function t(){this.h=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.l=function(){},t.prototype.v=function(t){sn(!this.h,"Can only call setChangeListener() once."),this.h=t,t(h.UNAUTHENTICATED)},t.prototype.m=function(){sn(null!==this.h,"removeChangeListener() when no listener registered"),this.h=null},t}(),g=function(){function t(t){var e=this;this.g=null,this.currentUser=h.UNAUTHENTICATED,this.p=!1,this._=0,this.h=null,this.forceRefresh=!1,this.g=function(){e._++,e.currentUser=e.I(),e.p=!0,e.h&&e.h(e.currentUser)},this._=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.g):(this.g(null),t.get().then((function(t){e.auth=t,e.g&&e.auth.addAuthTokenListener(e.g)}),(function(){})))}return t.prototype.getToken=function(){var t=this;sn(null!=this.g,"getToken cannot be called after listener removed.");var e=this._,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t._!==e)throw new p(d.ABORTED,"getToken aborted due to token change.");return n?(sn("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new f(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.l=function(){this.forceRefresh=!0},t.prototype.v=function(t){sn(!this.h,"Can only call setChangeListener() once."),this.h=t,this.p&&t(this.currentUser)},t.prototype.m=function(){sn(null!=this.g,"removeChangeListener() called twice"),sn(null!==this.h,"removeChangeListener() called when no listener registered"),this.auth&&this.auth.removeAuthTokenListener(this.g),this.g=null,this.h=null},t.prototype.I=function(){var t=this.auth&&this.auth.getUid();return sn(null===t||"string"==typeof t,"Received invalid UID: "+t),new h(t)},t}(),y=function(){function t(t,e){this.T=t,this.D=e,this.type="FirstParty",this.user=h.s}return Object.defineProperty(t.prototype,"o",{get:function(){var t={"X-Goog-AuthUser":this.D},e=this.T.auth.R([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),v=function(){function t(t,e){this.T=t,this.D=e}return t.prototype.getToken=function(){return Promise.resolve(new y(this.T,this.D))},t.prototype.v=function(t){t(h.s)},t.prototype.m=function(){},t.prototype.l=function(){},t}();function _(t){if(!t)return new m;switch(t.type){case"gapi":var e=t.S;return sn(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new v(e,t.D||"0");case"provider":return t.S;default:throw new p(d.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function b(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new p(d.INVALID_ARGUMENT,t)}return n.prototype=t.prototype,Object.assign(n,t),n}function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function x(t,e){return void 0!==t?t:e}function C(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Number(n);isNaN(i)||e(i,t[n])}}function E(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function S(t){for(var e in sn(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function k(t,e){if(0!==e.length)throw new p(d.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+G(e.length,"argument")+".")}function I(t,e,n){if(e.length!==n)throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires "+G(n,"argument")+", but was called with "+G(e.length,"argument")+".")}function A(t,e,n){if(e.length<n)throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires at least "+G(n,"argument")+", but was called with "+G(e.length,"argument")+".")}function T(t,e,n,i){if(e.length<n||e.length>i)throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+i+" arguments, but was called with "+G(e.length,"argument")+".")}function O(t,e,n,i){if(!(e instanceof Array)||e.length<i)throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" argument to be an array with at least "+G(i,"element")+".")}function D(t,e,n,i){L(t,e,H(n)+" argument",i)}function R(t,e,n,i){void 0!==i&&D(t,e,n,i)}function N(t,e,n,i){L(t,e,n+" option",i)}function P(t,e,n,i){void 0!==i&&N(t,e,n,i)}function F(t,e,n,i,r){void 0!==i&&function(t,e,n,i,r){for(var s=[],o=0,a=r;o<a.length;o++){var l=a[o];if(l===i)return;s.push(j(l))}var c=j(i);throw new p(d.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+s.join(", "))}(t,0,n,i,r)}function M(t,e,n,i){if(!e.some((function(t){return t===i})))throw new p(d.INVALID_ARGUMENT,"Invalid value "+j(i)+" provided to function "+t+"() for its "+H(n)+" argument. Acceptable values: "+e.join(", "))}function L(t,e,n,i){if(!("object"===e?V(i):"non-empty string"===e?"string"==typeof i&&""!==i:typeof i===e)){var r=j(i);throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+r)}}function V(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function j(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":rn("Unknown wrong type: "+typeof t)}function U(t,e,n){if(void 0===n)throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+H(e)+" argument, but it was undefined.")}function B(t,e,n){E(e,(function(e,i){if(n.indexOf(e)<0)throw new p(d.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function q(t,e,n,i){var r=j(i);return new p(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+H(n)+" argument to be a "+e+", but it was: "+r)}function z(t,e,n){if(n<=0)throw new p(d.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+H(e)+" argument to be a positive number, but it was: "+n+".")}function H(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function G(t,e){return t+" "+e+(1===t?"":"s")}var W=function(){function t(t){this.A=t}return t.fromBase64String=function(e){return new t(Qe.C().atob(e))},t.fromUint8Array=function(e){return new t($(e))},t.prototype.toBase64=function(){return Qe.C().btoa(this.A)},t.prototype.toUint8Array=function(){return K(this.A)},t.prototype.P=function(){return 2*this.A.length},t.prototype.isEqual=function(t){return this.A===t.A},t.k=new t(""),t}();function $(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}function K(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}function Y(){if("undefined"==typeof Uint8Array)throw new p(d.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Q(){if(!Qe.C().N)throw new p(d.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var X=function(){function t(t){Q(),this.A=t}return t.fromBase64String=function(e){I("Blob.fromBase64String",arguments,1),D("Blob.fromBase64String","string",1,e),Q();try{var n=Qe.C().atob(e);return new t(n)}catch(t){throw new p(d.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(I("Blob.fromUint8Array",arguments,1),Y(),!(e instanceof Uint8Array))throw q("Blob.fromUint8Array","Uint8Array",1,e);var n=$(e);return new t(n)},t.prototype.toBase64=function(){return I("Blob.toBase64",arguments,0),Q(),Qe.C().btoa(this.A)},t.prototype.toUint8Array=function(){I("Blob.toUint8Array",arguments,0),Y();var t=K(this.A);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.A===t.A},t.prototype.O=function(){return 2*this.A.length},t.prototype.F=function(t){return an(this.A,t.A)},t}(),J=b(X,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Z=function(){function t(t,e){if(I("GeoPoint",arguments,2),D("GeoPoint","number",1,t),D("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new p(d.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new p(d.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.V=t,this.U=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.V},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.U},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.V===t.V&&this.U===t.U},t.prototype.F=function(t){return an(this.V,t.V)||an(this.U,t.U)},t}(),tt=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new p(d.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new p(d.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new p(d.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new p(d.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.F=function(t){return this.seconds===t.seconds?an(this.nanoseconds,t.nanoseconds):an(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),et=function(){function t(t){this.timestamp=t}return t.j=function(e){var n=Math.floor(e/1e6);return new t(new tt(n,e%1e6*1e3))},t.L=function(e){return new t(e)},t.q=function(){return t.MIN},t.prototype.B=function(t){return this.timestamp.F(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.M=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t.MIN=new t(new tt(0,0)),t}(),nt=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&rn("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&rn("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.W(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.K(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.H=function(t){return sn(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.K(this.segments,this.offset+t,this.length-t)},t.prototype.J=function(){return sn(!this.Y(),"Can't call popLast() on empty path"),this.K(this.segments,this.offset,this.length-1)},t.prototype.X=function(){return sn(!this.Y(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.$=function(){return this.get(this.length-1)},t.prototype.get=function(t){return sn(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.Y=function(){return 0===this.length},t.prototype.Z=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.tt=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.nt=function(){return this.segments.slice(this.offset,this.limit())},t.W=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),s=e.get(i);if(r<s)return-1;if(r>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),it=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.K=function(t,n,i){return new e(t,n,i)},e.prototype.it=function(){return this.nt().join("/")},e.prototype.toString=function(){return this.it()},e.et=function(t){if(t.indexOf("//")>=0)throw new p(d.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.rt=new e([]),e}(nt),rt=/^[_a-zA-Z][_a-zA-Z0-9]*$/,st=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.K=function(t,n,i){return new e(t,n,i)},e.ut=function(t){return rt.test(t)},e.prototype.it=function(){return this.nt().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.it()},e.prototype.st=function(){return 1===this.length&&"__name__"===this.get(0)},e.ot=function(){return new e(["__name__"])},e.ht=function(t){for(var n=[],i="",r=0,s=function(){if(0===i.length)throw new p(d.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(i),i=""},o=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new p(d.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new p(d.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new p(d.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.rt=new e([]),e}(nt),ot=function(){function t(e){this.path=e,sn(t.ct(e),"Invalid DocumentKey with an odd number of segments: "+e.nt().join("/"))}return t.prototype.at=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===it.W(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.W=function(t,e){return it.W(t.path,e.path)},t.ct=function(t){return t.length%2==0},t.ft=function(e){return new t(new it(e.slice()))},t.lt=function(e){return new t(it.et(e))},t.EMPTY=new t(new it([])),t}(),at=function(){function t(t,e){this.W=t,this.root=e||ct.EMPTY}return t.prototype.dt=function(e,n){return new t(this.W,this.root.dt(e,n,this.W).copy(null,null,ct.vt,null,null))},t.prototype.remove=function(e){return new t(this.W,this.root.remove(e,this.W).copy(null,null,ct.vt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.Y();){var n=this.W(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.Y();){var i=this.W(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.Y=function(){return this.root.Y()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.wt=function(){return this.root.wt()},t.prototype.gt=function(){return this.root.gt()},t.prototype.bt=function(t){return this.root.bt(t)},t.prototype.forEach=function(t){this.bt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.bt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.pt=function(t){return this.root.pt(t)},t.prototype.yt=function(){return new lt(this.root,null,this.W,!1)},t.prototype._t=function(t){return new lt(this.root,t,this.W,!1)},t.prototype.It=function(){return new lt(this.root,null,this.W,!0)},t.prototype.Tt=function(t){return new lt(this.root,t,this.W,!0)},t}(),lt=function(){function t(t,e,n,i){this.Et=i,this.Dt=[];for(var r=1;!t.Y();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.Et?t.left:t.right;else{if(0===r){this.Dt.push(t);break}this.Dt.push(t),t=this.Et?t.right:t.left}}return t.prototype.Rt=function(){sn(this.Dt.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.Et)for(t=t.left;!t.Y();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.Y();)this.Dt.push(t),t=t.left;return e},t.prototype.St=function(){return this.Dt.length>0},t.prototype.At=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),ct=function(){function t(e,n,i,r,s){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,r,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)},t.prototype.Y=function(){return!1},t.prototype.bt=function(t){return this.left.bt(t)||t(this.key,this.value)||this.right.bt(t)},t.prototype.pt=function(t){return this.right.pt(t)||t(this.key,this.value)||this.left.pt(t)},t.prototype.min=function(){return this.left.Y()?this:this.left.min()},t.prototype.wt=function(){return this.min().key},t.prototype.gt=function(){return this.right.Y()?this.key:this.right.gt()},t.prototype.dt=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.dt(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.dt(t,e,n))).Ct()},t.prototype.Pt=function(){if(this.left.Y())return t.EMPTY;var e=this;return e.left.kt()||e.left.left.kt()||(e=e.Nt()),(e=e.copy(null,null,null,e.left.Pt(),null)).Ct()},t.prototype.remove=function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.Y()||r.left.kt()||r.left.left.kt()||(r=r.Nt()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.kt()&&(r=r.Ot()),r.right.Y()||r.right.kt()||r.right.left.kt()||(r=r.Ft()),0===n(e,r.key)){if(r.right.Y())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.Pt())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.Ct()},t.prototype.kt=function(){return this.color},t.prototype.Ct=function(){var t=this;return t.right.kt()&&!t.left.kt()&&(t=t.Vt()),t.left.kt()&&t.left.left.kt()&&(t=t.Ot()),t.left.kt()&&t.right.kt()&&(t=t.Ut()),t},t.prototype.Nt=function(){var t=this.Ut();return t.right.left.kt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Ot())).Vt()).Ut()),t},t.prototype.Ft=function(){var t=this.Ut();return t.left.left.kt()&&(t=(t=t.Ot()).Ut()),t},t.prototype.Vt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Ot=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ut=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.xt=function(){var t=this.jt();return Math.pow(2,t)<=this.size+1},t.prototype.jt=function(){if(this.kt()&&this.left.kt())throw rn("Red node has red child("+this.key+","+this.value+")");if(this.right.kt())throw rn("Right child of ("+this.key+","+this.value+") is red");var t=this.left.jt();if(t!==this.right.jt())throw rn("Black depths differ");return t+(this.kt()?0:1)},t.EMPTY=null,t.RED=!0,t.vt=!1,t}(),ut=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw rn("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw rn("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw rn("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw rn("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw rn("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.dt=function(t,e,n){return new ct(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.Y=function(){return!0},t.prototype.bt=function(t){return!1},t.prototype.pt=function(t){return!1},t.prototype.wt=function(){return null},t.prototype.gt=function(){return null},t.prototype.kt=function(){return!1},t.prototype.xt=function(){return!0},t.prototype.jt=function(){return 0},t}();ct.EMPTY=new ut;var ht=function(){function t(t){this.W=t,this.data=new at(this.W)}return t.Lt=function(e){var n=new t(e.W);return e.forEach((function(t){n=n.add(t)})),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.wt()},t.prototype.last=function(){return this.data.gt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.bt((function(e,n){return t(e),!1}))},t.prototype.qt=function(t,e){for(var n=this.data._t(t[0]);n.St();){var i=n.Rt();if(this.W(i.key,t[1])>=0)return;e(i.key)}},t.prototype.Bt=function(t,e){var n;for(n=void 0!==e?this.data._t(e):this.data.yt();n.St();)if(!t(n.Rt().key))return},t.prototype.Mt=function(t){var e=this.data._t(t);return e.St()?e.Rt().key:null},t.prototype.yt=function(){return new dt(this.data.yt())},t.prototype._t=function(t){return new dt(this.data._t(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).dt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.Y=function(){return this.data.Y()},t.prototype.Qt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),i=e.data.yt();n.St();){var r=n.Rt().key,s=i.Rt().key;if(0!==this.W(r,s))return!1}return!0},t.prototype.nt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.W);return n.data=e,n},t}(),dt=function(){function t(t){this.Gt=t}return t.prototype.Rt=function(){return this.Gt.Rt().key},t.prototype.St=function(){return this.Gt.St()},t}(),pt=function(){function t(){}return t.prototype.Wt=function(t,e){return new Vt(e,t)},t.prototype.zt=function(t,e){return e},t.prototype.Kt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),ft=function(){function t(t){this.elements=t}return t.prototype.Wt=function(t,e){return this.apply(t)},t.prototype.zt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=yt(t),n=function(t){e.find((function(e){return e.isEqual(t)}))||e.push(t)},i=0,r=this.elements;i<r.length;i++)n(r[i]);return new Ht(e)},t.prototype.Kt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&ln(e.elements,this.elements)},t}(),mt=function(){function t(t){this.elements=t}return t.prototype.Wt=function(t,e){return this.apply(t)},t.prototype.zt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=yt(t),n=function(t){e=e.filter((function(e){return!e.isEqual(t)}))},i=0,r=this.elements;i<r.length;i++)n(r[i]);return new Ht(e)},t.prototype.Kt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&ln(e.elements,this.elements)},t}(),gt=function(){function t(t){this.Ht=t}return t.prototype.Wt=function(t,e){var n=this.Kt(t);if(n instanceof Pt&&this.Ht instanceof Pt){var i=n.Jt+this.Ht.Jt;return new Pt(i)}return new Ft(i=n.Jt+this.Ht.Jt)},t.prototype.zt=function(t,e){return sn(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.Kt=function(t){return t instanceof Rt?t:new Pt(0)},t.prototype.isEqual=function(e){return e instanceof t&&this.Ht.isEqual(e.Ht)},t}();function yt(t){return t instanceof Ht?t.Jt.slice():[]}var vt=function(){function t(t){this.fields=t}return t.Yt=function(e){return new t(e)},t.Xt=function(e){var n=new ht(st.W);return e.forEach((function(t){return n=n.add(t)})),new t(n)},t.prototype.$t=function(t){var e=!1;return this.fields.forEach((function(n){n.Z(t)&&(e=!0)})),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),_t=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),bt=function(t,e){this.version=t,this.transformResults=e},wt=function(){function t(t,e){this.updateTime=t,this.exists=e,sn(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Zt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.tn=function(t){return void 0!==this.updateTime?t instanceof Wt&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof Wt:(sn(this.Zt,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,!((null!=(e=this.updateTime)?!n||!e.isEqual(n):e!==n)||this.exists!==t.exists);var e,n},t.NONE=new t,t}(),xt=function(){function t(){}return t.prototype.nn=function(t){null!=t&&sn(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.in=function(t){return t instanceof Wt?t.version:et.MIN},t}(),Ct=function(t){function e(e,n,i){var r=t.call(this)||this;return r.key=e,r.value=n,r.en=i,r.type=0,r}return s.__extends(e,t),e.prototype.zt=function(t,e){return this.nn(t),sn(null==e.transformResults,"Transform results received by SetMutation."),new Wt(this.key,e.version,{hasCommittedMutations:!0},this.value)},e.prototype.Wt=function(t,e,n){if(this.nn(t),!this.en.tn(t))return t;var i=xt.in(t);return new Wt(this.key,i,{rn:!0},this.value)},e.prototype.un=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.en.isEqual(t.en)},e}(xt),Et=function(t){function e(e,n,i,r){var s=t.call(this)||this;return s.key=e,s.data=n,s.sn=i,s.en=r,s.type=1,s}return s.__extends(e,t),e.prototype.zt=function(t,e){if(this.nn(t),sn(null==e.transformResults,"Transform results received by PatchMutation."),!this.en.tn(t))return new Kt(this.key,e.version);var n=this.on(t);return new Wt(this.key,e.version,{hasCommittedMutations:!0},n)},e.prototype.Wt=function(t,e,n){if(this.nn(t),!this.en.tn(t))return t;var i=xt.in(t),r=this.on(t);return new Wt(this.key,i,{rn:!0},r)},e.prototype.un=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.sn.isEqual(t.sn)&&this.en.isEqual(t.en)},e.prototype.on=function(t){var e;return e=t instanceof Wt?t.data():qt.EMPTY,this.hn(e)},e.prototype.hn=function(t){var e=this,n=t.cn();return this.sn.fields.forEach((function(t){if(!t.Y()){var i=e.data.field(t);null!==i?n.set(t,i):n.delete(t)}})),n.an()},e}(xt),St=function(t){function e(e,n){var i=t.call(this)||this;return i.key=e,i.fieldTransforms=n,i.type=2,i.en=wt.exists(!0),i}return s.__extends(e,t),e.prototype.zt=function(t,e){if(this.nn(t),sn(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.en.tn(t))return new Kt(this.key,e.version);var n=this.fn(t),i=this.ln(t,e.transformResults),r=e.version,s=this.dn(n.data(),i);return new Wt(this.key,r,{hasCommittedMutations:!0},s)},e.prototype.Wt=function(t,e,n){if(this.nn(t),!this.en.tn(t))return t;var i=this.fn(t),r=this.vn(n,t,e),s=this.dn(i.data(),r);return new Wt(this.key,i.version,{rn:!0},s)},e.prototype.un=function(t){for(var e=null,n=0,i=this.fieldTransforms;n<i.length;n++){var r=i[n],s=t instanceof Wt?t.field(r.field):void 0,o=r.transform.Kt(s||null);null!=o&&(e=null==e?qt.wn().set(r.field,o):e.set(r.field,o))}return e?e.an():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&ln(this.fieldTransforms,t.fieldTransforms)&&this.en.isEqual(t.en)},e.prototype.fn=function(t){return sn(t instanceof Wt,"Unknown MaybeDocument type "+t),sn(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},e.prototype.ln=function(t,e){var n=[];sn(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var i=0;i<e.length;i++){var r=this.fieldTransforms[i],s=r.transform,o=null;t instanceof Wt&&(o=t.field(r.field)),n.push(s.zt(o,e[i]))}return n},e.prototype.vn=function(t,e,n){for(var i=[],r=0,s=this.fieldTransforms;r<s.length;r++){var o=s[r],a=o.transform,l=null;e instanceof Wt&&(l=e.field(o.field)),null===l&&n instanceof Wt&&(l=n.field(o.field)),i.push(a.Wt(l,t))}return i},e.prototype.dn=function(t,e){sn(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=t.cn(),i=0;i<this.fieldTransforms.length;i++)n.set(this.fieldTransforms[i].field,e[i]);return n.an()},e}(xt),kt=function(t){function e(e,n){var i=t.call(this)||this;return i.key=e,i.en=n,i.type=3,i}return s.__extends(e,t),e.prototype.zt=function(t,e){return this.nn(t),sn(null==e.transformResults,"Transform results received by DeleteMutation."),new $t(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.Wt=function(t,e,n){return this.nn(t),this.en.tn(t)?(t&&sn(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new $t(this.key,et.q())):t},e.prototype.un=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.en.isEqual(t.en)},e}(xt),It=function(t){function e(e,n){var i=t.call(this)||this;return i.key=e,i.en=n,i.type=4,i}return s.__extends(e,t),e.prototype.zt=function(t,e){rn("VerifyMutation should only be used in Transactions.")},e.prototype.Wt=function(t,e,n){rn("VerifyMutation should only be used in Transactions.")},e.prototype.un=function(t){rn("VerifyMutation should only be used in Transactions.")},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.en.isEqual(t.en)},e}(xt),At=function(){function t(t,e){this.mn=t,this.timestampsInSnapshots=e}return t.gn=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(1,n);case"previous":return new t(2,n);case"none":case void 0:return new t(0,n);default:return rn("fromSnapshotOptions() called with invalid options.")}},t}(),Tt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.bn=function(t){return sn(this.pn!==t.pn,"Default compareTo should not be used for values of same type."),an(this.pn,t.pn)},t}(),Ot=function(t){function e(){var e=t.call(this)||this;return e.pn=0,e.Jt=null,e}return s.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.B=function(t){return t instanceof e?0:this.bn(t)},e.prototype.P=function(){return 4},e.yn=new e,e}(Tt),Dt=function(t){function e(e){var n=t.call(this)||this;return n.Jt=e,n.pn=1,n}return s.__extends(e,t),e.prototype.value=function(t){return this.Jt},e.prototype.isEqual=function(t){return t instanceof e&&this.Jt===t.Jt},e.prototype.B=function(t){return t instanceof e?an(this.Jt,t.Jt):this.bn(t)},e.prototype.P=function(){return 4},e.of=function(t){return t?e._n:e.In},e._n=new e(!0),e.In=new e(!1),e}(Tt),Rt=function(t){function e(e){var n=t.call(this)||this;return n.Jt=e,n.pn=2,n}return s.__extends(e,t),e.prototype.value=function(t){return this.Jt},e.prototype.B=function(t){return t instanceof e?(n=this.Jt)<(i=t.Jt)?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1:this.bn(t);var n,i},e.prototype.P=function(){return 8},e}(Tt);function Nt(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Nt(this.Jt,t.Jt)},e}(Rt),Ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Nt(this.Jt,t.Jt)},e.Tn=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Rt),Mt=function(t){function e(e){var n=t.call(this)||this;return n.Jt=e,n.pn=4,n}return s.__extends(e,t),e.prototype.value=function(t){return this.Jt},e.prototype.isEqual=function(t){return t instanceof e&&this.Jt===t.Jt},e.prototype.B=function(t){return t instanceof e?an(this.Jt,t.Jt):this.bn(t)},e.prototype.P=function(){return 2*this.Jt.length},e}(Tt),Lt=function(t){function e(e){var n=t.call(this)||this;return n.Jt=e,n.pn=3,n}return s.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.Jt:this.Jt.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.Jt.isEqual(t.Jt)},e.prototype.B=function(t){return t instanceof e?this.Jt.F(t.Jt):t instanceof Vt?-1:this.bn(t)},e.prototype.P=function(){return 16},e}(Tt),Vt=function(t){function e(e,n){var i=t.call(this)||this;return i.En=e,i.previousValue=n,i.pn=3,i}return s.__extends(e,t),e.prototype.value=function(t){return t&&1===t.mn?new Lt(this.En).value(t):t&&2===t.mn&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.En.isEqual(t.En)},e.prototype.B=function(t){return t instanceof e?this.En.F(t.En):t instanceof Lt?1:this.bn(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.En.toString()+">"},e.prototype.P=function(){return 16+(this.previousValue?this.previousValue.P():0)},e}(Tt),jt=function(t){function e(e){var n=t.call(this)||this;return n.Jt=e,n.pn=5,n}return s.__extends(e,t),e.prototype.value=function(t){return this.Jt},e.prototype.isEqual=function(t){return t instanceof e&&this.Jt.isEqual(t.Jt)},e.prototype.B=function(t){return t instanceof e?this.Jt.F(t.Jt):this.bn(t)},e.prototype.P=function(){return this.Jt.O()},e}(Tt),Ut=function(t){function e(e,n){var i=t.call(this)||this;return i.Dn=e,i.key=n,i.pn=6,i}return s.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Dn.isEqual(t.Dn)},e.prototype.B=function(t){if(t instanceof e){var n=this.Dn.B(t.Dn);return 0!==n?n:ot.W(this.key,t.key)}return this.bn(t)},e.prototype.P=function(){return this.Dn.projectId.length+this.Dn.database.length+this.key.toString().length},e}(Tt),Bt=function(t){function e(e){var n=t.call(this)||this;return n.Jt=e,n.pn=7,n}return s.__extends(e,t),e.prototype.value=function(t){return this.Jt},e.prototype.isEqual=function(t){return t instanceof e&&this.Jt.isEqual(t.Jt)},e.prototype.B=function(t){return t instanceof e?this.Jt.F(t.Jt):this.bn(t)},e.prototype.P=function(){return 16},e}(Tt),qt=function(t){function e(e){var n=t.call(this)||this;return n.Jt=e,n.pn=9,n}return s.__extends(e,t),e.wn=function(){return new zt(e.EMPTY.Jt)},e.prototype.value=function(t){var e={};return this.Jt.bt((function(n,i){e[n]=i.value(t)})),e},e.prototype.forEach=function(t){this.Jt.bt(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.Jt.yt(),i=t.Jt.yt();n.St()&&i.St();){var r=n.Rt(),s=i.Rt();if(r.key!==s.key||!r.value.isEqual(s.value))return!1}return!n.St()&&!i.St()}return!1},e.prototype.B=function(t){if(t instanceof e){for(var n=this.Jt.yt(),i=t.Jt.yt();n.St()&&i.St();){var r=n.Rt(),s=i.Rt(),o=an(r.key,s.key)||r.value.B(s.value);if(o)return o}return an(n.St(),i.St())}return this.bn(t)},e.prototype.contains=function(t){return null!==this.field(t)},e.prototype.field=function(t){sn(!t.Y(),"Can't get field of empty path");var n=this;return t.forEach((function(t){n=n instanceof e?n.Jt.get(t):null})),n},e.prototype.sn=function(){var t=new ht(st.W);return this.Jt.forEach((function(n,i){var r=new st([n]);if(i instanceof e){var s=i.sn().fields;s.Y()?t=t.add(r):s.forEach((function(e){t=t.add(r.child(e))}))}else t=t.add(r)})),vt.Yt(t)},e.prototype.P=function(){var t=0;return this.Jt.bt((function(e,n){t+=e.length+n.P()})),t},e.prototype.toString=function(){return this.Jt.toString()},e.prototype.cn=function(){return new zt(this.Jt)},e.EMPTY=new e(new at(an)),e}(Tt),zt=function(){function t(t){this.Jt=t}return t.prototype.set=function(t,e){sn(!t.Y(),"Cannot set field for empty path on ObjectValue");var n=t.X();if(1===t.length)this.Jt=this.Jt.dt(n,e);else{var i=this.Jt.get(n),r=(i instanceof qt?i:qt.EMPTY).cn().set(t.H(),e).an();this.Jt=this.Jt.dt(n,r)}return this},t.prototype.delete=function(t){sn(!t.Y(),"Cannot delete field for empty path on ObjectValue");var e=t.X();if(1===t.length)this.Jt=this.Jt.remove(e);else{var n=this.Jt.get(e);if(n instanceof qt){var i=n.cn().delete(t.H()).an();this.Jt=this.Jt.dt(t.X(),i)}}return this},t.prototype.an=function(){return new qt(this.Jt)},t}(),Ht=function(t){function e(e){var n=t.call(this)||this;return n.Jt=e,n.pn=8,n}return s.__extends(e,t),e.prototype.value=function(t){return this.Jt.map((function(e){return e.value(t)}))},e.prototype.contains=function(t){for(var e=0,n=this.Jt;e<n.length;e++)if(n[e].isEqual(t))return!0;return!1},e.prototype.forEach=function(t){this.Jt.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.Jt.length!==t.Jt.length)return!1;for(var n=0;n<this.Jt.length;n++)if(!this.Jt[n].isEqual(t.Jt[n]))return!1;return!0}return!1},e.prototype.B=function(t){if(t instanceof e){for(var n=Math.min(this.Jt.length,t.Jt.length),i=0;i<n;i++){var r=this.Jt[i].B(t.Jt[i]);if(r)return r}return an(this.Jt.length,t.Jt.length)}return this.bn(t)},e.prototype.P=function(){return this.Jt.reduce((function(t,e){return t+e.P()}),0)},e.prototype.toString=function(){return"["+this.Jt.map((function(t){return t.toString()})).join(",")+"]"},e}(Tt),Gt=function(){function t(t,e){this.key=t,this.version=e}return t.Rn=function(t,e){return ot.W(t.key,e.key)},t}(),Wt=function(t){function e(e,n,i,r,s,o){var a=t.call(this,e,n)||this;return a.Sn=r,a.proto=s,a.converter=o,sn(void 0!==a.Sn||void 0!==a.proto&&void 0!==a.converter,"If objectValue is not defined, proto and converter need to be set."),a.rn=!!i.rn,a.hasCommittedMutations=!!i.hasCommittedMutations,a}return s.__extends(e,t),e.prototype.field=function(t){if(this.Sn)return this.Sn.field(t);this.An||(this.An=new Map);var e=t.it(),n=this.An.get(e);if(void 0===n){var i=this.Cn(t);n=void 0===i?null:this.converter(i),this.An.set(e,n)}return n},e.prototype.data=function(){var t=this;if(!this.Sn){var e=qt.wn();E(this.proto.fields||{},(function(n,i){e.set(new st([n]),t.converter(i))})),this.Sn=e.an(),this.An=void 0}return this.Sn},e.prototype.value=function(){return this.data().value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.rn===t.rn&&this.hasCommittedMutations===t.hasCommittedMutations&&this.data().isEqual(t.data())},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.rn+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.rn||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.Cn=function(t){sn(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var e=this.proto.fields?this.proto.fields[t.X()]:void 0,n=1;n<t.length;++n){if(!e||!e.mapValue||!e.mapValue.fields)return;e=e.mapValue.fields[t.get(n)]}return e},e.Pn=function(t,e,n){var i=e.field(t),r=n.field(t);return null!==i&&null!==r?i.B(r):rn("Trying to compare documents on fields that don't exist")},e}(Gt),$t=function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.hasCommittedMutations=!(!i||!i.hasCommittedMutations),r}return s.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Gt),Kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Gt);function Yt(t){return null==t}function Qt(t){return-0===t&&1/t==-1/0}function Xt(t){return"number"==typeof t&&Number.isInteger(t)&&!Qt(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Jt,Zt,te=function(){function t(t,e,n,i,r,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.kn=null}return t.prototype.canonicalId=function(){if(null===this.kn){var t=this.path.it();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var i=0,r=this.orderBy;i<r.length;i++)t+=r[i].canonicalId(),t+=",";Yt(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.kn=t}return this.kn},t.prototype.toString=function(){var t=this.path.it();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),Yt(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!!(null!==this.startAt?this.startAt.isEqual(t.startAt):null===t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.Nn=function(){return ot.ct(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}(),ee=function(){function t(t,e,n,i,r,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.On=n,this.filters=i,this.limit=r,this.Fn=s,this.startAt=o,this.endAt=a,this.Vn=null,this.Un=null,this.startAt&&this.xn(this.startAt),this.endAt&&this.xn(this.endAt)}return t.jn=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.Vn){var t=this.Ln(),e=this.qn();if(null!==t&&null===e)this.Vn=t.st()?[de]:[new he(t),de];else{sn(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.Vn=[];for(var n=!1,i=0,r=this.On;i<r.length;i++){var s=r[i];this.Vn.push(s),s.field.st()&&(n=!0)}n||this.Vn.push((this.On.length>0?this.On[this.On.length-1].dir:ce.ASCENDING)===ce.ASCENDING?de:pe)}}return this.Vn},enumerable:!0,configurable:!0}),t.prototype.Bn=function(e){sn(null==this.Ln()||!(e instanceof ie)||!e.Mn()||e.field.isEqual(this.Ln()),"Query must only have one inequality field."),sn(!this.Nn(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.On.slice(),n,this.limit,this.Fn,this.startAt,this.endAt)},t.prototype.Qn=function(e){sn(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.On.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.Fn,this.startAt,this.endAt)},t.prototype.Gn=function(e){return new t(this.path,this.collectionGroup,this.On.slice(),this.filters.slice(),e,"F",this.startAt,this.endAt)},t.prototype.Wn=function(e){return new t(this.path,this.collectionGroup,this.On.slice(),this.filters.slice(),e,"L",this.startAt,this.endAt)},t.prototype.zn=function(e){return new t(this.path,this.collectionGroup,this.On.slice(),this.filters.slice(),this.limit,this.Fn,e,this.endAt)},t.prototype.Kn=function(e){return new t(this.path,this.collectionGroup,this.On.slice(),this.filters.slice(),this.limit,this.Fn,this.startAt,e)},t.prototype.Hn=function(e){return new t(e,null,this.On.slice(),this.filters.slice(),this.limit,this.Fn,this.startAt,this.endAt)},t.prototype.Jn=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.On.length||1===this.On.length&&this.On[0].field.st())},t.prototype.canonicalId=function(){return this.Yn().canonicalId()+"|lt:"+this.Fn},t.prototype.toString=function(){return"Query(target="+this.Yn().toString()+"; limitType="+this.Fn+")"},t.prototype.isEqual=function(t){return this.Yn().isEqual(t.Yn())&&this.Fn===t.Fn},t.prototype.Xn=function(t,e){for(var n=!1,i=0,r=this.orderBy;i<r.length;i++){var s=r[i],o=s.compare(t,e);if(0!==o)return o;n=n||s.field.st()}return sn(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.$n(t)&&this.Zn(t)&&this.ti(t)&&this.ni(t)},t.prototype.ii=function(){return!Yt(this.limit)&&"F"===this.Fn},t.prototype.ei=function(){return!Yt(this.limit)&&"L"===this.Fn},t.prototype.qn=function(){return this.On.length>0?this.On[0].field:null},t.prototype.Ln=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof ie&&n.Mn())return n.field}return null},t.prototype.ri=function(t){for(var e=0,n=this.filters;e<n.length;e++){var i=n[e];if(i instanceof ie&&t.indexOf(i.op)>=0)return i.op}return null},t.prototype.Nn=function(){return this.Yn().Nn()},t.prototype.ui=function(){return null!==this.collectionGroup},t.prototype.Yn=function(){if(!this.Un)if("F"===this.Fn)this.Un=new te(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var i=n[e];t.push(new he(i.field,i.dir===ce.DESCENDING?ce.ASCENDING:ce.DESCENDING))}var r=this.endAt?new ue(this.endAt.position,!this.endAt.before):null,s=this.startAt?new ue(this.startAt.position,!this.startAt.before):null;this.Un=new te(this.path,this.collectionGroup,t,this.filters,this.limit,r,s)}return this.Un},t.prototype.$n=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.at(this.collectionGroup)&&this.path.Z(e):ot.ct(this.path)?this.path.isEqual(e):this.path.tt(e)},t.prototype.Zn=function(t){for(var e=0,n=this.On;e<n.length;e++){var i=n[e];if(!i.field.st()&&null===t.field(i.field))return!1}return!0},t.prototype.ti=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.ni=function(t){return!(this.startAt&&!this.startAt.si(this.orderBy,t)||this.endAt&&this.endAt.si(this.orderBy,t))},t.prototype.xn=function(t){sn(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),ne=function(){function t(t){this.name=t}return t.et=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return rn("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),ie=function(t){function e(e,n,i){var r=t.call(this)||this;return r.field=e,r.op=n,r.value=i,r}return s.__extends(e,t),e.create=function(t,n,i){if(t.st())return n===ne.IN?(sn(i instanceof Ht,"Comparing on key with IN, but filter value not an ArrayValue"),sn(i.Jt.every((function(t){return t instanceof Ut})),"Comparing on key with IN, but an array value was not a RefValue"),new se(t,i)):(sn(i instanceof Ut,"Comparing on key, but filter value not a RefValue"),sn(n!==ne.ARRAY_CONTAINS&&n!==ne.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new re(t,n,i));if(i.isEqual(Ot.yn)){if(n!==ne.EQUAL)throw new p(d.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,i)}if(i.isEqual(Ft.Tn)){if(n!==ne.EQUAL)throw new p(d.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,i)}return n===ne.ARRAY_CONTAINS?new oe(t,i):n===ne.IN?(sn(i instanceof Ht,"IN filter has invalid value: "+i.toString()),new ae(t,i)):n===ne.ARRAY_CONTAINS_ANY?(sn(i instanceof Ht,"ARRAY_CONTAINS_ANY filter has invalid value: "+i.toString()),new le(t,i)):new e(t,n,i)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.pn===e.pn&&this.oi(e.B(this.value))},e.prototype.oi=function(t){switch(this.op){case ne.LESS_THAN:return t<0;case ne.LESS_THAN_OR_EQUAL:return t<=0;case ne.EQUAL:return 0===t;case ne.GREATER_THAN:return t>0;case ne.GREATER_THAN_OR_EQUAL:return t>=0;default:return rn("Unknown FieldFilter operator: "+this.op)}},e.prototype.Mn=function(){return[ne.LESS_THAN,ne.LESS_THAN_OR_EQUAL,ne.GREATER_THAN,ne.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.it()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.it()+" "+this.op+" "+this.value.value()},e}((function(){})),re=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.matches=function(t){var e=ot.W(t.key,this.value.key);return this.oi(e)},e}(ie),se=function(t){function e(e,n){var i=t.call(this,e,ne.IN,n)||this;return i.value=n,i}return s.__extends(e,t),e.prototype.matches=function(t){return this.value.Jt.some((function(e){return t.key.isEqual(e.key)}))},e}(ie),oe=function(t){function e(e,n){return t.call(this,e,ne.ARRAY_CONTAINS,n)||this}return s.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return e instanceof Ht&&e.contains(this.value)},e}(ie),ae=function(t){function e(e,n){var i=t.call(this,e,ne.IN,n)||this;return i.value=n,i}return s.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=t.field(this.field);return null!==n&&e.contains(n)},e}(ie),le=function(t){function e(e,n){var i=t.call(this,e,ne.ARRAY_CONTAINS_ANY,n)||this;return i.value=n,i}return s.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return n instanceof Ht&&n.Jt.some((function(t){return e.value.contains(t)}))},e}(ie),ce=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),ue=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.si=function(t,e){sn(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,i=0;i<this.position.length;i++){var r=t[i],s=this.position[i];if(r.field.st())sn(s instanceof Ut,"Bound has a non-key value where the key path is being used."),n=ot.W(s.key,e.key);else{var o=e.field(r.field);sn(null!==o,"Field should exist since document matched the orderBy already."),n=s.B(o)}if(r.dir===ce.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!this.position[e].isEqual(t.position[e]))return!1;return!0},t}(),he=function(){function t(t,e){this.field=t,void 0===e&&(e=ce.ASCENDING),this.dir=e,this.hi=t.st()}return t.prototype.compare=function(t,e){var n=this.hi?Wt.Rn(t,e):Wt.Pn(this.field,t,e);switch(this.dir){case ce.ASCENDING:return n;case ce.DESCENDING:return-1*n;default:return rn("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.it()+this.dir.toString()},t.prototype.toString=function(){return this.field.it()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),de=new he(st.ot(),ce.ASCENDING),pe=new he(st.ot(),ce.DESCENDING),fe=function(){function t(t,e,n,i,r,s,o){void 0===r&&(r=et.MIN),void 0===s&&(s=et.MIN),void 0===o&&(o=W.k),this.target=t,this.targetId=e,this.ci=n,this.sequenceNumber=i,this.ai=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.fi=function(e){return new t(this.target,this.targetId,this.ci,e,this.ai,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.li=function(e,n){return new t(this.target,this.targetId,this.ci,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.di=function(e){return new t(this.target,this.targetId,this.ci,this.sequenceNumber,this.ai,e,this.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.ci===t.ci&&this.sequenceNumber===t.sequenceNumber&&this.ai.isEqual(t.ai)&&this.lastLimboFreeSnapshotVersion.isEqual(t.lastLimboFreeSnapshotVersion)&&this.resumeToken.isEqual(t.resumeToken)&&this.target.isEqual(t.target)},t}(),me=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();function ge(t){switch(t){case d.OK:return rn("Treated status OK as error");case d.CANCELLED:case d.UNKNOWN:case d.DEADLINE_EXCEEDED:case d.RESOURCE_EXHAUSTED:case d.INTERNAL:case d.UNAVAILABLE:case d.UNAUTHENTICATED:return!1;case d.INVALID_ARGUMENT:case d.NOT_FOUND:case d.ALREADY_EXISTS:case d.PERMISSION_DENIED:case d.FAILED_PRECONDITION:case d.ABORTED:case d.OUT_OF_RANGE:case d.UNIMPLEMENTED:case d.DATA_LOSS:return!0;default:return rn("Unknown status code: "+t)}}function ye(t){if(void 0===t)return en("GRPC error has no .code"),d.UNKNOWN;switch(t){case Jt.OK:return d.OK;case Jt.CANCELLED:return d.CANCELLED;case Jt.UNKNOWN:return d.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return d.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return d.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return d.INTERNAL;case Jt.UNAVAILABLE:return d.UNAVAILABLE;case Jt.UNAUTHENTICATED:return d.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return d.INVALID_ARGUMENT;case Jt.NOT_FOUND:return d.NOT_FOUND;case Jt.ALREADY_EXISTS:return d.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return d.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return d.FAILED_PRECONDITION;case Jt.ABORTED:return d.ABORTED;case Jt.OUT_OF_RANGE:return d.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return d.UNIMPLEMENTED;case Jt.DATA_LOSS:return d.DATA_LOSS;default:return rn("Unknown status code: "+t)}}function ve(t){if(void 0===t)return Jt.OK;switch(t){case d.OK:return Jt.OK;case d.CANCELLED:return Jt.CANCELLED;case d.UNKNOWN:return Jt.UNKNOWN;case d.DEADLINE_EXCEEDED:return Jt.DEADLINE_EXCEEDED;case d.RESOURCE_EXHAUSTED:return Jt.RESOURCE_EXHAUSTED;case d.INTERNAL:return Jt.INTERNAL;case d.UNAVAILABLE:return Jt.UNAVAILABLE;case d.UNAUTHENTICATED:return Jt.UNAUTHENTICATED;case d.INVALID_ARGUMENT:return Jt.INVALID_ARGUMENT;case d.NOT_FOUND:return Jt.NOT_FOUND;case d.ALREADY_EXISTS:return Jt.ALREADY_EXISTS;case d.PERMISSION_DENIED:return Jt.PERMISSION_DENIED;case d.FAILED_PRECONDITION:return Jt.FAILED_PRECONDITION;case d.ABORTED:return Jt.ABORTED;case d.OUT_OF_RANGE:return Jt.OUT_OF_RANGE;case d.UNIMPLEMENTED:return Jt.UNIMPLEMENTED;case d.DATA_LOSS:return Jt.DATA_LOSS;default:return rn("Unknown status code: "+t)}}(Zt=Jt||(Jt={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";var _e=new at(ot.W);function be(){return _e}function we(){return be()}var xe=new at(ot.W);function Ce(){return xe}var Ee=new at(ot.W);function Se(){return Ee}var ke=new ht(ot.W);function Ie(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ke,i=0,r=t;i<r.length;i++){var s=r[i];n=n.add(s)}return n}var Ae=new ht(an);function Te(){return Ae}var Oe=function(){function t(t){this.W=t?function(e,n){return t(e,n)||ot.W(e.key,n.key)}:function(t,e){return ot.W(t.key,e.key)},this.vi=Ce(),this.wi=new at(this.W)}return t.mi=function(e){return new t(e.W)},t.prototype.has=function(t){return null!=this.vi.get(t)},t.prototype.get=function(t){return this.vi.get(t)},t.prototype.first=function(){return this.wi.wt()},t.prototype.last=function(){return this.wi.gt()},t.prototype.Y=function(){return this.wi.Y()},t.prototype.indexOf=function(t){var e=this.vi.get(t);return e?this.wi.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.wi.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.wi.bt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.vi.dt(t.key,t),e.wi.dt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.vi.remove(t),this.wi.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.wi.yt(),i=e.wi.yt();n.St();){var r=n.Rt().key,s=i.Rt().key;if(!r.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var i=new t;return i.W=this.W,i.vi=e,i.wi=n,i},t}(),De=function(){function t(){this.gi=new at(ot.W)}return t.prototype.track=function(t){var e=t.doc.key,n=this.gi.get(e);n?0!==t.type&&3===n.type?this.gi=this.gi.dt(e,t):3===t.type&&1!==n.type?this.gi=this.gi.dt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.gi=this.gi.dt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.gi=this.gi.dt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.gi=this.gi.remove(e):1===t.type&&2===n.type?this.gi=this.gi.dt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.gi=this.gi.dt(e,{type:2,doc:t.doc}):rn("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.gi=this.gi.dt(e,t)},t.prototype.bi=function(){var t=[];return this.gi.bt((function(e,n){t.push(n)})),t},t}(),Re=function(){function t(t,e,n,i,r,s,o,a){this.query=t,this.docs=e,this.pi=n,this.docChanges=i,this.yi=r,this.fromCache=s,this._i=o,this.Ii=a}return t.Ti=function(e,n,i,r){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,Oe.mi(n),s,i,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.yi.Y()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this._i===t._i&&this.yi.isEqual(t.yi)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.pi.isEqual(t.pi)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),Ne=function(){function t(t,e,n,i,r){this.ai=t,this.Ei=e,this.Di=n,this.Ri=i,this.Si=r}return t.Ai=function(e,n){var i,r=((i={})[e]=Pe.Ci(e,n),i);return new t(et.MIN,r,Te(),be(),Ie())},t}(),Pe=function(){function t(t,e,n,i,r){this.resumeToken=t,this.Pi=e,this.ki=n,this.Ni=i,this.Oi=r}return t.Ci=function(e,n){return new t(W.k,n,Ie(),Ie(),Ie())},t}(),Fe=function(t,e,n,i){this.Fi=t,this.removedTargetIds=e,this.key=n,this.Vi=i},Me=function(t,e){this.targetId=t,this.Ui=e},Le=function(t,e,n,i){void 0===n&&(n=W.k),void 0===i&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},Ve=function(){function t(){this.xi=0,this.ji=Be(),this.Li=W.k,this.qi=!1,this.Bi=!0}return Object.defineProperty(t.prototype,"Pi",{get:function(){return this.qi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Li},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Mi",{get:function(){return 0!==this.xi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Qi",{get:function(){return this.Bi},enumerable:!0,configurable:!0}),t.prototype.Gi=function(t){t.P()>0&&(this.Bi=!0,this.Li=t)},t.prototype.Wi=function(){var t=Ie(),e=Ie(),n=Ie();return this.ji.forEach((function(i,r){switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:rn("Encountered invalid change type: "+r)}})),new Pe(this.Li,this.qi,t,e,n)},t.prototype.zi=function(){this.Bi=!1,this.ji=Be()},t.prototype.Ki=function(t,e){this.Bi=!0,this.ji=this.ji.dt(t,e)},t.prototype.Hi=function(t){this.Bi=!0,this.ji=this.ji.remove(t)},t.prototype.Ji=function(){this.xi+=1},t.prototype.Yi=function(){this.xi-=1},t.prototype.Xi=function(){this.Bi=!0,this.qi=!0},t}(),je=function(){function t(t){this.$i=t,this.Zi={},this.te=be(),this.ne=Ue(),this.ie=new ht(an)}return t.prototype.ee=function(t){for(var e=0,n=t.Fi;e<n.length;e++){var i=n[e];t.Vi instanceof Wt?this.re(i,t.Vi):t.Vi instanceof $t&&this.ue(i,t.key,t.Vi)}for(var r=0,s=t.removedTargetIds;r<s.length;r++)this.ue(i=s[r],t.key,t.Vi)},t.prototype.se=function(t){var e=this;this.oe(t,(function(n){var i=e.he(n);switch(t.state){case 0:e.ce(n)&&i.Gi(t.resumeToken);break;case 1:i.Yi(),i.Mi||i.zi(),i.Gi(t.resumeToken);break;case 2:i.Yi(),i.Mi||e.removeTarget(n),sn(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case 3:e.ce(n)&&(i.Xi(),i.Gi(t.resumeToken));break;case 4:e.ce(n)&&(e.ae(n),i.Gi(t.resumeToken));break;default:rn("Unknown target watch change state: "+t.state)}}))},t.prototype.oe=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):C(this.Zi,e)},t.prototype.fe=function(t){var e=t.targetId,n=t.Ui.count,i=this.le(e);if(i){var r=i.target;if(r.Nn())if(0===n){var s=new ot(r.path);this.ue(e,s,new $t(s,et.q()))}else sn(1===n,"Single document existence filter with count: "+n);else this.de(e)!==n&&(this.ae(e),this.ie=this.ie.add(e))}},t.prototype.ve=function(t){var e=this,n={};C(this.Zi,(function(i,r){var s=e.le(i);if(s){if(r.Pi&&s.target.Nn()){var o=new ot(s.target.path);null!==e.te.get(o)||e.we(i,o)||e.ue(i,o,new $t(o,t))}r.Qi&&(n[i]=r.Wi(),r.zi())}}));var i=Ie();this.ne.forEach((function(t,n){var r=!0;n.Bt((function(t){var n=e.le(t);return!n||2===n.ci||(r=!1,!1)})),r&&(i=i.add(t))}));var r=new Ne(t,n,this.ie,this.te,i);return this.te=be(),this.ne=Ue(),this.ie=new ht(an),r},t.prototype.re=function(t,e){if(this.ce(t)){var n=this.we(t,e.key)?2:0;this.he(t).Ki(e.key,n),this.te=this.te.dt(e.key,e),this.ne=this.ne.dt(e.key,this.me(e.key).add(t))}},t.prototype.ue=function(t,e,n){if(this.ce(t)){var i=this.he(t);this.we(t,e)?i.Ki(e,1):i.Hi(e),this.ne=this.ne.dt(e,this.me(e).delete(t)),n&&(this.te=this.te.dt(e,n))}},t.prototype.removeTarget=function(t){delete this.Zi[t]},t.prototype.de=function(t){var e=this.he(t).Wi();return this.$i.ge(t).size+e.ki.size-e.Oi.size},t.prototype.Ji=function(t){this.he(t).Ji()},t.prototype.he=function(t){return this.Zi[t]||(this.Zi[t]=new Ve),this.Zi[t]},t.prototype.me=function(t){var e=this.ne.get(t);return e||(e=new ht(an),this.ne=this.ne.dt(t,e)),e},t.prototype.ce=function(t){var e=null!==this.le(t);return e||tn("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.le=function(t){var e=this.Zi[t];return e&&e.Mi?null:this.$i.be(t)},t.prototype.ae=function(t){var e=this;sn(!this.Zi[t].Mi,"Should only reset active targets"),this.Zi[t]=new Ve,this.$i.ge(t).forEach((function(n){e.ue(t,n,null)}))},t.prototype.we=function(t,e){return this.$i.ge(t).has(e)},t}();function Ue(){return new at(ot.W)}function Be(){return new at(ot.W)}var qe,ze,He=((qe={})[ce.ASCENDING.name]="ASCENDING",qe[ce.DESCENDING.name]="DESCENDING",qe),Ge=((ze={})[ne.LESS_THAN.name]="LESS_THAN",ze[ne.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",ze[ne.GREATER_THAN.name]="GREATER_THAN",ze[ne.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",ze[ne.EQUAL.name]="EQUAL",ze[ne.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",ze[ne.IN.name]="IN",ze[ne.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",ze),We=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $e(t,e){sn(!Yt(t),e+" is missing")}function Ke(t){return"number"==typeof t?t:"string"==typeof t?Number(t):rn("can't parse "+t)}var Ye=function(){function t(t,e){this.Dn=t,this.options=e}return t.prototype.pe=function(t){var e=void 0===t.code?d.UNKNOWN:ye(t.code);return new p(e,t.message||"")},t.prototype.ye=function(t){return this.options._e||Yt(t)?t:{value:t}},t.prototype.Ie=function(t){var e;return Yt(e="object"==typeof t?t.value:t)?null:e},t.prototype.G=function(t){return this.options._e?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.L=function(t){if("string"==typeof t)return this.Te(t);sn(!!t,"Cannot deserialize null or undefined timestamp.");var e=Ke(t.seconds||"0");return new tt(e,t.nanos||0)},t.prototype.Te=function(t){var e=0,n=We.exec(t);if(sn(!!n,"invalid timestamp: "+t),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t),s=Math.floor(r.getTime()/1e3);return new tt(s,e)},t.prototype.Ee=function(t){return this.options._e?t.toBase64():t.toUint8Array()},t.prototype.De=function(t){return this.options._e?(sn(void 0===t||"string"==typeof t,"value must be undefined or a string when using proto3 Json"),W.fromBase64String(t||"")):(sn(void 0===t||t instanceof Uint8Array,"value must be undefined or Uint8Array"),W.fromUint8Array(t||new Uint8Array))},t.prototype.Re=function(t){return"string"==typeof t?(sn(this.options._e,"Expected bytes to be passed in as Uint8Array, but got a string instead."),X.fromBase64String(t)):(sn(!this.options._e,"Expected bytes to be passed in as Uint8Array, but got a string instead."),X.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.G(t.G())},t.prototype.fromVersion=function(t){return sn(!!t,"Trying to deserialize version that isn't set"),et.L(this.L(t))},t.prototype.Se=function(t,e){return this.Ae(t).child("documents").child(e).it()},t.prototype.Ce=function(t){var e=it.et(t);return sn(this.Pe(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.ke=function(t){return this.Se(this.Dn,t.path)},t.prototype.Ne=function(t){var e=this.Ce(t);return sn(e.get(1)===this.Dn.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.Dn.projectId),sn(!e.get(3)&&!this.Dn.database||e.get(3)===this.Dn.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.Dn.database),new ot(this.Oe(e))},t.prototype.Fe=function(t){return this.Se(this.Dn,t)},t.prototype.Ve=function(t){var e=this.Ce(t);return 4===e.length?it.rt:this.Oe(e)},Object.defineProperty(t.prototype,"Ue",{get:function(){return new it(["projects",this.Dn.projectId,"databases",this.Dn.database]).it()},enumerable:!0,configurable:!0}),t.prototype.Ae=function(t){return new it(["projects",t.projectId,"databases",t.database])},t.prototype.Oe=function(t){return sn(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.H(5)},t.prototype.Pe=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.xe=function(t){if(t instanceof Ot)return{nullValue:"NULL_VALUE"};if(t instanceof Dt)return{booleanValue:t.value()};if(t instanceof Pt)return{integerValue:""+t.value()};if(t instanceof Ft){var e=t.value();if(this.options._e){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"};if(Qt(e))return{doubleValue:"-0"}}return{doubleValue:t.value()}}return t instanceof Mt?{stringValue:t.value()}:t instanceof qt?{mapValue:this.je(t)}:t instanceof Ht?{arrayValue:this.Le(t)}:t instanceof Lt?{timestampValue:this.G(t.Jt)}:t instanceof Bt?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof jt?{bytesValue:this.Ee(t.value())}:t instanceof Ut?{referenceValue:this.Se(t.Dn,t.key.path)}:rn("Unknown FieldValue "+JSON.stringify(t))},t.prototype.qe=function(t){var e=this;if("nullValue"in t)return Ot.yn;if("booleanValue"in t)return Dt.of(t.booleanValue);if("integerValue"in t)return new Pt(Ke(t.integerValue));if("doubleValue"in t){if(this.options._e){if("NaN"===t.doubleValue)return Ft.Tn;if("Infinity"===t.doubleValue)return Ft.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Ft.NEGATIVE_INFINITY;if("-0"===t.doubleValue)return new Ft(-0)}return new Ft(t.doubleValue)}if("stringValue"in t)return new Mt(t.stringValue);if("mapValue"in t)return this.Be(t.mapValue.fields||{});if("arrayValue"in t)return $e(t.arrayValue,"arrayValue"),new Ht((t.arrayValue.values||[]).map((function(t){return e.qe(t)})));if("timestampValue"in t)return $e(t.timestampValue,"timestampValue"),new Lt(this.L(t.timestampValue));if("geoPointValue"in t)return $e(t.geoPointValue,"geoPointValue"),new Bt(new Z(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if("bytesValue"in t){$e(t.bytesValue,"bytesValue");var n=this.Re(t.bytesValue);return new jt(n)}if("referenceValue"in t){$e(t.referenceValue,"referenceValue");var i=this.Ce(t.referenceValue),r=new hn(i.get(1),i.get(3)),s=new ot(this.Oe(i));return new Ut(r,s)}return rn("Unknown Value proto "+JSON.stringify(t))},t.prototype.Me=function(t,e){return{name:this.ke(t),fields:this.Qe(e)}},t.prototype.Ge=function(t){return sn(!t.rn,"Can't serialize documents with mutations."),{name:this.ke(t.key),fields:this.Qe(t.data()),updateTime:this.G(t.version.G())}},t.prototype.We=function(t,e){var n=this,i=this.Ne(t.name),r=this.fromVersion(t.updateTime);return new Wt(i,r,{hasCommittedMutations:!!e},void 0,t,(function(t){return n.qe(t)}))},t.prototype.Qe=function(t){var e=this,n={};return t.forEach((function(t,i){n[t]=e.xe(i)})),n},t.prototype.Be=function(t){var e=this,n=t,i=qt.wn();return E(n,(function(t,n){i.set(new st([t]),e.qe(n))})),i.an()},t.prototype.je=function(t){return{fields:this.Qe(t)}},t.prototype.Le=function(t){var e=this,n=[];return t.forEach((function(t){n.push(e.xe(t))})),{values:n}},t.prototype.ze=function(t){var e=this;sn(!!t.found,"Tried to deserialize a found document from a missing document."),$e(t.found.name,"doc.found.name"),$e(t.found.updateTime,"doc.found.updateTime");var n=this.Ne(t.found.name),i=this.fromVersion(t.found.updateTime);return new Wt(n,i,{},void 0,t.found,(function(t){return e.qe(t)}))},t.prototype.Ke=function(t){sn(!!t.missing,"Tried to deserialize a missing document from a found document."),sn(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.Ne(t.missing),n=this.fromVersion(t.readTime);return new $t(e,n)},t.prototype.He=function(t){return"found"in t?this.ze(t):"missing"in t?this.Ke(t):rn("invalid batch get response: "+JSON.stringify(t))},t.prototype.Je=function(t){switch(t){case 1:return"ADD";case 3:return"CURRENT";case 0:return"NO_CHANGE";case 2:return"REMOVE";case 4:return"RESET";default:return rn("Unknown WatchTargetChangeState: "+t)}},t.prototype.Ye=function(t){if(t instanceof Me)return{filter:{count:t.Ui.count,targetId:t.targetId}};if(t instanceof Fe){if(t.Vi instanceof Wt){var e=t.Vi;return{documentChange:{document:{name:this.ke(e.key),fields:this.Qe(e.data()),updateTime:this.toVersion(e.version)},targetIds:t.Fi,removedTargetIds:t.removedTargetIds}}}if(t.Vi instanceof $t)return{documentDelete:{document:this.ke((e=t.Vi).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.Vi)return{documentRemove:{document:this.ke(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Le){var n=void 0;return t.cause&&(n={code:ve(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.Je(t.state),targetIds:t.targetIds,resumeToken:this.Ee(t.resumeToken),cause:n}}}return rn("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.Xe=function(t){var e,n=this;if("targetChange"in t){$e(t.targetChange,"targetChange");var i=this.$e(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=this.De(t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&this.pe(o);e=new Le(i,r,s,a||null)}else if("documentChange"in t){$e(t.documentChange,"documentChange");var l=t.documentChange;$e(l.document,"documentChange.name"),$e(l.document.name,"documentChange.document.name"),$e(l.document.updateTime,"documentChange.document.updateTime");var c=this.Ne(l.document.name),u=this.fromVersion(l.document.updateTime),h=new Wt(c,u,{},void 0,l.document,(function(t){return n.qe(t)})),d=l.removedTargetIds||[];e=new Fe(l.targetIds||[],d,h.key,h)}else if("documentDelete"in t){$e(t.documentDelete,"documentDelete");var p=t.documentDelete;$e(p.document,"documentDelete.document"),c=this.Ne(p.document),u=p.readTime?this.fromVersion(p.readTime):et.q(),h=new $t(c,u),e=new Fe([],d=p.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){$e(t.documentRemove,"documentRemove");var f=t.documentRemove;$e(f.document,"documentRemove"),c=this.Ne(f.document),e=new Fe([],d=f.removedTargetIds||[],c,null)}else{if(!("filter"in t))return rn("Unknown change type "+JSON.stringify(t));$e(t.filter,"filter");var m=t.filter;$e(m.targetId,"filter.targetId");var g=new me(m.count||0);e=new Me(m.targetId,g)}return e},t.prototype.$e=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:rn("Got unexpected TargetChange.state: "+t)},t.prototype.Ze=function(t){if(!("targetChange"in t))return et.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?et.MIN:e.readTime?this.fromVersion(e.readTime):et.MIN},t.prototype.tr=function(t){var e,n=this;if(t instanceof Ct)e={update:this.Me(t.key,t.value)};else if(t instanceof kt)e={delete:this.ke(t.key)};else if(t instanceof Et)e={update:this.Me(t.key,t.data),updateMask:this.nr(t.sn)};else if(t instanceof St)e={transform:{document:this.ke(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.ir(t)}))}};else{if(!(t instanceof It))return rn("Unknown mutation type "+t.type);e={verify:this.ke(t.key)}}return t.en.Zt||(e.currentDocument=this.er(t.en)),e},t.prototype.rr=function(t){var e=this,n=t.currentDocument?this.ur(t.currentDocument):wt.NONE;if(t.update){$e(t.update.name,"name");var i=this.Ne(t.update.name),r=this.Be(t.update.fields||{});if(t.updateMask){var s=this.sr(t.updateMask);return new Et(i,r,s,n)}return new Ct(i,r,n)}if(t.delete)return i=this.Ne(t.delete),new kt(i,n);if(t.transform){i=this.Ne(t.transform.document);var o=t.transform.fieldTransforms.map((function(t){return e.or(t)}));return sn(!0===n.exists,'Transforms only support precondition "exists == true"'),new St(i,o)}return t.verify?(i=this.Ne(t.verify),new It(i,n)):rn("unknown mutation proto: "+JSON.stringify(t))},t.prototype.er=function(t){return sn(!t.Zt,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:rn("Unknown precondition")},t.prototype.ur=function(t){return void 0!==t.updateTime?wt.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?wt.exists(t.exists):wt.NONE},t.prototype.hr=function(t,e){var n=this,i=this.fromVersion(t.updateTime?t.updateTime:e);i.isEqual(et.MIN)&&(i=this.fromVersion(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults.map((function(t){return n.qe(t)}))),new bt(i,r)},t.prototype.cr=function(t,e){var n=this;return t&&t.length>0?(sn(void 0!==e,"Received a write result without a commit time"),t.map((function(t){return n.hr(t,e)}))):[]},t.prototype.ir=function(t){var e=this,n=t.transform;if(n instanceof pt)return{fieldPath:t.field.it(),setToServerValue:"REQUEST_TIME"};if(n instanceof ft)return{fieldPath:t.field.it(),appendMissingElements:{values:n.elements.map((function(t){return e.xe(t)}))}};if(n instanceof mt)return{fieldPath:t.field.it(),removeAllFromArray:{values:n.elements.map((function(t){return e.xe(t)}))}};if(n instanceof gt)return{fieldPath:t.field.it(),increment:this.xe(n.Ht)};throw rn("Unknown transform: "+t.transform)},t.prototype.or=function(t){var e=this,n=null;if("setToServerValue"in t)sn("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=pt.instance;else if("appendMissingElements"in t){var i=t.appendMissingElements.values||[];n=new ft(i.map((function(t){return e.qe(t)})))}else if("removeAllFromArray"in t)n=new mt((i=t.removeAllFromArray.values||[]).map((function(t){return e.qe(t)})));else if("increment"in t){var r=this.qe(t.increment);sn(r instanceof Rt,"NUMERIC_ADD transform requires a NumberValue"),n=new gt(r)}else rn("Unknown transform proto: "+JSON.stringify(t));var s=st.ht(t.fieldPath);return new _t(s,n)},t.prototype.ar=function(t){return{documents:[this.Fe(t.path)]}},t.prototype.lr=function(t){var e=t.documents.length;return sn(1===e,"DocumentsTarget contained other than 1 document: "+e),ee.jn(this.Ve(t.documents[0])).Yn()},t.prototype.dr=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(sn(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.Fe(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(sn(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.Fe(n.J()),e.structuredQuery.from=[{collectionId:n.$()}]);var i=this.vr(t.filters);i&&(e.structuredQuery.where=i);var r=this.wr(t.orderBy);r&&(e.structuredQuery.orderBy=r);var s=this.ye(t.limit);return null!==s&&(e.structuredQuery.limit=s),t.startAt&&(e.structuredQuery.startAt=this.mr(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.mr(t.endAt)),e},t.prototype.gr=function(t){var e=this.Ve(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){sn(1===i,"StructuredQuery.from with more than one collection is not supported.");var s=n.from[0];s.allDescendants?r=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=this.br(n.where));var a=[];n.orderBy&&(a=this.pr(n.orderBy));var l=null;n.limit&&(l=this.Ie(n.limit));var c=null;n.startAt&&(c=this.yr(n.startAt));var u=null;return n.endAt&&(u=this.yr(n.endAt)),new ee(e,r,a,o,l,"F",c,u).Yn()},t.prototype._r=function(t){var e=this.Ir(t.ci);return null==e?null:{"goog-listen-tags":e}},t.prototype.Ir=function(t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rn("Unrecognized query purpose: "+t)}},t.prototype.Yn=function(t){var e,n=t.target;return(e=n.Nn()?{documents:this.ar(n)}:{query:this.dr(n)}).targetId=t.targetId,t.resumeToken.P()>0&&(e.resumeToken=this.Ee(t.resumeToken)),e},t.prototype.vr=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof ie?e.Tr(t):rn("Unrecognized filter: "+JSON.stringify(t))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.br=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.Er(t)]:void 0!==t.fieldFilter?[this.Dr(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.br(t)})).reduce((function(t,e){return t.concat(e)})):rn("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.wr=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.Rr(t)}))},t.prototype.pr=function(t){var e=this;return t.map((function(t){return e.Sr(t)}))},t.prototype.mr=function(t){var e=this;return{before:t.before,values:t.position.map((function(t){return e.xe(t)}))}},t.prototype.yr=function(t){var e=this,n=!!t.before,i=t.values.map((function(t){return e.qe(t)}));return new ue(i,n)},t.prototype.Ar=function(t){return He[t.name]},t.prototype.Cr=function(t){switch(t){case"ASCENDING":return ce.ASCENDING;case"DESCENDING":return ce.DESCENDING;default:return}},t.prototype.Pr=function(t){return Ge[t.name]},t.prototype.kr=function(t){switch(t){case"EQUAL":return ne.EQUAL;case"GREATER_THAN":return ne.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return ne.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return ne.LESS_THAN;case"LESS_THAN_OR_EQUAL":return ne.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return ne.ARRAY_CONTAINS;case"IN":return ne.IN;case"ARRAY_CONTAINS_ANY":return ne.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return rn("Unspecified operator");default:return rn("Unknown operator")}},t.prototype.Nr=function(t){return{fieldPath:t.it()}},t.prototype.Or=function(t){return st.ht(t.fieldPath)},t.prototype.Rr=function(t){return{field:this.Nr(t.field),direction:this.Ar(t.dir)}},t.prototype.Sr=function(t){return new he(this.Or(t.field),this.Cr(t.direction))},t.prototype.Dr=function(t){return ie.create(this.Or(t.fieldFilter.field),this.kr(t.fieldFilter.op),this.qe(t.fieldFilter.value))},t.prototype.Tr=function(t){if(t.op===ne.EQUAL){if(t.value.isEqual(Ft.Tn))return{unaryFilter:{field:this.Nr(t.field),op:"IS_NAN"}};if(t.value.isEqual(Ot.yn))return{unaryFilter:{field:this.Nr(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.Nr(t.field),op:this.Pr(t.op),value:this.xe(t.value)}}},t.prototype.Er=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.Or(t.unaryFilter.field);return ie.create(e,ne.EQUAL,Ft.Tn);case"IS_NULL":var n=this.Or(t.unaryFilter.field);return ie.create(n,ne.EQUAL,Ot.yn);case"OPERATOR_UNSPECIFIED":return rn("Unspecified filter");default:return rn("Unknown filter")}},t.prototype.nr=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.it())})),{fieldPaths:e}},t.prototype.sr=function(t){var e=(t.fieldPaths||[]).map((function(t){return st.ht(t)}));return vt.Xt(e)},t}(),Qe=function(){function t(){}return t.Fr=function(e){t.platform&&rn("Platform already defined"),t.platform=e},t.C=function(){return t.platform||rn("Platform not set"),t.platform},t}(),Xe=new o.Logger("@firebase/firestore");function Je(){return Xe.logLevel===o.LogLevel.DEBUG?0:Xe.logLevel===o.LogLevel.SILENT?2:1}function Ze(t){switch(t){case 0:Xe.logLevel=o.LogLevel.DEBUG;break;case 1:Xe.logLevel=o.LogLevel.ERROR;break;case 2:Xe.logLevel=o.LogLevel.SILENT;break;default:Xe.error("Firestore ("+u+"): Invalid value passed to `setLogLevel`")}}function tn(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(Xe.logLevel<=o.LogLevel.DEBUG){var r=n.map(nn);Xe.debug.apply(Xe,s.__spreadArrays(["Firestore ("+u+") ["+t+"]: "+e],r))}}function en(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xe.logLevel<=o.LogLevel.ERROR){var i=e.map(nn);Xe.error.apply(Xe,s.__spreadArrays(["Firestore ("+u+"): "+t],i))}}function nn(t){if("string"==typeof t)return t;var e=Qe.C();try{return e.Vr(t)}catch(e){return t}}function rn(t){var e="FIRESTORE ("+u+") INTERNAL ASSERTION FAILED: "+t;throw en(e),new Error(e)}function sn(t,e){t||rn(e)}var on=function(){function t(){}return t.Ur=function(){for(var t="";t.length<20;)Qe.C().randomBytes(40).forEach((function(e){t.length<20&&e<=247&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(e%62))}));return sn(20===t.length,"Invalid auto ID: "+t),t},t}();function an(t,e){return t<e?-1:t>e?1:0}function ln(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function cn(t){return t+"\0"}var un=function(t,e,n,i,r){this.Dn=t,this.persistenceKey=e,this.host=n,this.ssl=i,this.forceLongPolling=r},hn=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"xr",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.B=function(t){return an(this.projectId,t.projectId)||an(this.database,t.database)},t}(),dn=function(){function t(t,e,n,i){this.batchId=t,this.En=e,this.baseMutations=n,this.mutations=i,sn(i.length>0,"Cannot create an empty mutation batch")}return t.prototype.zt=function(t,e,n){e&&sn(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var i=n.jr;sn(i.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+i.length+").");for(var r=0;r<this.mutations.length;r++){var s=this.mutations[r];s.key.isEqual(t)&&(e=s.zt(e,i[r]))}return e},t.prototype.Wt=function(t,e){e&&sn(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(t)&&(e=a.Wt(e,e,this.En));for(var r=e,s=0,o=this.mutations;s<o.length;s++){var a;(a=o[s]).key.isEqual(t)&&(e=a.Wt(e,r,this.En))}return e},t.prototype.Lr=function(t){var e=this,n=t;return this.mutations.forEach((function(i){var r=e.Wt(i.key,t.get(i.key));r&&(n=n.dt(i.key,r))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Ie())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ln(this.mutations,t.mutations)&&ln(this.baseMutations,t.baseMutations)},t}(),pn=function(){function t(t,e,n,i,r){this.batch=t,this.qr=e,this.jr=n,this.streamToken=i,this.Br=r}return t.from=function(e,n,i,r){sn(e.mutations.length===i.length,"Mutations sent "+e.mutations.length+" must equal results received "+i.length);for(var s=Se(),o=e.mutations,a=0;a<o.length;a++)s=s.dt(o[a].key,i[a].version);return new t(e,n,i,r,s)},t}(),fn=function(){function t(t){this.Mr=t,this.Qr={}}return t.prototype.get=function(t){var e=this.Mr(t),n=this.Qr[e];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var s=r[i],o=s[1];if(s[0].isEqual(t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Mr(t),i=this.Qr[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(i[r][0].isEqual(t))return void(i[r]=[t,e]);i.push([t,e])}else this.Qr[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Mr(t),n=this.Qr[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(n[i][0].isEqual(t))return 1===n.length?delete this.Qr[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){E(this.Qr,(function(e,n){for(var i=0,r=n;i<r.length;i++){var s=r[i];t(s[0],s[1])}}))},t.prototype.Y=function(){return S(this.Qr)},t}(),mn=function(){function t(t,e,n,i){this.targetId=t,this.fromCache=e,this.Gr=n,this.Wr=i}return t.zr=function(e,n){for(var i=Ie(),r=Ie(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new t(e,n.fromCache,i,r)},t}(),gn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.Kr=function(t){return n.Hr(t)},this.Jr=function(t){return e.Yr(t)})}return t.prototype.Hr=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.Jr&&this.Jr(t),t},t.Xr=-1,t}(),yn=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},vn=function(){function t(t,e,n,i,r){this.$r=t,this.Zr=e,this.tu=n,this.op=i,this.nu=r,this.iu=new yn,this.then=this.iu.promise.then.bind(this.iu.promise),this.catch=this.iu.promise.catch.bind(this.iu.promise),this.iu.promise.catch((function(t){}))}return t.eu=function(e,n,i,r,s){var o=new t(e,n,Date.now()+i,r,s);return o.start(i),o},t.prototype.start=function(t){var e=this;this.ru=setTimeout((function(){return e.uu()}),t)},t.prototype.su=function(){return this.uu()},t.prototype.cancel=function(t){null!==this.ru&&(this.clearTimeout(),this.iu.reject(new p(d.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.uu=function(){var t=this;this.$r.ou((function(){return null!==t.ru?(t.clearTimeout(),t.op().then((function(e){return t.iu.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.ru&&(this.nu(this),clearTimeout(this.ru),this.ru=null)},t}(),_n=function(){function t(){this.hu=Promise.resolve(),this.cu=!1,this.au=[],this.fu=null,this.lu=!1,this.du=[]}return Object.defineProperty(t.prototype,"vu",{get:function(){return this.cu},enumerable:!0,configurable:!0}),t.prototype.ou=function(t){this.enqueue(t)},t.prototype.wu=function(t){this.mu(),this.gu(t)},t.prototype.bu=function(t){return this.mu(),this.gu(t)},t.prototype.pu=function(t){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return this.mu(),this.cu?[3,2]:(this.cu=!0,[4,this.bu(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.mu(),this.cu?new Promise((function(t){})):this.gu(t)},t.prototype.gu=function(t){var e=this,n=this.hu.then((function(){return e.lu=!0,t().catch((function(t){e.fu=t,e.lu=!1;var n=t.stack||t.message||"";throw en("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw t}),0),t})).then((function(t){return e.lu=!1,t}))}));return this.hu=n,n},t.prototype.yu=function(t,e,n){var i=this;this.mu(),sn(e>=0,"Attempted to schedule an operation with a negative delay of "+e),this.du.indexOf(t)>-1&&(e=0);var r=vn.eu(this,t,e,n,(function(t){return i._u(t)}));return this.au.push(r),r},t.prototype.mu=function(){this.fu&&rn("AsyncQueue is already failed: "+(this.fu.stack||this.fu.message))},t.prototype.Iu=function(){sn(this.lu,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.Tu=function(){return s.__awaiter(this,void 0,void 0,(function(){var t;return s.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.hu];case 1:e.sent(),e.label=2;case 2:if(t!==this.hu)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Eu=function(t){for(var e=0,n=this.au;e<n.length;e++)if(n[e].Zr===t)return!0;return!1},t.prototype.Du=function(t){var e=this;return this.Tu().then((function(){sn("all"===t||e.Eu(t),"Attempted to drain to missing operation "+t),e.au.sort((function(t,e){return t.tu-e.tu}));for(var n=0,i=e.au;n<i.length;n++){var r=i[n];if(r.su(),"all"!==t&&r.Zr===t)break}return e.Tu()}))},t.prototype.Ru=function(t){this.du.push(t)},t.prototype._u=function(t){var e=this.au.indexOf(t);sn(e>=0,"Delayed operation not found."),this.au.splice(e,1)},t}(),bn=function(){function t(t){var e=this;this.Su=null,this.Au=null,this.result=void 0,this.error=void 0,this.Cu=!1,this.Pu=!1,t((function(t){e.Cu=!0,e.result=t,e.Su&&e.Su(t)}),(function(t){e.Cu=!0,e.error=t,e.Au&&e.Au(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var i=this;return this.Pu&&rn("Called next() or catch() twice for PersistencePromise"),this.Pu=!0,this.Cu?this.error?this.ku(n,this.error):this.Nu(e,this.result):new t((function(t,r){i.Su=function(n){i.Nu(e,n).next(t,r)},i.Au=function(e){i.ku(n,e).next(t,r)}}))},t.prototype.Ou=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Fu=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Nu=function(e,n){return e?this.Fu((function(){return e(n)})):t.resolve(n)},t.prototype.ku=function(e,n){return e?this.Fu((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Vu=function(e){return new t((function(t,n){var i=0,r=0,s=!1;e.forEach((function(e){++i,e.next((function(){++r,s&&r===i&&t()}),(function(t){return n(t)}))})),s=!0,r===i&&t()}))},t.Uu=function(e){for(var n=t.resolve(!1),i=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},r=0,s=e;r<s.length;r++)i(s[r]);return n},t.forEach=function(t,e){var n=this,i=[];return t.forEach((function(t,r){i.push(e.call(n,t,r))})),this.Vu(i)},t}();function wn(t,e){var n=t[1],i=e[1],r=an(t[0],e[0]);return 0===r?an(n,i):r}var xn=function(){function t(t){this.xu=t,this.buffer=new ht(wn),this.ju=0}return t.prototype.Lu=function(){return++this.ju},t.prototype.qu=function(t){var e=[t,this.Lu()];if(this.buffer.size<this.xu)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();wn(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Cn={Bu:!1,Mu:0,Qu:0,Gu:0},En=function(){function t(t,e,n){this.Wu=t,this.zu=e,this.Ku=n}return t.Hu=function(e){return new t(e,t.Ju,t.Yu)},t.Xu=-1,t.$u=1048576,t.ts=new t(t.Zu=41943040,t.Ju=10,t.Yu=1e3),t.DISABLED=new t(t.Xu,0,0),t}(),Sn=function(){function t(t,e){this.ns=t,this.$r=e,this.es=!1,this.rs=null}return t.prototype.start=function(t){sn(null===this.rs,"Cannot start an already started LruScheduler"),this.ns.params.Wu!==En.Xu&&this.us(t)},t.prototype.stop=function(){this.rs&&(this.rs.cancel(),this.rs=null)},Object.defineProperty(t.prototype,"ss",{get:function(){return null!==this.rs},enumerable:!0,configurable:!0}),t.prototype.us=function(t){var e=this;sn(null===this.rs,"Cannot schedule GC while a task is pending");var n=this.es?3e5:6e4;tn("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.rs=this.$r.yu("lru_garbage_collection",n,(function(){return e.rs=null,e.es=!0,t.os(e.ns).then((function(){return e.us(t)})).catch(Dn)}))},t}(),kn=function(){function t(t,e){this.hs=t,this.params=e}return t.prototype.cs=function(t,e){return this.hs.as(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.fs=function(t,e){var n=this;if(0===e)return bn.resolve(gn.Xr);var i=new xn(e);return this.hs.oe(t,(function(t){return i.qu(t.sequenceNumber)})).next((function(){return n.hs.ls(t,(function(t){return i.qu(t)}))})).next((function(){return i.maxValue}))},t.prototype.ds=function(t,e,n){return this.hs.ds(t,e,n)},t.prototype.vs=function(t,e){return this.hs.vs(t,e)},t.prototype.ws=function(t,e){var n=this;return this.params.Wu===En.Xu?(tn("LruGarbageCollector","Garbage collection skipped; disabled"),bn.resolve(Cn)):this.ms(t).next((function(i){return i<n.params.Wu?(tn("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.params.Wu),Cn):n.gs(t,e)}))},t.prototype.ms=function(t){return this.hs.ms(t)},t.prototype.gs=function(t,e){var n,i,r,s,o,a,l,c=this,u=Date.now();return this.cs(t,this.params.zu).next((function(e){return e>c.params.Ku?(tn("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ku+" from "+e),i=c.params.Ku):i=e,s=Date.now(),c.fs(t,i)})).next((function(i){return n=i,o=Date.now(),c.ds(t,n,e)})).next((function(e){return r=e,a=Date.now(),c.vs(t,n)})).next((function(t){return l=Date.now(),Je()<=0&&tn("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-u)+"ms\n\tDetermined least recently used "+i+" in "+(o-s)+"ms\n\tRemoved "+r+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(l-a)+"ms\nTotal Duration: "+(l-u)+"ms"),bn.resolve({Bu:!0,Mu:i,Qu:r,Gu:t})}))},t}(),In=function(){function t(){this.bs=new ht(An.Rn),this.ps=new ht(An.ys)}return t.prototype.Y=function(){return this.bs.Y()},t.prototype._s=function(t,e){var n=new An(t,e);this.bs=this.bs.add(n),this.ps=this.ps.add(n)},t.prototype.Is=function(t,e){var n=this;t.forEach((function(t){return n._s(t,e)}))},t.prototype.Ts=function(t,e){this.Es(new An(t,e))},t.prototype.Ds=function(t,e){var n=this;t.forEach((function(t){return n.Ts(t,e)}))},t.prototype.Rs=function(t){var e=this,n=ot.EMPTY,i=new An(n,t),r=new An(n,t+1),s=[];return this.ps.qt([i,r],(function(t){e.Es(t),s.push(t.key)})),s},t.prototype.Ss=function(){var t=this;this.bs.forEach((function(e){return t.Es(e)}))},t.prototype.Es=function(t){this.bs=this.bs.delete(t),this.ps=this.ps.delete(t)},t.prototype.As=function(t){var e=ot.EMPTY,n=new An(e,t),i=new An(e,t+1),r=Ie();return this.ps.qt([n,i],(function(t){r=r.add(t.key)})),r},t.prototype.Cs=function(t){var e=new An(t,0),n=this.bs.Mt(e);return null!==n&&t.isEqual(n.key)},t}(),An=function(){function t(t,e){this.key=t,this.Ps=e}return t.Rn=function(t,e){return ot.W(t.key,e.key)||an(t.Ps,e.Ps)},t.ys=function(t,e){return an(t.Ps,e.Ps)||ot.W(t.key,e.key)},t}(),Tn=function(){function t(){this.ks=new fn((function(t){return t.toString()})),this.Ns=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return sn(void 0!==this.Os,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this.Os},set:function(t){sn(void 0===this.Os||this.Os.isEqual(t),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this.Os=t},enumerable:!0,configurable:!0}),t.prototype.Fs=function(t,e){this.Vs(),this.readTime=e,this.ks.set(t.key,t)},t.prototype.Us=function(t,e){this.Vs(),e&&(this.readTime=e),this.ks.set(t,null)},t.prototype.xs=function(t,e){this.Vs();var n=this.ks.get(e);return void 0!==n?bn.resolve(n):this.js(t,e)},t.prototype.getEntries=function(t,e){return this.Ls(t,e)},t.prototype.apply=function(t){return this.Vs(),this.Ns=!0,this.qs(t)},t.prototype.Vs=function(){sn(!this.Ns,"Changes have already been applied.")},t}(),On=function(){function t(t,e,n){this.persistence=t,this.Bs=e,this.Ms=new In,this.Qs=new at(an),this.Gs=new fn((function(t){return t.canonicalId()})),this.Ws=et.MIN,sn(t.ss,"LocalStore was passed an unstarted persistence implementation"),this.persistence.Ks.zs(this.Ms),this.Hs=t.Js(n),this.Ys=t.Xs(),this.$s=t.Zs(),this.to=new Hn(this.Ys,this.Hs,this.persistence.no()),this.Bs.io(this.to)}return t.prototype.start=function(){return this.eo()},t.prototype.ro=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n,i,r=this;return s.__generator(this,(function(s){switch(s.label){case 0:return e=this.Hs,n=this.to,[4,this.persistence.runTransaction("Handle user change","readonly",(function(i){var s;return r.Hs.uo(i).next((function(o){return s=o,e=r.persistence.Js(t),n=new Hn(r.Ys,e,r.persistence.no()),e.uo(i)})).next((function(t){for(var e=[],r=[],o=Ie(),a=0,l=s;a<l.length;a++){var c=l[a];e.push(c.batchId);for(var u=0,h=c.mutations;u<h.length;u++){var d=h[u];o=o.add(d.key)}}for(var p=0,f=t;p<f.length;p++){r.push((c=f[p]).batchId);for(var m=0,g=c.mutations;m<g.length;m++)o=o.add((d=g[m]).key)}return n.so(i,o).next((function(t){return{oo:t,ho:e,co:r}}))}))}))];case 1:return i=s.sent(),this.Hs=e,this.to=n,this.Bs.io(this.to),[2,i]}}))}))},t.prototype.ao=function(t){var e,n=this,i=tt.now(),r=t.reduce((function(t,e){return t.add(e.key)}),Ie());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(s){return n.to.so(s,r).next((function(r){e=r;for(var o=[],a=0,l=t;a<l.length;a++){var c=l[a],u=c.un(e.get(c.key));null!=u&&o.push(new Et(c.key,u,u.sn(),wt.exists(!0)))}return n.Hs.fo(s,i,o,t)}))})).then((function(t){var n=t.Lr(e);return{batchId:t.batchId,ks:n}}))},t.prototype.lo=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.Hs.do(n,t).next((function(t){return t?e.to.so(n,t):bn.resolve(null)}))}))},t.prototype.vo=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var i=t.batch.keys(),r=e.Ys.wo({mo:!0});return e.Hs.vo(n,t.batch,t.streamToken).next((function(){return e.bo(n,t,r)})).next((function(){return r.apply(n)})).next((function(){return e.Hs.po(n)})).next((function(){return e.to.so(n,i)}))}))},t.prototype.yo=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var i;return e.Hs._o(n,t).next((function(t){return sn(null!==t,"Attempt to reject nonexistent batch!"),i=t.keys(),e.Hs.Io(n,t)})).next((function(){return e.Hs.po(n)})).next((function(){return e.to.so(n,i)}))}))},t.prototype.To=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Hs.To(e)}))},t.prototype.Eo=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(e){return t.Hs.Eo(e)}))},t.prototype.Do=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return e.Hs.Do(n,t)}))},t.prototype.Ro=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.$s.Ro(e)}))},t.prototype.So=function(e){var n=this,i=e.ai,r=this.Qs;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(s){var o=n.Ys.wo({mo:!0});r=n.Qs;var a=[];C(e.Ei,(function(e,o){var l=r.get(e);if(l){a.push(n.$s.Ao(s,o.Oi,e).next((function(){return n.$s.Co(s,o.ki,e)})));var c=o.resumeToken;if(c.P()>0){var u=l.li(c,i).fi(s.Po);r=r.dt(e,u),t.ko(l,u,o)&&a.push(n.$s.No(s,u))}}}));var l=be(),c=Ie();if(e.Ri.forEach((function(t,e){c=c.add(t)})),a.push(o.getEntries(s,c).next((function(t){e.Ri.forEach((function(r,c){var u=t.get(r);c instanceof $t&&c.version.isEqual(et.MIN)?(o.Us(r,i),l=l.dt(r,c)):null==u||c.version.B(u.version)>0||0===c.version.B(u.version)&&u.hasPendingWrites?(sn(!et.MIN.isEqual(i),"Cannot add a document when the remote version is zero"),o.Fs(c,i),l=l.dt(r,c)):tn("LocalStore","Ignoring outdated watch update for ",r,". Current version:",u.version," Watch version:",c.version),e.Si.has(r)&&a.push(n.persistence.Ks.Oo(s,r))}))}))),!i.isEqual(et.MIN)){var u=n.$s.Ro(s).next((function(t){return sn(i.B(t)>=0,"Watch stream reverted to previous snapshot?? "+i+" < "+t),n.$s.Fo(s,s.Po,i)}));a.push(u)}return bn.Vu(a).next((function(){return o.apply(s)})).next((function(){return n.to.Vo(s,l)}))})).then((function(t){return n.Qs=r,t}))},t.ko=function(t,e,n){return sn(e.resumeToken.P()>0,"Attempted to persist target data with no resume token"),0===t.resumeToken.P()||e.ai.M()-t.ai.M()>=this.Uo||n.ki.size+n.Ni.size+n.Oi.size>0},t.prototype.xo=function(t){for(var e=this,n=0,i=t;n<i.length;n++){var r=i[n],s=r.targetId;if(this.Ms.Is(r.Gr,s),this.Ms.Ds(r.Wr,s),!r.fromCache){var o=this.Qs.get(s);sn(null!==o,"Can't set limbo-free snapshot version for unknown target: "+s);var a=o.di(o.ai);this.Qs=this.Qs.dt(s,a)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return bn.forEach(t,(function(t){return bn.forEach(t.Wr,(function(t){return e.persistence.Ks.Ts(n,t)}))}))}))},t.prototype.jo=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.Hs.Lo(n,t)}))},t.prototype.qo=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.to.Bo(n,t)}))},t.prototype.Mo=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var i;return e.$s.Qo(n,t).next((function(r){return r?bn.resolve(i=r):e.$s.Go(n).next((function(r){return i=new fe(t,r,0,n.Po),e.$s.Wo(n,i).next((function(){return i}))}))}))})).then((function(n){return null===e.Qs.get(n.targetId)&&(e.Qs=e.Qs.dt(n.targetId,n),e.Gs.set(t,n.targetId)),n}))},t.prototype.Qo=function(t,e){var n=this.Gs.get(e);return void 0!==n?bn.resolve(this.Qs.get(n)):this.$s.Qo(t,e)},t.prototype.zo=function(t,e){var n=this,i=this.Qs.get(t);return sn(null!==i,"Tried to release nonexistent target: "+t),this.persistence.runTransaction("Release target",e?"readwrite":"readwrite-primary",(function(r){var s=n.Ms.Rs(t);return e?bn.resolve():bn.forEach(s,(function(t){return n.persistence.Ks.Ts(r,t)})).next((function(){n.persistence.Ks.removeTarget(r,i)}))})).then((function(){n.Qs=n.Qs.remove(t),n.Gs.delete(i.target)}))},t.prototype.Ko=function(t,e){var n=this,i=et.MIN,r=Ie();return this.persistence.runTransaction("Execute query","readonly",(function(s){return n.Qo(s,t.Yn()).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,n.$s.Ho(s,t.targetId).next((function(t){r=t}))})).next((function(){return n.Bs.Jo(s,t,e?i:et.MIN,e?r:Ie())})).next((function(t){return{documents:t,Yo:r}}))}))},t.prototype.Xo=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",(function(n){return e.$s.Ho(n,t)}))},t.prototype.$o=function(){return this.persistence.$o()},t.prototype.Zo=function(t){this.Hs.th(t)},t.prototype.nh=function(t){this.persistence.nh(t)},t.prototype.bo=function(t,e,n){var i=this,r=e.batch,s=r.keys(),o=bn.resolve();return s.forEach((function(i){o=o.next((function(){return n.xs(t,i)})).next((function(t){var s=t,o=e.Br.get(i);sn(null!==o,"ackVersions should contain every doc in the write."),(!s||s.version.B(o)<0)&&((s=r.zt(i,s,e))?n.Fs(s,e.qr):sn(!t,"Mutation batch "+r+" applied to document "+t+" resulted in null"))}))})),o.next((function(){return i.Hs.Io(t,r)}))},t.prototype.os=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.ws(n,e.Qs)}))},t.prototype.ih=function(t){var e=this,n=this.Qs.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return e.$s.be(n,t).next((function(t){return t?t.target:null}))}))},t.prototype.eh=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.Ys.eh(e,t.Ws)})).then((function(e){var n=e.rh;return t.Ws=e.readTime,n}))},t.prototype.eo=function(){return s.__awaiter(this,void 0,void 0,(function(){var t,e=this;return s.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e.Ys.uh(t)}))];case 1:return t.Ws=n.sent(),[2]}}))}))},t.Uo=3e8,t}();function Dn(t){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){if(t.code!==d.FAILED_PRECONDITION||t.message!==qn)throw t;return tn("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Rn(t,e){return sn(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),"firestore_clients_"+t+"_"+e}function Nn(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.t()&&(i+="_"+e.uid),i}function Pn(t,e){return"firestore_targets_"+t+"_"+e}var Fn=function(){function t(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i,sn(void 0!==i==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.sh=function(e,n,i){var r=JSON.parse(i),s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new p(r.error.code,r.error.message)),s?new t(e,n,r.state,o):(en("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.oh=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Mn=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,sn(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.sh=function(e,n){var i=JSON.parse(n),r="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return r&&i.error&&(r="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new p(i.error.code,i.error.message)),r?new t(e,i.state,s):(en("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.oh=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ln=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.sh=function(e,n){for(var i=JSON.parse(n),r="object"==typeof i&&i.activeTargetIds instanceof Array,s=Te(),o=0;r&&o<i.activeTargetIds.length;++o)r=Xt(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new t(e,s):(en("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Vn=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.sh=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(en("SharedClientState","Failed to parse online state: "+e),null)},t}(),jn=function(){function t(){this.activeTargetIds=Te()}return t.prototype.hh=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ah=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.oh=function(){var t={activeTargetIds:this.activeTargetIds.nt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Un=function(){function t(e,n,i,r,s){if(this.fh=e,this.platform=n,this.persistenceKey=i,this.lh=r,this.dh=null,this.vh=null,this.Kr=null,this.wh={},this.mh=this.gh.bind(this),this.ss=!1,this.bh=[],!t.ph(this.platform))throw new p(d.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=s,this.yh=Rn(this.persistenceKey,this.lh),this._h=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.wh[this.lh]=new jn,this.Ih=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Th=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Eh=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Dh=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.mh)}return t.ph=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return s.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,r,o,a,l,c,u,h=this;return s.__generator(this,(function(s){switch(s.label){case 0:return sn(!this.ss,"WebStorageSharedClientState already started"),sn(null!==this.dh,"syncEngine property must be set before calling start()"),sn(null!==this.vh,"onlineStateHandler property must be set before calling start()"),[4,this.dh.$o()];case 1:for(t=s.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.lh&&(r=this.getItem(Rn(this.persistenceKey,i)))&&(o=Ln.sh(i,r))&&(this.wh[o.clientId]=o);for(this.Rh(),(a=this.storage.getItem(this.Dh))&&(l=this.Sh(a))&&this.Ah(l),c=0,u=this.bh;c<u.length;c++)this.gh(u[c]);return this.bh=[],this.platform.window.addEventListener("unload",(function(){return h.shutdown()})),this.ss=!0,[2]}}))}))},t.prototype.Yr=function(t){this.setItem(this._h,JSON.stringify(t))},t.prototype.Ch=function(){var t=Te();return E(this.wh,(function(e,n){t=t.Qt(n.activeTargetIds)})),t},t.prototype.Ph=function(t){for(var e in this.wh)if(this.wh.hasOwnProperty(e)&&this.wh[e].activeTargetIds.has(t))return!0;return!1},t.prototype.kh=function(t){this.Nh(t,"pending")},t.prototype.Oh=function(t,e,n){this.Nh(t,e,n),this.Fh(t)},t.prototype.Vh=function(t){var e="not-current";if(this.Ph(t)){var n=this.storage.getItem(Pn(this.persistenceKey,t));if(n){var i=Mn.sh(t,n);i&&(e=i.state)}}return this.Uh.hh(t),this.Rh(),e},t.prototype.xh=function(t){this.Uh.ah(t),this.Rh()},t.prototype.jh=function(t){return this.Uh.activeTargetIds.has(t)},t.prototype.Lh=function(t){this.removeItem(Pn(this.persistenceKey,t))},t.prototype.qh=function(t,e,n){this.Bh(t,e,n)},t.prototype.ro=function(t,e,n){var i=this;e.forEach((function(t){i.Fh(t)})),this.currentUser=t,n.forEach((function(t){i.kh(t)}))},t.prototype.Mh=function(t){this.Qh(t)},t.prototype.shutdown=function(){this.ss&&(this.platform.window.removeEventListener("storage",this.mh),this.removeItem(this.yh),this.ss=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return tn("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){tn("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){tn("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.gh=function(t){var e=this;if(t.storageArea===this.storage){if(tn("SharedClientState","EVENT",t.key,t.newValue),t.key===this.yh)return void en("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fh.ou((function(){return s.__awaiter(e,void 0,void 0,(function(){var e,n,i,r,o,a;return s.__generator(this,(function(s){if(!this.ss)return this.bh.push(t),[2];if(null===t.key)return[2];if(this.Ih.test(t.key)){if(null==t.newValue)return n=this.Gh(t.key),[2,this.Wh(n,null)];if(e=this.zh(t.key,t.newValue))return[2,this.Wh(e.clientId,e)]}else if(this.Th.test(t.key)){if(null!==t.newValue&&(i=this.Kh(t.key,t.newValue)))return[2,this.Hh(i)]}else if(this.Eh.test(t.key)){if(null!==t.newValue&&(r=this.Jh(t.key,t.newValue)))return[2,this.Yh(r)]}else if(t.key===this.Dh){if(null!==t.newValue&&(o=this.Sh(t.newValue)))return[2,this.Ah(o)]}else t.key===this._h&&(sn(!!this.Kr,"Missing sequenceNumberHandler"),(a=function(t){var e=gn.Xr;if(null!=t)try{var n=JSON.parse(t);sn("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(t){en("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==gn.Xr&&this.Kr(a));return[2]}))}))}))}},Object.defineProperty(t.prototype,"Uh",{get:function(){return this.wh[this.lh]},enumerable:!0,configurable:!0}),t.prototype.Rh=function(){this.setItem(this.yh,this.Uh.oh())},t.prototype.Nh=function(t,e,n){var i=new Fn(this.currentUser,t,e,n),r=Nn(this.persistenceKey,this.currentUser,t);this.setItem(r,i.oh())},t.prototype.Fh=function(t){var e=Nn(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Qh=function(t){this.storage.setItem(this.Dh,JSON.stringify({clientId:this.lh,onlineState:t}))},t.prototype.Bh=function(t,e,n){var i=Pn(this.persistenceKey,t),r=new Mn(t,e,n);this.setItem(i,r.oh())},t.prototype.Gh=function(t){var e=this.Ih.exec(t);return e?e[1]:null},t.prototype.zh=function(t,e){var n=this.Gh(t);return sn(null!==n,"Cannot parse client state key '"+t+"'"),Ln.sh(n,e)},t.prototype.Kh=function(t,e){var n=this.Th.exec(t);sn(null!==n,"Cannot parse mutation batch key '"+t+"'");var i=Number(n[1]);return Fn.sh(new h(void 0!==n[2]?n[2]:null),i,e)},t.prototype.Jh=function(t,e){var n=this.Eh.exec(t);sn(null!==n,"Cannot parse query target key '"+t+"'");var i=Number(n[1]);return Mn.sh(i,e)},t.prototype.Sh=function(t){return Vn.sh(t)},t.prototype.Hh=function(t){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){return t.user.uid!==this.currentUser.uid?(tn("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.dh.Xh(t.batchId,t.state,t.error)]}))}))},t.prototype.Yh=function(t){return this.dh.$h(t.targetId,t.state,t.error)},t.prototype.Wh=function(t,e){var n=this,i=this.Ch();e?this.wh[t]=e:delete this.wh[t];var r=this.Ch(),o=[],a=[];return r.forEach((function(t){return s.__awaiter(n,void 0,void 0,(function(){return s.__generator(this,(function(e){return i.has(t)||o.push(t),[2]}))}))})),i.forEach((function(t){return s.__awaiter(n,void 0,void 0,(function(){return s.__generator(this,(function(e){return r.has(t)||a.push(t),[2]}))}))})),this.dh.Zh(o,a)},t.prototype.Ah=function(t){this.wh[t.clientId]&&this.vh(t.onlineState)},t}(),Bn=function(){function t(){this.tc=new jn,this.nc={},this.dh=null,this.vh=null,this.Kr=null}return t.prototype.kh=function(t){},t.prototype.Oh=function(t,e,n){},t.prototype.Vh=function(t){return this.tc.hh(t),this.nc[t]||"not-current"},t.prototype.qh=function(t,e,n){this.nc[t]=e},t.prototype.xh=function(t){this.tc.ah(t)},t.prototype.jh=function(t){return this.tc.activeTargetIds.has(t)},t.prototype.Lh=function(t){delete this.nc[t]},t.prototype.Ch=function(){return this.tc.activeTargetIds},t.prototype.Ph=function(t){return this.tc.activeTargetIds.has(t)},t.prototype.start=function(){return this.tc=new jn,Promise.resolve()},t.prototype.ro=function(t,e,n){},t.prototype.Mh=function(t){},t.prototype.shutdown=function(){},t.prototype.Yr=function(t){},t}(),qn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",zn=function(){function t(){this.ic=[]}return t.prototype.ec=function(t){this.ic.push(t)},t.prototype.rc=function(){this.ic.forEach((function(t){return t()}))},t}(),Hn=function(){function t(t,e,n){this.uc=t,this.Hs=e,this.sc=n}return t.prototype.Bo=function(t,e){var n=this;return this.Hs.oc(t,e).next((function(i){return n.hc(t,e,i)}))},t.prototype.hc=function(t,e,n){return this.uc.xs(t,e).next((function(t){for(var i=0,r=n;i<r.length;i++)t=r[i].Wt(e,t);return t}))},t.prototype.cc=function(t,e,n){var i=we();return e.forEach((function(t,e){for(var r=0,s=n;r<s.length;r++)e=s[r].Wt(t,e);i=i.dt(t,e)})),i},t.prototype.so=function(t,e){var n=this;return this.uc.getEntries(t,e).next((function(e){return n.Vo(t,e)}))},t.prototype.Vo=function(t,e){var n=this;return this.Hs.ac(t,e).next((function(i){var r=n.cc(t,e,i),s=be();return r.forEach((function(t,e){e||(e=new $t(t,et.q())),s=s.dt(t,e)})),s}))},t.prototype.Jo=function(t,e,n){return e.Nn()?this.fc(t,e.path):e.ui()?this.lc(t,e,n):this.dc(t,e,n)},t.prototype.fc=function(t,e){return this.Bo(t,new ot(e)).next((function(t){var e=Ce();return t instanceof Wt&&(e=e.dt(t.key,t)),e}))},t.prototype.lc=function(t,e,n){var i=this;sn(e.path.Y(),"Currently we only support collection group queries at the root.");var r=e.collectionGroup,s=Ce();return this.sc.vc(t,r).next((function(o){return bn.forEach(o,(function(o){var a=e.Hn(o.child(r));return i.dc(t,a,n).next((function(t){t.forEach((function(t,e){s=s.dt(t,e)}))}))})).next((function(){return s}))}))},t.prototype.dc=function(t,e,n){var i,r,s=this;return this.uc.Jo(t,e,n).next((function(n){return i=n,s.Hs.wc(t,e)})).next((function(e){return s.mc(t,r=e,i).next((function(t){i=t;for(var e=0,n=r;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var l=a[o],c=l.key,u=i.get(c),h=l.Wt(u,u,s.En);i=h instanceof Wt?i.dt(c,h):i.remove(c)}}))})).next((function(){return i.forEach((function(t,n){e.matches(n)||(i=i.remove(t))})),i}))},t.prototype.mc=function(t,e,n){for(var i=Ie(),r=0,s=e;r<s.length;r++)for(var o=0,a=s[r].mutations;o<a.length;o++){var l=a[o];l instanceof Et&&null===n.get(l.key)&&(i=i.add(l.key))}var c=n;return this.uc.getEntries(t,i).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Wt&&(c=c.dt(t,e))})),c}))},t}(),Gn=function(){function t(){}return t.prototype.io=function(t){this.gc=t},t.prototype.Jo=function(t,e,n,i){var r=this;return sn(void 0!==this.gc,"setLocalDocumentsView() not called"),e.Jn()||n.isEqual(et.MIN)?this.bc(t,e):this.gc.so(t,i).next((function(s){var o=r.pc(e,s);return(e.ii()||e.ei())&&r.yc(e.Fn,o,i,n)?r.bc(t,e):(Je()<=0&&tn("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),r.gc.Jo(t,e,n).next((function(t){return o.forEach((function(e){t=t.dt(e.key,e)})),t})))}))},t.prototype.pc=function(t,e){var n=new ht((function(e,n){return t.Xn(e,n)}));return e.forEach((function(e,i){i instanceof Wt&&t.matches(i)&&(n=n.add(i))})),n},t.prototype.yc=function(t,e,n,i){if(n.size!==e.size)return!0;var r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.B(i)>0)},t.prototype.bc=function(t,e){return Je()<=0&&tn("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.gc.Jo(t,e,et.MIN)},t}();function Wn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Kn(e)),e=$n(t.get(n),e);return Kn(e)}function $n(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var s=t.charAt(r);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Kn(t){return t+"\x01\x01"}function Yn(t){var e=t.length;if(sn(e>=2,"Invalid path "+t),2===e)return sn("\x01"===t.charAt(0)&&"\x01"===t.charAt(1),"Non-empty path "+t+" had length 2"),it.rt;for(var n=e-2,i=[],r="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&rn('Invalid encoded resource path: "'+t+'"'),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),l=void 0;0===r.length?l=a:(l=r+=a,r=""),i.push(l);break;case"\x10":r+=t.substring(s,o),r+="\0";break;case"\x11":r+=t.substring(s,o+1);break;default:rn('Invalid encoded resource path: "'+t+'"')}s=o+2}return new it(i)}var Qn=function(){function t(){this._c=new Xn}return t.prototype.Ic=function(t,e){return this._c.add(e),bn.resolve()},t.prototype.vc=function(t,e){return bn.resolve(this._c.getEntries(e))},t}(),Xn=function(){function t(){this.index={}}return t.prototype.add=function(t){sn(t.length%2==1,"Expected a collection path.");var e=t.$(),n=t.J(),i=this.index[e]||new ht(it.W),r=!i.has(n);return this.index[e]=i.add(n),r},t.prototype.has=function(t){var e=t.$(),n=t.J(),i=this.index[e];return i&&i.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ht(it.W)).nt()},t}(),Jn=function(){function t(t,e){this.sc=t,this.Ks=e,this.Hs=[],this.Tc=1,this.lastStreamToken=W.k,this.Ec=new ht(An.Rn)}return t.prototype.Dc=function(t){return bn.resolve(0===this.Hs.length)},t.prototype.vo=function(t,e,n){var i=e.batchId,r=this.Rc(i,"acknowledged");sn(0===r,"Can only acknowledge the first batch in the mutation queue");var s=this.Hs[r];return sn(i===s.batchId,"Queue ordering failure: expected batch "+i+", got batch "+s.batchId),this.lastStreamToken=n,bn.resolve()},t.prototype.Eo=function(t){return bn.resolve(this.lastStreamToken)},t.prototype.Do=function(t,e){return this.lastStreamToken=e,bn.resolve()},t.prototype.fo=function(t,e,n,i){sn(0!==i.length,"Mutation batches should not be empty");var r=this.Tc;this.Tc++,this.Hs.length>0&&sn(this.Hs[this.Hs.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var s=new dn(r,e,n,i);this.Hs.push(s);for(var o=0,a=i;o<a.length;o++){var l=a[o];this.Ec=this.Ec.add(new An(l.key,r)),this.sc.Ic(t,l.key.path.J())}return bn.resolve(s)},t.prototype._o=function(t,e){return bn.resolve(this.Sc(e))},t.prototype.do=function(t,e){var n=this.Sc(e);return sn(null!=n,"Failed to find local mutation batch."),bn.resolve(n.keys())},t.prototype.Lo=function(t,e){var n=this.Ac(e+1),i=n<0?0:n;return bn.resolve(this.Hs.length>i?this.Hs[i]:null)},t.prototype.To=function(){return bn.resolve(0===this.Hs.length?-1:this.Tc-1)},t.prototype.uo=function(t){return bn.resolve(this.Hs.slice())},t.prototype.oc=function(t,e){var n=this,i=new An(e,0),r=new An(e,Number.POSITIVE_INFINITY),s=[];return this.Ec.qt([i,r],(function(t){sn(e.isEqual(t.key),"Should only iterate over a single key's batches");var i=n.Sc(t.Ps);sn(null!==i,"Batches in the index must exist in the main table"),s.push(i)})),bn.resolve(s)},t.prototype.ac=function(t,e){var n=this,i=new ht(an);return e.forEach((function(t){var e=new An(t,0),r=new An(t,Number.POSITIVE_INFINITY);n.Ec.qt([e,r],(function(e){sn(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),i=i.add(e.Ps)}))})),bn.resolve(this.Cc(i))},t.prototype.wc=function(t,e){sn(!e.ui(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,i=n.length+1,r=n;ot.ct(r)||(r=r.child(""));var s=new An(new ot(r),0),o=new ht(an);return this.Ec.Bt((function(t){var e=t.key.path;return!!n.Z(e)&&(e.length===i&&(o=o.add(t.Ps)),!0)}),s),bn.resolve(this.Cc(o))},t.prototype.Cc=function(t){var e=this,n=[];return t.forEach((function(t){var i=e.Sc(t);null!==i&&n.push(i)})),n},t.prototype.Io=function(t,e){var n=this;sn(0===this.Rc(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.Hs.shift();var i=this.Ec;return bn.forEach(e.mutations,(function(r){var s=new An(r.key,e.batchId);return i=i.delete(s),n.Ks.Pc(t,r.key)})).next((function(){n.Ec=i}))},t.prototype.th=function(t){},t.prototype.Cs=function(t,e){var n=new An(e,0),i=this.Ec.Mt(n);return bn.resolve(e.isEqual(i&&i.key))},t.prototype.po=function(t){return 0===this.Hs.length&&sn(this.Ec.Y(),"Document leak -- detected dangling mutation references when queue is empty."),bn.resolve()},t.prototype.Rc=function(t,e){var n=this.Ac(t);return sn(n>=0&&n<this.Hs.length,"Batches must exist to be "+e),n},t.prototype.Ac=function(t){return 0===this.Hs.length?0:t-this.Hs[0].batchId},t.prototype.Sc=function(t){var e=this.Ac(t);if(e<0||e>=this.Hs.length)return null;var n=this.Hs[e];return sn(n.batchId===t,"If found batch must match"),n},t}(),Zn=function(){function t(t,e){this.sc=t,this.kc=e,this.docs=new at(ot.W),this.size=0}return t.prototype.Fs=function(t,e,n){sn(!n.isEqual(et.MIN),"Cannot add a document with a read time of zero");var i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.kc(e);return this.docs=this.docs.dt(i,{Nc:e,size:o,readTime:n}),this.size+=o-s,this.sc.Ic(t,i.path.J())},t.prototype.Us=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.xs=function(t,e){var n=this.docs.get(e);return bn.resolve(n?n.Nc:null)},t.prototype.getEntries=function(t,e){var n=this,i=we();return e.forEach((function(t){var e=n.docs.get(t);i=i.dt(t,e?e.Nc:null)})),bn.resolve(i)},t.prototype.Jo=function(t,e,n){sn(!e.ui(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var i=Ce(),r=new ot(e.path.child("")),s=this.docs._t(r);s.St();){var o=s.Rt(),a=o.value,l=a.Nc,c=a.readTime;if(!e.path.Z(o.key.path))break;c.B(n)<=0||l instanceof Wt&&e.matches(l)&&(i=i.dt(l.key,l))}return bn.resolve(i)},t.prototype.Oc=function(t,e){return bn.forEach(this.docs,(function(t){return e(t)}))},t.prototype.eh=function(t,e){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},t.prototype.uh=function(t){return bn.resolve(et.MIN)},t.prototype.wo=function(e){return new t.Fc(this)},t.prototype.Vc=function(t){return bn.resolve(this.size)},t.Fc=function(t){function e(e){var n=t.call(this)||this;return n.Uc=e,n}return s.__extends(e,t),e.prototype.qs=function(t){var e=this,n=[];return this.ks.forEach((function(i,r){r?n.push(e.Uc.Fs(t,r,e.readTime)):e.Uc.Us(i)})),bn.Vu(n)},e.prototype.js=function(t,e){return this.Uc.xs(t,e)},e.prototype.Ls=function(t,e){return this.Uc.getEntries(t,e)},e}(Tn),t}(),ti=function(){function t(t,e){this.xc=t,sn((1&t)===t,"Generator ID "+t+" contains more than 1 reserved bits"),this.jc(void 0!==e?e:this.xc)}return t.prototype.next=function(){var t=this.Lc;return this.Lc+=2,t},t.prototype.after=function(t){return this.jc(t+2),this.next()},t.prototype.jc=function(t){sn((1&t)===this.xc,"Cannot supply target ID from different generator ID"),this.Lc=t},t.qc=function(){return new t(0,2)},t.Bc=function(){return new t(1)},t}(),ei=function(){function t(t){this.persistence=t,this.Mc=new fn((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=et.MIN,this.highestTargetId=0,this.Qc=0,this.Gc=new In,this.targetCount=0,this.Wc=ti.qc()}return t.prototype.oe=function(t,e){return this.Mc.forEach((function(t,n){return e(n)})),bn.resolve()},t.prototype.Ro=function(t){return bn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.zc=function(t){return bn.resolve(this.Qc)},t.prototype.Go=function(t){var e=this.Wc.after(this.highestTargetId);return this.highestTargetId=e,bn.resolve(e)},t.prototype.Fo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Qc&&(this.Qc=e),bn.resolve()},t.prototype.Kc=function(t){this.Mc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.Qc&&(this.Qc=t.sequenceNumber)},t.prototype.Wo=function(t,e){return sn(!this.Mc.has(e.target),"Adding a target that already exists"),this.Kc(e),this.targetCount+=1,bn.resolve()},t.prototype.No=function(t,e){return sn(this.Mc.has(e.target),"Updating a non-existent target"),this.Kc(e),bn.resolve()},t.prototype.Hc=function(t,e){return sn(this.targetCount>0,"Removing a target from an empty cache"),sn(this.Mc.has(e.target),"Removing a non-existent target from the cache"),this.Mc.delete(e.target),this.Gc.Rs(e.targetId),this.targetCount-=1,bn.resolve()},t.prototype.ds=function(t,e,n){var i=this,r=0,s=[];return this.Mc.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i.Mc.delete(o),s.push(i.Jc(t,a.targetId)),r++)})),bn.Vu(s).next((function(){return r}))},t.prototype.Yc=function(t){return bn.resolve(this.targetCount)},t.prototype.Qo=function(t,e){var n=this.Mc.get(e)||null;return bn.resolve(n)},t.prototype.be=function(t,e){return rn("Not yet implemented.")},t.prototype.Co=function(t,e,n){this.Gc.Is(e,n);var i=this.persistence.Ks,r=[];return i&&e.forEach((function(e){r.push(i._s(t,e))})),bn.Vu(r)},t.prototype.Ao=function(t,e,n){this.Gc.Ds(e,n);var i=this.persistence.Ks,r=[];return i&&e.forEach((function(e){r.push(i.Ts(t,e))})),bn.Vu(r)},t.prototype.Jc=function(t,e){return this.Gc.Rs(e),bn.resolve()},t.prototype.Ho=function(t,e){var n=this.Gc.As(e);return bn.resolve(n)},t.prototype.Cs=function(t,e){return bn.resolve(this.Gc.Cs(e))},t}(),ni="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",ii=function(){function t(t,e){var n=this;this.clientId=t,this.Xc={},this.$c=new gn(0),this.Zc=!1,this.Zc=!0,this.Ks=e(this),this.$s=new ei(this),this.sc=new Qn,this.uc=new Zn(this.sc,(function(t){return n.Ks.ta(t)}))}return t.prototype.shutdown=function(){return this.Zc=!1,Promise.resolve()},Object.defineProperty(t.prototype,"ss",{get:function(){return this.Zc},enumerable:!0,configurable:!0}),t.prototype.$o=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return[2,[this.clientId]]}))}))},t.prototype.na=function(t){return t(!0)},t.prototype.ia=function(){},t.prototype.nh=function(t){},t.prototype.no=function(){return this.sc},t.prototype.Js=function(t){var e=this.Xc[t.i()];return e||(e=new Jn(this.sc,this.Ks),this.Xc[t.i()]=e),e},t.prototype.Zs=function(){return this.$s},t.prototype.Xs=function(){return this.uc},t.prototype.runTransaction=function(t,e,n){var i=this;tn("MemoryPersistence","Starting transaction:",t);var r=new ri(this.$c.next());return this.Ks.ea(),n(r).next((function(t){return i.Ks.ra(r).next((function(){return t}))})).Ou().then((function(t){return r.rc(),t}))},t.prototype.ua=function(t,e){return bn.Uu((n=this.Xc,i=[],E(n,(function(t,e){return i.push(e)})),i).map((function(n){return function(){return n.Cs(t,e)}})));var n,i},t}(),ri=function(t){function e(e){var n=t.call(this)||this;return n.Po=e,n}return s.__extends(e,t),e}(zn),si=function(){function t(t){this.persistence=t,this.sa=null,this.oa=null}return Object.defineProperty(t.prototype,"ha",{get:function(){if(this.oa)return this.oa;throw rn("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),t.prototype.zs=function(t){this.sa=t},t.prototype._s=function(t,e){return this.ha.delete(e),bn.resolve()},t.prototype.Ts=function(t,e){return this.ha.add(e),bn.resolve()},t.prototype.Pc=function(t,e){return this.ha.add(e),bn.resolve()},t.prototype.removeTarget=function(t,e){var n=this,i=this.persistence.Zs();return i.Ho(t,e.targetId).next((function(t){t.forEach((function(t){return n.ha.add(t)}))})).next((function(){return i.Hc(t,e)}))},t.prototype.ea=function(){this.oa=new Set},t.prototype.ra=function(t){var e=this,n=this.persistence.Xs().wo();return bn.forEach(this.ha,(function(i){return e.ca(t,i).next((function(t){t||n.Us(i)}))})).next((function(){return e.oa=null,n.apply(t)}))},t.prototype.Oo=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.ha.delete(e):n.ha.add(e)}))},t.prototype.ta=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return bn.Uu([function(){return n.persistence.Zs().Cs(t,e)},function(){return n.persistence.ua(t,e)},function(){return bn.resolve(n.sa.Cs(e))}])},t}(),oi=function(){function t(){}return t.prototype.initialize=function(t,e,n,i,r,s){if(s.aa)throw new p(d.FAILED_PRECONDITION,ni);return this.clientId=i,Promise.resolve()},t.prototype.fa=function(){var t=!1;return{ss:t,start:function(){return t=!0},stop:function(){return t=!1}}},t.prototype.la=function(){return sn(!!this.clientId,"initialize() not called"),new ii(this.clientId,(function(t){return new si(t)}))},t.prototype.da=function(){return new Bn},t.prototype.clearPersistence=function(){throw new p(d.FAILED_PRECONDITION,ni)},t}(),ai=function(){function t(t,e,n,i,r){void 0===n&&(n=1e3),void 0===i&&(i=1.5),void 0===r&&(r=6e4),this.fh=t,this.Zr=e,this.va=n,this.wa=i,this.ma=r,this.ga=0,this.ba=null,this.pa=Date.now(),this.reset()}return t.prototype.reset=function(){this.ga=0},t.prototype.ya=function(){this.ga=this.ma},t.prototype._a=function(t){var e=this;this.cancel();var n=Math.floor(this.ga+this.Ia()),i=Math.max(0,Date.now()-this.pa),r=Math.max(0,n-i);this.ga>0&&tn("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.ga+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.ba=this.fh.yu(this.Zr,r,(function(){return e.pa=Date.now(),t()})),this.ga*=this.wa,this.ga<this.va&&(this.ga=this.va),this.ga>this.ma&&(this.ga=this.ma)},t.prototype.cancel=function(){null!==this.ba&&(this.ba.cancel(),this.ba=null)},t.prototype.Ia=function(){return(Math.random()-.5)*this.ga},t}(),li=function(){function t(t,e,n,i,r,s){this.fh=t,this.Ta=n,this.connection=i,this.Ea=r,this.listener=s,this.state=0,this.Da=0,this.Ra=null,this.stream=null,this.Sa=new ai(t,e)}return t.prototype.Aa=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ca=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?(sn(0===this.state,"Already started"),this.auth()):this.Pa()},t.prototype.stop=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.Aa()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.ka=function(){sn(!this.Aa(),"Can only inhibit backoff in a stopped state"),this.state=0,this.Sa.reset()},t.prototype.Na=function(){var t=this;this.Ca()&&null===this.Ra&&(this.Ra=this.fh.yu(this.Ta,6e4,(function(){return t.Oa()})))},t.prototype.Fa=function(t){this.Va(),this.stream.send(t)},t.prototype.Oa=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return this.Ca()?[2,this.close(0)]:[2]}))}))},t.prototype.Va=function(){this.Ra&&(this.Ra.cancel(),this.Ra=null)},t.prototype.close=function(t,e){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(n){switch(n.label){case 0:return sn(this.Aa(),"Only started streams should be closed."),sn(3===t||Yt(e),"Can't provide an error when not in an error state."),this.Va(),this.Sa.cancel(),this.Da++,3!==t?this.Sa.reset():e&&e.code===d.RESOURCE_EXHAUSTED?(en(e.toString()),en("Using maximum backoff delay to prevent overloading the backend."),this.Sa.ya()):e&&e.code===d.UNAUTHENTICATED&&this.Ea.l(),null!==this.stream&&(this.Ua(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.xa(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.Ua=function(){},t.prototype.auth=function(){var t=this;sn(0===this.state,"Must be in initial state to auth"),this.state=1;var e=this.ja(this.Da),n=this.Da;this.Ea.getToken().then((function(e){t.Da===n&&t.La(e)}),(function(n){e((function(){var e=new p(d.UNKNOWN,"Fetching auth token failed: "+n.message);return t.qa(e)}))}))},t.prototype.La=function(t){var e=this;sn(1===this.state,"Trying to start stream in a non-starting state");var n=this.ja(this.Da);this.stream=this.Ba(t),this.stream.Ma((function(){n((function(){return sn(1===e.state,"Expected stream to be in state Starting, but was "+e.state),e.state=2,e.listener.Ma()}))})),this.stream.xa((function(t){n((function(){return e.qa(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Pa=function(){var t=this;sn(3===this.state,"Should only perform backoff when in Error state"),this.state=4,this.Sa._a((function(){return s.__awaiter(t,void 0,void 0,(function(){return s.__generator(this,(function(t){return sn(4===this.state,"Backoff elapsed but state is now: "+this.state),this.state=0,this.start(),sn(this.Aa(),"PersistentStream should have started"),[2]}))}))}))},t.prototype.qa=function(t){return sn(this.Aa(),"Can't handle server close on non-started stream"),tn("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ja=function(t){var e=this;return function(n){e.fh.ou((function(){return e.Da===t?n():(tn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),ci=function(t){function e(e,n,i,r,s){var o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,i,s)||this;return o.serializer=r,o}return s.__extends(e,t),e.prototype.Ba=function(t){return this.connection.Qa("Listen",t)},e.prototype.onMessage=function(t){this.Sa.reset();var e=this.serializer.Xe(t),n=this.serializer.Ze(t);return this.listener.Ga(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.Ue,e.addTarget=this.serializer.Yn(t);var n=this.serializer._r(t);n&&(e.labels=n),this.Fa(e)},e.prototype.Wa=function(t){var e={};e.database=this.serializer.Ue,e.removeTarget=t,this.Fa(e)},e}(li),ui=function(t){function e(e,n,i,r,s){var o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,i,s)||this;return o.serializer=r,o.za=!1,o.lastStreamToken=W.k,o}return s.__extends(e,t),Object.defineProperty(e.prototype,"Ka",{get:function(){return this.za},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.za=!1,t.prototype.start.call(this)},e.prototype.Ua=function(){this.za&&this.Ha([])},e.prototype.Ba=function(t){return this.connection.Qa("Write",t)},e.prototype.onMessage=function(t){if(sn(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=this.serializer.De(t.streamToken),this.za){this.Sa.reset();var e=this.serializer.cr(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.Ja(n,e)}return sn(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.za=!0,this.listener.Ya()},e.prototype.Xa=function(){sn(this.Ca(),"Writing handshake requires an opened stream"),sn(!this.za,"Handshake already completed");var t={};t.database=this.serializer.Ue,this.Fa(t)},e.prototype.Ha=function(t){var e=this;sn(this.Ca(),"Writing mutations requires an opened stream"),sn(this.za,"Handshake must be complete before writing mutations"),sn(this.lastStreamToken.P()>0,"Trying to write mutation without a token");var n={streamToken:this.serializer.Ee(this.lastStreamToken),writes:t.map((function(t){return e.serializer.tr(t)}))};this.Fa(n)},e}(li),hi=function(){function t(t,e,n,i){this.fh=t,this.connection=e,this.credentials=n,this.serializer=i}return t.prototype.$a=function(t){return new ui(this.fh,this.connection,this.credentials,this.serializer,t)},t.prototype.Za=function(t){return new ci(this.fh,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.Ue,writes:t.map((function(t){return e.serializer.tr(t)}))};return this.tf("Commit",n).then((function(t){return e.serializer.cr(t.writeResults,t.commitTime)}))},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.Ue,documents:t.map((function(t){return e.serializer.ke(t)}))};return this.nf("BatchGetDocuments",n).then((function(n){var i=be();n.forEach((function(t){var n=e.serializer.He(t);i=i.dt(n.key,n)}));var r=[];return t.forEach((function(t){var e=i.get(t);sn(!!e,"Missing entity in write response for "+t),r.push(e)})),r}))},t.prototype.tf=function(t,e){var n=this;return this.credentials.getToken().then((function(i){return n.connection.tf(t,e,i)})).catch((function(t){throw t.code===d.UNAUTHENTICATED&&n.credentials.l(),t}))},t.prototype.nf=function(t,e){var n=this;return this.credentials.getToken().then((function(i){return n.connection.nf(t,e,i)})).catch((function(t){throw t.code===d.UNAUTHENTICATED&&n.credentials.l(),t}))},t}(),di=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];O("FieldPath",t,"fieldNames",1);for(var n=0;n<t.length;++n)if(D("FieldPath","string",n,t[n]),0===t[n].length)throw new p(d.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.if=new st(t)}return t.documentId=function(){return t.ef},t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","FieldPath",1,e);return this.if.isEqual(e.if)},t.ef=new t(st.ot().it()),t}(),pi=new RegExp("[~\\*/\\[\\]]"),fi=function(){function t(t){this.rf=t}return t.delete=function(){return k("FieldValue.delete",arguments),mi.instance},t.serverTimestamp=function(){return k("FieldValue.serverTimestamp",arguments),gi.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return A("FieldValue.arrayUnion",arguments,1),new yi(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return A("FieldValue.arrayRemove",arguments,1),new vi(t)},t.increment=function(t){return D("FieldValue.increment","number",1,t),I("FieldValue.increment",arguments,1),new _i(t)},t.prototype.isEqual=function(t){return this===t},t}(),mi=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return s.__extends(e,t),e.instance=new e,e}(fi),gi=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return s.__extends(e,t),e.instance=new e,e}(fi),yi=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n.uf=e,n}return s.__extends(e,t),e}(fi),vi=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n.uf=e,n}return s.__extends(e,t),e}(fi),_i=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n.sf=e,n}return s.__extends(e,t),e}(fi),bi=b(fi,"Use FieldValue.<field>() instead."),wi=/^__.*__$/,xi=function(){function t(t,e,n){this.data=t,this.sn=e,this.fieldTransforms=n}return t.prototype.hf=function(t,e){var n=[];return n.push(null!==this.sn?new Et(t,this.data,this.sn,e):new Ct(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new St(t,this.fieldTransforms)),n},t}(),Ci=function(){function t(t,e,n){this.data=t,this.sn=e,this.fieldTransforms=n}return t.prototype.hf=function(t,e){var n=[new Et(t,this.data,this.sn,e)];return this.fieldTransforms.length>0&&n.push(new St(t,this.fieldTransforms)),n},t}();function Ei(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rn("Unexpected case for UserDataSource: "+t)}}var Si=function(){function t(t,e,n,i,r,s){this.cf=t,this.methodName=e,this.path=n,this.af=i,void 0===r&&this.ff(),this.af=void 0!==i&&i,this.fieldTransforms=r||[],this.sn=s||[]}return t.prototype.lf=function(e){var n=null==this.path?null:this.path.child(e),i=new t(this.cf,this.methodName,n,!1,this.fieldTransforms,this.sn);return i.df(e),i},t.prototype.vf=function(e){var n=null==this.path?null:this.path.child(e),i=new t(this.cf,this.methodName,n,!1,this.fieldTransforms,this.sn);return i.ff(),i},t.prototype.wf=function(e){return new t(this.cf,this.methodName,null,!0,this.fieldTransforms,this.sn)},t.prototype.mf=function(t){var e=null===this.path||this.path.Y()?"":" (found in field "+this.path.toString()+")";return new p(d.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.sn.find((function(e){return t.Z(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.Z(e.field)}))},t.prototype.ff=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.df(this.path.get(t))},t.prototype.df=function(t){if(0===t.length)throw this.mf("Document fields must not be empty");if(Ei(this.cf)&&wi.test(t))throw this.mf('Document fields cannot begin and end with "__"')},t}(),ki=function(t,e){this.Dn=t,this.key=e},Ii=function(){function t(t){this.gf=t}return t.prototype.bf=function(t,e){var n=new Si(0,t,st.rt);Ti("Data must be an object, but it was:",n,e);var i=this.pf(e,n);return new xi(i,null,n.fieldTransforms)},t.prototype.yf=function(t,e,n){var i=new Si(2,t,st.rt);Ti("Data must be an object, but it was:",i,e);var r,s,o=this.pf(e,i);if(n){for(var a=new ht(st.W),l=0,c=n;l<c.length;l++){var u=c[l],h=void 0;if(u instanceof di)h=u.if;else{if("string"!=typeof u)throw rn("Expected stringOrFieldPath to be a string or a FieldPath");h=Di(t,u)}if(!i.contains(h))throw new p(d.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");a=a.add(h)}r=vt.Yt(a),s=i.fieldTransforms.filter((function(t){return r.$t(t.field)}))}else r=vt.Xt(i.sn),s=i.fieldTransforms;return new xi(o,r,s)},t.prototype._f=function(t,e){var n=this,i=new Si(1,t,st.rt);Ti("Data must be an object, but it was:",i,e);var r=new ht(st.W),s=qt.wn();E(e,(function(e,o){var a=Di(t,e),l=i.vf(a);if((o=n.If(o,l))instanceof mi)r=r.add(a);else{var c=n.pf(o,l);null!=c&&(r=r.add(a),s.set(a,c))}}));var o=vt.Yt(r);return new Ci(s.an(),o,i.fieldTransforms)},t.prototype.Tf=function(t,e,n,i){var r=new Si(1,t,st.rt),s=[Oi(t,e)],o=[n];if(i.length%2!=0)throw new p(d.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<i.length;a+=2)s.push(Oi(t,i[a])),o.push(i[a+1]);var l=new ht(st.W),c=qt.wn();for(a=0;a<s.length;++a){var u=s[a],h=r.vf(u),f=this.If(o[a],h);if(f instanceof mi)l=l.add(u);else{var m=this.pf(f,h);null!=m&&(l=l.add(u),c.set(u,m))}}var g=vt.Yt(l);return new Ci(c.an(),g,r.fieldTransforms)},t.prototype.Ef=function(t,e,n){void 0===n&&(n=!1);var i=new Si(n?4:3,t,st.rt),r=this.pf(e,i);return sn(null!=r,"Parsed data should not be null."),sn(0===i.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.If=function(t,e){try{return this.gf(t)}catch(t){var n=Ri(t);throw e.mf(n)}},t.prototype.pf=function(t,e){if(Ai(t=this.If(t,e)))return Ti("Unsupported field value:",e,t),this.Df(t,e);if(t instanceof fi)return this.Rf(t,e),null;if(e.path&&e.sn.push(e.path),t instanceof Array){if(e.af&&4!==e.cf)throw e.mf("Nested arrays are not supported");return this.Sf(t,e)}return this.Af(t,e)},t.prototype.Df=function(t,e){var n=this,i=new at(an);return S(t)?e.path&&e.path.length>0&&e.sn.push(e.path):E(t,(function(t,r){var s=n.pf(r,e.lf(t));null!=s&&(i=i.dt(t,s))})),new qt(i)},t.prototype.Sf=function(t,e){for(var n=[],i=0,r=0,s=t;r<s.length;r++){var o=this.pf(s[r],e.wf(i));null==o&&(o=Ot.yn),n.push(o),i++}return new Ht(n)},t.prototype.Rf=function(t,e){if(!Ei(e.cf))throw e.mf(t.rf+"() can only be used with update() and set()");if(null===e.path)throw e.mf(t.rf+"() is not currently supported inside arrays");if(t instanceof mi){if(2!==e.cf)throw 1===e.cf?(sn(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.mf("FieldValue.delete() can only appear at the top level of your update data")):e.mf("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.sn.push(e.path)}else if(t instanceof gi)e.fieldTransforms.push(new _t(e.path,pt.instance));else if(t instanceof yi){var n=this.Cf(t.rf,t.uf),i=new ft(n);e.fieldTransforms.push(new _t(e.path,i))}else if(t instanceof vi){n=this.Cf(t.rf,t.uf);var r=new mt(n);e.fieldTransforms.push(new _t(e.path,r))}else if(t instanceof _i){var s=this.Ef("FieldValue.increment",t.sf),o=new gt(s);e.fieldTransforms.push(new _t(e.path,o))}else rn("Unknown FieldValue type: "+t)},t.prototype.Af=function(t,e){if(null===t)return Ot.yn;if("number"==typeof t)return Xt(t)?new Pt(t):new Ft(t);if("boolean"==typeof t)return Dt.of(t);if("string"==typeof t)return new Mt(t);if(t instanceof Date)return new Lt(tt.fromDate(t));if(t instanceof tt)return new Lt(new tt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof Z)return new Bt(t);if(t instanceof X)return new jt(t);if(t instanceof ki)return new Ut(t.Dn,t.key);throw e.mf("Unsupported field value: "+j(t))},t.prototype.Cf=function(t,e){var n=this;return e.map((function(e,i){var r=new Si(3,t,st.rt);return n.pf(e,r.wf(i))}))},t}();function Ai(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof Z||t instanceof X||t instanceof ki||t instanceof fi)}function Ti(t,e,n){if(!Ai(n)||!V(n)){var i=j(n);throw e.mf("an object"===i?t+" a custom object":t+" "+i)}}function Oi(t,e){if(e instanceof di)return e.if;if("string"==typeof e)return Di(t,e);throw new p(d.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Di(t,e){try{return function(t){if(t.search(pi)>=0)throw new p(d.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(di.bind.apply(di,s.__spreadArrays([void 0],t.split("."))))}catch(e){throw new p(d.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).if}catch(e){var n=Ri(e);throw new p(d.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function Ri(t){return t instanceof Error?t.message:t.toString()}var Ni=function(){function t(t){this.Pf=t,this.kf=Se(),this.mutations=[],this.Nf=!1,this.Of=null,this.Ff=new Set}return t.prototype.lookup=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n=this;return s.__generator(this,(function(i){switch(i.label){case 0:if(this.Vf(),this.mutations.length>0)throw new p(d.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.Pf.lookup(t)];case 1:return(e=i.sent()).forEach((function(t){t instanceof $t||t instanceof Wt?n.Uf(t):rn("Document in a transaction was a "+t.constructor.name)})),[2,e]}}))}))},t.prototype.set=function(t,e){this.write(e.hf(t,this.en(t))),this.Ff.add(t)},t.prototype.update=function(t,e){try{this.write(e.hf(t,this.xf(t)))}catch(t){this.Of=t}this.Ff.add(t)},t.prototype.delete=function(t){this.write([new kt(t,this.en(t))]),this.Ff.add(t)},t.prototype.commit=function(){return s.__awaiter(this,void 0,void 0,(function(){var t,e=this;return s.__generator(this,(function(n){switch(n.label){case 0:if(this.Vf(),this.Of)throw this.Of;return t=this.kf,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,n){e.mutations.push(new It(t,e.en(t)))})),[4,this.Pf.commit(this.mutations)];case 1:return n.sent(),this.Nf=!0,[2]}}))}))},t.prototype.Uf=function(t){var e;if(t instanceof Wt)e=t.version;else{if(!(t instanceof $t))throw rn("Document in a transaction was a "+t.constructor.name);e=et.q()}var n=this.kf.get(t.key);if(null!==n){if(!e.isEqual(n))throw new p(d.ABORTED,"Document version changed between two reads.")}else this.kf=this.kf.dt(t.key,e)},t.prototype.en=function(t){var e=this.kf.get(t);return!this.Ff.has(t)&&e?wt.updateTime(e):wt.NONE},t.prototype.xf=function(t){var e=this.kf.get(t);if(!this.Ff.has(t)&&e){if(e.isEqual(et.q()))throw new p(d.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wt.updateTime(e)}return wt.exists(!0)},t.prototype.write=function(t){this.Vf(),this.mutations=this.mutations.concat(t)},t.prototype.Vf=function(){sn(!this.Nf,"A transaction object cannot be used after its update callback has been invoked.")},t}(),Pi=function(){function t(t,e){this.$r=t,this.vh=e,this.state="Unknown",this.jf=0,this.Lf=null,this.qf=!0}return t.prototype.Bf=function(){var t=this;0===this.jf&&(this.Mf("Unknown"),sn(null===this.Lf,"onlineStateTimer shouldn't be started yet"),this.Lf=this.$r.yu("online_state_timeout",1e4,(function(){return t.Lf=null,sn("Unknown"===t.state,"Timer should be canceled if we transitioned to a different state."),t.Qf("Backend didn't respond within 10 seconds."),t.Mf("Offline"),Promise.resolve()})))},t.prototype.Gf=function(t){"Online"===this.state?(this.Mf("Unknown"),sn(0===this.jf,"watchStreamFailures must be 0"),sn(null===this.Lf,"onlineStateTimer must be null")):(this.jf++,this.jf>=1&&(this.Wf(),this.Qf("Connection failed 1 times. Most recent error: "+t.toString()),this.Mf("Offline")))},t.prototype.set=function(t){this.Wf(),this.jf=0,"Online"===t&&(this.qf=!1),this.Mf(t)},t.prototype.Mf=function(t){t!==this.state&&(this.state=t,this.vh(t))},t.prototype.Qf=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.qf?(en(e),this.qf=!1):tn("OnlineStateTracker",e)},t.prototype.Wf=function(){null!==this.Lf&&(this.Lf.cancel(),this.Lf=null)},t}(),Fi=function(){function t(t,e,n,i,r){var o=this;this.zf=t,this.Pf=e,this.Kf=[],this.Hf={},this.Jf=null,this.networkEnabled=!1,this.isPrimary=!1,this.Yf=r,this.Yf.Xf((function(t){n.ou((function(){return s.__awaiter(o,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.$f()?(tn("RemoteStore","Restarting streams for network reachability change."),[4,this.Zf()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.tl=new Pi(n,i),this.nl=this.Pf.Za({Ma:this.il.bind(this),xa:this.el.bind(this),Ga:this.rl.bind(this)}),this.ul=this.Pf.$a({Ma:this.sl.bind(this),xa:this.ol.bind(this),Ya:this.hl.bind(this),Ja:this.Ja.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return s.__awaiter(this,void 0,void 0,(function(){var t;return s.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.$f()?(t=this.ul,[4,this.zf.Eo()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.cl()?this.al():this.tl.set("Unknown"),[4,this.fl()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.ll()];case 1:return t.sent(),this.tl.set("Offline"),[2]}}))}))},t.prototype.ll=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return[4,this.ul.stop()];case 1:return t.sent(),[4,this.nl.stop()];case 2:return t.sent(),this.Kf.length>0&&(tn("RemoteStore","Stopping write stream with "+this.Kf.length+" pending writes"),this.Kf=[]),this.dl(),[2]}}))}))},t.prototype.shutdown=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return tn("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.ll()];case 1:return t.sent(),this.Yf.shutdown(),this.tl.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){w(this.Hf,t.targetId)||(this.Hf[t.targetId]=t,this.cl()?this.al():this.nl.Ca()&&this.vl(t))},t.prototype.wl=function(t){sn(w(this.Hf,t),"unlisten called on target no currently watched: "+t),delete this.Hf[t],this.nl.Ca()&&this.ml(t),S(this.Hf)&&(this.nl.Ca()?this.nl.Na():this.$f()&&this.tl.set("Unknown"))},t.prototype.be=function(t){return this.Hf[t]||null},t.prototype.ge=function(t){return this.dh.ge(t)},t.prototype.vl=function(t){this.Jf.Ji(t.targetId),this.nl.watch(t)},t.prototype.ml=function(t){this.Jf.Ji(t),this.nl.Wa(t)},t.prototype.al=function(){sn(this.cl(),"startWatchStream() called when shouldStartWatchStream() is false."),this.Jf=new je(this),this.nl.start(),this.tl.Bf()},t.prototype.cl=function(){return this.$f()&&!this.nl.Aa()&&!S(this.Hf)},t.prototype.$f=function(){return this.isPrimary&&this.networkEnabled},t.prototype.dl=function(){this.Jf=null},t.prototype.il=function(){return s.__awaiter(this,void 0,void 0,(function(){var t=this;return s.__generator(this,(function(e){return C(this.Hf,(function(e,n){t.vl(n)})),[2]}))}))},t.prototype.el=function(t){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){return void 0===t&&sn(!this.cl(),"Watch stream was stopped gracefully while still needed."),this.dl(),this.cl()?(this.tl.Gf(t),this.al()):this.tl.set("Unknown"),[2]}))}))},t.prototype.rl=function(t,e){return s.__awaiter(this,void 0,void 0,(function(){var n;return s.__generator(this,(function(i){switch(i.label){case 0:return this.tl.set("Online"),t instanceof Le&&2===t.state&&t.cause?[2,this.gl(t)]:(t instanceof Fe?this.Jf.ee(t):t instanceof Me?this.Jf.fe(t):(sn(t instanceof Le,"Expected watchChange to be an instance of WatchTargetChange"),this.Jf.se(t)),e.isEqual(et.MIN)?[3,3]:[4,this.zf.Ro()]);case 1:return n=i.sent(),e.B(n)>=0?[4,this.bl(e)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},t.prototype.bl=function(t){var e=this;sn(!t.isEqual(et.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.Jf.ve(t);return C(n.Ei,(function(n,i){if(i.resumeToken.P()>0){var r=e.Hf[n];r&&(e.Hf[n]=r.li(i.resumeToken,t))}})),n.Di.forEach((function(t){var n=e.Hf[t];if(n){e.Hf[t]=n.li(W.k,n.ai),e.ml(t);var i=new fe(n.target,t,1,n.sequenceNumber);e.vl(i)}})),this.dh.So(n)},t.prototype.gl=function(t){var e=this;sn(!!t.cause,"Handling target error without a cause");var n=t.cause,i=Promise.resolve();return t.targetIds.forEach((function(t){i=i.then((function(){return s.__awaiter(e,void 0,void 0,(function(){return s.__generator(this,(function(e){return w(this.Hf,t)?(delete this.Hf[t],this.Jf.removeTarget(t),[2,this.dh.pl(t,n)]):[2]}))}))}))})),i},t.prototype.fl=function(){return s.__awaiter(this,void 0,void 0,(function(){var t;return s.__generator(this,(function(e){switch(e.label){case 0:return this.yl()?[4,this.zf.jo(this.Kf.length>0?this.Kf[this.Kf.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.Kf.length&&this.ul.Na(),[3,4]);case 2:return this._l(t),[4,this.fl()];case 3:e.sent(),e.label=4;case 4:return this.Il()&&this.Tl(),[2]}}))}))},t.prototype.yl=function(){return this.$f()&&this.Kf.length<10},t.prototype.El=function(){return this.Kf.length},t.prototype._l=function(t){sn(this.yl(),"addToWritePipeline called when pipeline is full"),this.Kf.push(t),this.ul.Ca()&&this.ul.Ka&&this.ul.Ha(t.mutations)},t.prototype.Il=function(){return this.$f()&&!this.ul.Aa()&&this.Kf.length>0},t.prototype.Tl=function(){sn(this.Il(),"startWriteStream() called when shouldStartWriteStream() is false."),this.ul.start()},t.prototype.sl=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return this.ul.Xa(),[2]}))}))},t.prototype.hl=function(){var t=this;return this.zf.Do(this.ul.lastStreamToken).then((function(){for(var e=0,n=t.Kf;e<n.length;e++)t.ul.Ha(n[e].mutations)})).catch(Dn)},t.prototype.Ja=function(t,e){var n=this;sn(this.Kf.length>0,"Got result for empty write pipeline");var i=this.Kf.shift(),r=pn.from(i,t,e,this.ul.lastStreamToken);return this.dh.Dl(r).then((function(){return n.fl()}))},t.prototype.ol=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e=this;return s.__generator(this,(function(n){return void 0===t&&sn(!this.Il(),"Write stream was stopped gracefully while still needed."),t&&this.Kf.length>0?[2,(this.ul.Ka?this.Rl(t):this.Sl(t)).then((function(){e.Il()&&e.Tl()}))]:[2]}))}))},t.prototype.Sl=function(t){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){return ge(t.code)?(tn("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.ul.lastStreamToken),this.ul.lastStreamToken=W.k,[2,this.zf.Do(W.k).catch(Dn)]):[2]}))}))},t.prototype.Rl=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n=this;return s.__generator(this,(function(i){return ge(r=t.code)&&r!==d.ABORTED?(e=this.Kf.shift(),this.ul.ka(),[2,this.dh.Al(e.batchId,t).then((function(){return n.fl()}))]):[2];var r}))}))},t.prototype.Cl=function(){return new Ni(this.Pf)},t.prototype.Zf=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.ll()];case 1:return t.sent(),this.tl.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.Pl=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.$f()?(tn("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.Zf()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.kl=function(t){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.ll()];case 3:e.sent(),this.tl.set("Unknown"),e.label=4;case 4:return[2]}}))}))},t}(),Mi=function(t){this.key=t},Li=function(t){this.key=t},Vi=function(){function t(t,e){this.query=t,this.Nl=e,this.Ol=null,this.Pi=!1,this.Fl=Ie(),this.yi=Ie(),this.Vl=new Oe(t.Xn.bind(t))}return Object.defineProperty(t.prototype,"Ul",{get:function(){return this.Nl},enumerable:!0,configurable:!0}),t.prototype.xl=function(t,e){var n=this,i=e?e.jl:new De,r=e?e.Vl:this.Vl,s=e?e.yi:this.yi,o=r,a=!1,l=this.query.ii()&&r.size===this.query.limit?r.last():null,c=this.query.ei()&&r.size===this.query.limit?r.first():null;if(t.bt((function(t,e){var u=r.get(t),h=e instanceof Wt?e:null;h&&(sn(t.isEqual(h.key),"Mismatching keys found in document changes: "+t+" != "+h.key),h=n.query.matches(h)?h:null);var d=!!u&&n.yi.has(u.key),p=!!h&&(h.rn||n.yi.has(h.key)&&h.hasCommittedMutations),f=!1;u&&h?u.data().isEqual(h.data())?d!==p&&(i.track({type:3,doc:h}),f=!0):n.Ll(u,h)||(i.track({type:2,doc:h}),f=!0,(l&&n.query.Xn(h,l)>0||c&&n.query.Xn(h,c)<0)&&(a=!0)):!u&&h?(i.track({type:0,doc:h}),f=!0):u&&!h&&(i.track({type:1,doc:u}),f=!0,(l||c)&&(a=!0)),f&&(h?(o=o.add(h),s=p?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),this.query.ii()||this.query.ei())for(;o.size>this.query.limit;){var u=this.query.ii()?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return sn(!a||!e,"View was refilled using docs that themselves needed refilling."),{Vl:o,jl:i,yc:a,yi:s}},t.prototype.Ll=function(t,e){return t.rn&&e.hasCommittedMutations&&!e.rn},t.prototype.qs=function(t,e,n){var i=this;sn(!t.yc,"Cannot apply changes that need a refill");var r=this.Vl;this.Vl=t.Vl,this.yi=t.yi;var s=t.jl.bi();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rn("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||i.query.Xn(t.doc,e.doc)})),this.ql(n);var o=e?this.Bl():[],a=0===this.Fl.size&&this.Pi?1:0,l=a!==this.Ol;return this.Ol=a,0!==s.length||l?{snapshot:new Re(this.query,t.Vl,r,s,t.yi,0===a,l,!1),Ml:o}:{Ml:o}},t.prototype.Ql=function(t){return this.Pi&&"Offline"===t?(this.Pi=!1,this.qs({Vl:this.Vl,jl:new De,yi:this.yi,yc:!1},!1)):{Ml:[]}},t.prototype.Gl=function(t){return!this.Nl.has(t)&&!!this.Vl.has(t)&&!this.Vl.get(t).rn},t.prototype.ql=function(t){var e=this;t&&(t.ki.forEach((function(t){return e.Nl=e.Nl.add(t)})),t.Ni.forEach((function(t){return sn(e.Nl.has(t),"Modified document "+t+" not found in view.")})),t.Oi.forEach((function(t){return e.Nl=e.Nl.delete(t)})),this.Pi=t.Pi)},t.prototype.Bl=function(){var t=this;if(!this.Pi)return[];var e=this.Fl;this.Fl=Ie(),this.Vl.forEach((function(e){t.Gl(e.key)&&(t.Fl=t.Fl.add(e.key))}));var n=[];return e.forEach((function(e){t.Fl.has(e)||n.push(new Li(e))})),this.Fl.forEach((function(t){e.has(t)||n.push(new Mi(t))})),n},t.prototype.Wl=function(t){this.Nl=t.Yo,this.Fl=Ie();var e=this.xl(t.documents);return this.qs(e,!0)},t.prototype.zl=function(){return Re.Ti(this.query,this.Vl,this.yi,0===this.Ol)},t}(),ji=function(){function t(t,e,n,i){this.$r=t,this.Kl=e,this.updateFunction=n,this.iu=i,this.Hl=5,this.Sa=new ai(this.$r,"retry_transaction")}return t.prototype.run=function(){this.Jl()},t.prototype.Jl=function(){var t=this;this.Sa._a((function(){return s.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return s.__generator(this,(function(i){return t=this.Kl.Cl(),(e=this.Yl(t))&&e.then((function(e){n.$r.ou((function(){return t.commit().then((function(){n.iu.resolve(e)})).catch((function(t){n.Xl(t)}))}))})).catch((function(t){n.Xl(t)})),[2]}))}))}))},t.prototype.Yl=function(t){try{var e=this.updateFunction(t);return!Yt(e)&&e.catch&&e.then?e:(this.iu.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.iu.reject(t),null}},t.prototype.Xl=function(t){var e=this;this.Hl>0&&this.$l(t)?(this.Hl-=1,this.$r.ou((function(){return e.Jl(),Promise.resolve()}))):this.iu.reject(t)},t.prototype.$l=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ge(e)}return!1},t}(),Ui=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Bi=function(t){this.key=t,this.Zl=!1},qi=function(){function t(t,e,n,i){this.zf=t,this.Kl=e,this.td=n,this.currentUser=i,this.nd=null,this.ed=new fn((function(t){return t.canonicalId()})),this.rd={},this.ud=new at(ot.W),this.sd={},this.od=new In,this.hd={},this.ad=new Map,this.fd=ti.Bc(),this.isPrimary=void 0,this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"ld",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){sn(null!==t,"SyncEngine listener cannot be null"),sn(null===this.nd,"SyncEngine already has a subscriber."),this.nd=t},t.prototype.listen=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,o;return s.__generator(this,(function(s){switch(s.label){case 0:return this.dd("listen()"),(i=this.ed.get(t))?(this.td.Vh(e=i.targetId),n=i.view.zl(),[3,4]):[3,1];case 1:return[4,this.zf.Mo(t.Yn())];case 2:return r=s.sent(),o=this.td.Vh(r.targetId),[4,this.vd(t,e=r.targetId,"current"===o)];case 3:n=s.sent(),this.isPrimary&&this.Kl.listen(r),s.label=4;case 4:return this.nd.Ga([n]),[2,e]}}))}))},t.prototype.vd=function(t,e,n){return s.__awaiter(this,void 0,void 0,(function(){var i,r,o,a,l,c;return s.__generator(this,(function(s){switch(s.label){case 0:return[4,this.zf.Ko(t,!0)];case 1:return i=s.sent(),r=new Vi(t,i.Yo),o=r.xl(i.documents),a=Pe.Ci(e,n&&"Offline"!==this.onlineState),sn(0===(l=r.qs(o,!0===this.isPrimary,a)).Ml.length,"View returned limbo docs before target ack from the server."),sn(!!l.snapshot,"applyChanges for new view should always return a snapshot"),c=new Ui(t,e,r),this.ed.set(t,c),this.rd[e]||(this.rd[e]=[]),this.rd[e].push(t),[2,l.snapshot]}}))}))},t.prototype.wd=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n;return s.__generator(this,(function(i){switch(i.label){case 0:return[4,this.zf.Ko(t.query,!0)];case 1:return e=i.sent(),n=t.view.Wl(e),this.isPrimary&&this.md(t.targetId,n.Ml),[2,n]}}))}))},t.prototype.wl=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n,i=this;return s.__generator(this,(function(r){switch(r.label){case 0:return this.dd("unlisten()"),sn(!!(e=this.ed.get(t)),"Trying to unlisten on query not found:"+t),(n=this.rd[e.targetId]).length>1?(this.rd[e.targetId]=n.filter((function(e){return!e.isEqual(t)})),this.ed.delete(t),[2]):this.isPrimary?(this.td.xh(e.targetId),this.td.Ph(e.targetId)?[3,2]:[4,this.zf.zo(e.targetId,!1).then((function(){i.td.Lh(e.targetId),i.Kl.wl(e.targetId),i.gd(e.targetId)})).catch(Dn)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.gd(e.targetId),[4,this.zf.zo(e.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return s.__awaiter(this,void 0,void 0,(function(){var n;return s.__generator(this,(function(i){switch(i.label){case 0:return this.dd("write()"),[4,this.zf.ao(t)];case 1:return n=i.sent(),this.td.kh(n.batchId),this.bd(n.batchId,e),[4,this.pd(n.ks)];case 2:return i.sent(),[4,this.Kl.fl()];case 3:return i.sent(),[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new ji(t,this.Kl,e,n).run()},t.prototype.So=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n=this;return s.__generator(this,(function(i){switch(i.label){case 0:this.dd("applyRemoteEvent()"),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.zf.So(t)];case 2:return e=i.sent(),E(t.Ei,(function(t,e){var i=n.sd[Number(t)];i&&(sn(e.ki.size+e.Ni.size+e.Oi.size<=1,"Limbo resolution for single document contains multiple changes."),e.ki.size>0?i.Zl=!0:e.Ni.size>0?sn(i.Zl,"Received change for limbo target document without add."):e.Oi.size>0&&(sn(i.Zl,"Received remove for limbo target document without add."),i.Zl=!1))})),[4,this.pd(e,t)];case 3:return i.sent(),[3,6];case 4:return[4,Dn(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Ql=function(t,e){if(this.isPrimary&&0===e||!this.isPrimary&&1===e){this.dd("applyOnlineStateChange()");var n=[];this.ed.forEach((function(e,i){var r=i.view.Ql(t);sn(0===r.Ml.length,"OnlineState should not affect limbo documents."),r.snapshot&&n.push(r.snapshot)})),this.nd.yd(t),this.nd.Ga(n),this.onlineState=t,this.isPrimary&&this.td.Mh(t)}},t.prototype.pl=function(t,e){return s.__awaiter(this,void 0,void 0,(function(){var n,i,r,o,a,l=this;return s.__generator(this,(function(s){switch(s.label){case 0:return this.dd("rejectListens()"),this.td.qh(t,"rejected",e),(i=(n=this.sd[t])&&n.key)?(this.ud=this.ud.remove(i),delete this.sd[t],r=(r=new at(ot.W)).dt(i,new $t(i,et.q())),o=Ie().add(i),a=new Ne(et.MIN,{},new ht(an),r,o),[2,this.So(a)]):[3,1];case 1:return[4,this.zf.zo(t,!1).then((function(){return l.gd(t,e)})).catch(Dn)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))},t.prototype.Xh=function(t,e,n){return s.__awaiter(this,void 0,void 0,(function(){var i;return s.__generator(this,(function(r){switch(r.label){case 0:return this.dd("applyBatchState()"),[4,this.zf.lo(t)];case 1:return null===(i=r.sent())?(tn("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.Kl.fl()];case 2:return r.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this._d(t,n||null),this.zf.Zo(t)):rn("Unknown batchState: "+e),r.label=4;case 4:return[4,this.pd(i)];case 5:return r.sent(),[2]}}))}))},t.prototype.Dl=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n;return s.__generator(this,(function(i){switch(i.label){case 0:this.dd("applySuccessfulWrite()"),this._d(e=t.batch.batchId,null),this.Id(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.zf.vo(t)];case 2:return n=i.sent(),this.td.Oh(e,"acknowledged"),[4,this.pd(n)];case 3:return i.sent(),[3,6];case 4:return[4,Dn(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Al=function(t,e){return s.__awaiter(this,void 0,void 0,(function(){var n;return s.__generator(this,(function(i){switch(i.label){case 0:this.dd("rejectFailedWrite()"),this._d(t,e),this.Id(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.zf.yo(t)];case 2:return n=i.sent(),this.td.Oh(t,"rejected",e),[4,this.pd(n)];case 3:return i.sent(),[3,6];case 4:return[4,Dn(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Td=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n;return s.__generator(this,(function(i){switch(i.label){case 0:return this.Kl.$f()||tn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.zf.To()];case 1:return-1===(e=i.sent())?(t.resolve(),[2]):((n=this.ad.get(e)||[]).push(t),this.ad.set(e,n),[2])}}))}))},t.prototype.Id=function(t){(this.ad.get(t)||[]).forEach((function(t){t.resolve()})),this.ad.delete(t)},t.prototype.Ed=function(t){this.ad.forEach((function(e){e.forEach((function(e){e.reject(new p(d.CANCELLED,t))}))})),this.ad.clear()},t.prototype.bd=function(t,e){var n=this.hd[this.currentUser.i()];n||(n=new at(an)),n=n.dt(t,e),this.hd[this.currentUser.i()]=n},t.prototype._d=function(t,e){var n=this.hd[this.currentUser.i()];if(n){var i=n.get(t);i&&(sn(t===n.wt(),"Mutation callbacks processed out-of-order?"),e?i.reject(e):i.resolve(),n=n.remove(t)),this.hd[this.currentUser.i()]=n}},t.prototype.gd=function(t,e){var n=this;void 0===e&&(e=null),this.td.xh(t),sn(this.rd[t]&&0!==this.rd[t].length,"There are no queries mapped to target id "+t);for(var i=0,r=this.rd[t];i<r.length;i++){var s=r[i];this.ed.delete(s),e&&this.nd.Dd(s,e)}if(delete this.rd[t],this.isPrimary){var o=this.od.As(t);this.od.Rs(t),o.forEach((function(t){n.od.Cs(t)||n.Rd(t)}))}},t.prototype.Rd=function(t){var e=this.ud.get(t);null!==e&&(this.Kl.wl(e),this.ud=this.ud.remove(t),delete this.sd[e])},t.prototype.md=function(t,e){for(var n=0,i=e;n<i.length;n++){var r=i[n];r instanceof Mi?(this.od._s(r.key,t),this.Sd(r)):r instanceof Li?(tn("SyncEngine","Document no longer in limbo: "+r.key),this.od.Ts(r.key,t),this.od.Cs(r.key)||this.Rd(r.key)):rn("Unknown limbo change: "+JSON.stringify(r))}},t.prototype.Sd=function(t){var e=t.key;if(!this.ud.get(e)){tn("SyncEngine","New document in limbo: "+e);var n=this.fd.next(),i=ee.jn(e.path);this.sd[n]=new Bi(e),this.Kl.listen(new fe(i.Yn(),n,2,gn.Xr)),this.ud=this.ud.dt(e,n)}},t.prototype.Ad=function(){return this.ud},t.prototype.pd=function(t,e){return s.__awaiter(this,void 0,void 0,(function(){var n,i,r,o=this;return s.__generator(this,(function(s){switch(s.label){case 0:return n=[],i=[],r=[],this.ed.forEach((function(s,a){r.push(Promise.resolve().then((function(){var e=a.view.xl(t);return e.yc?o.zf.Ko(a.query,!1).then((function(t){return a.view.xl(t.documents,e)})):e})).then((function(t){var r=a.view.qs(t,!0===o.isPrimary,e&&e.Ei[a.targetId]);if(o.md(a.targetId,r.Ml),r.snapshot){o.isPrimary&&o.td.qh(a.targetId,r.snapshot.fromCache?"not-current":"current"),n.push(r.snapshot);var s=mn.zr(a.targetId,r.snapshot);i.push(s)}})))})),[4,Promise.all(r)];case 1:return s.sent(),this.nd.Ga(n),[4,this.zf.xo(i)];case 2:return s.sent(),[2]}}))}))},t.prototype.dd=function(t){sn(null!==this.nd,"Trying to call "+t+" before calling subscribe().")},t.prototype.Pl=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n;return s.__generator(this,(function(i){switch(i.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.Ed("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.zf.ro(t)]):[3,3];case 1:return n=i.sent(),this.td.ro(t,n.ho,n.co),[4,this.pd(n.oo)];case 2:i.sent(),i.label=3;case 3:return[4,this.Kl.Pl()];case 4:return i.sent(),[2]}}))}))},t.prototype.kl=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,o,a=this;return s.__generator(this,(function(s){switch(s.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.Kl.kl(!0)]);case 1:return s.sent(),r=this.td.Ch(),[4,this.Cd(r.nt())];case 2:for(e=s.sent(),n=0,i=e;n<i.length;n++)this.Kl.listen(i[n]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,r=[],o=Promise.resolve(),C(this.rd,(function(t,e){a.td.jh(t)?r.push(t):o=o.then((function(){return a.gd(t),a.zf.zo(t,!0)})),a.Kl.wl(t)})),[4,o]);case 4:return s.sent(),[4,this.Cd(r)];case 5:return s.sent(),this.Pd(),[4,this.Kl.kl(!1)];case 6:s.sent(),s.label=7;case 7:return[2]}}))}))},t.prototype.Pd=function(){var t=this;C(this.sd,(function(e){t.Kl.wl(e)})),this.od.Ss(),this.sd=[],this.ud=new at(ot.W)},t.prototype.Cd=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,o,a,l,c,u,h,d,p,f;return s.__generator(this,(function(s){switch(s.label){case 0:e=[],n=[],i=0,r=t,s.label=1;case 1:return i<r.length?(a=void 0,(l=this.rd[o=r[i]])&&0!==l.length?[4,this.zf.zo(o,!0)]:[3,8]):[3,14];case 2:return s.sent(),[4,this.zf.Mo(l[0].Yn())];case 3:a=s.sent(),c=0,u=l,s.label=4;case 4:return c<u.length?(sn(!!(d=this.ed.get(h=u[c])),"No query view found for "+h),[4,this.wd(d)]):[3,7];case 5:(p=s.sent()).snapshot&&n.push(p.snapshot),s.label=6;case 6:return c++,[3,4];case 7:return[3,12];case 8:return sn(!0===this.isPrimary,"A secondary tab should never have an active target without an active query."),[4,this.zf.ih(o)];case 9:return sn(!!(f=s.sent()),"Target for id "+o+" not found"),[4,this.zf.Mo(f)];case 10:return a=s.sent(),[4,this.vd(this.kd(f),o,!1)];case 11:s.sent(),s.label=12;case 12:e.push(a),s.label=13;case 13:return i++,[3,1];case 14:return this.nd.Ga(n),[2,e]}}))}))},t.prototype.kd=function(t){return new ee(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},t.prototype.$o=function(){return this.zf.$o()},t.prototype.$h=function(t,e,n){return s.__awaiter(this,void 0,void 0,(function(){var i,r;return s.__generator(this,(function(s){switch(s.label){case 0:if(this.isPrimary)return tn("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.rd[t])return[3,7];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.zf.eh()];case 2:return i=s.sent(),r=Ne.Ai(t,"current"===e),[4,this.pd(i,r)];case 3:return s.sent(),[3,7];case 4:return[4,this.zf.zo(t,!0)];case 5:return s.sent(),this.gd(t,n),[3,7];case 6:rn("Unexpected target state: "+e),s.label=7;case 7:return[2]}}))}))},t.prototype.Zh=function(t,e){return s.__awaiter(this,void 0,void 0,(function(){var n,i,r,o,a,l,c,u,h,d=this;return s.__generator(this,(function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,i=t,p.label=1;case 1:return n<i.length?(sn(!this.rd[h=i[n]],"Trying to add an already active target"),[4,this.zf.ih(h)]):[3,6];case 2:return sn(!!(r=p.sent()),"Query data for active target "+h+" not found"),[4,this.zf.Mo(r)];case 3:return o=p.sent(),[4,this.vd(this.kd(r),o.targetId,!1)];case 4:p.sent(),this.Kl.listen(o),p.label=5;case 5:return n++,[3,1];case 6:a=function(t){return s.__generator(this,(function(e){switch(e.label){case 0:return l.rd[t]?[4,l.zf.zo(t,!1).then((function(){d.Kl.wl(t),d.gd(t)})).catch(Dn)]:[2,"continue"];case 1:return e.sent(),[2]}}))},l=this,c=0,u=e,p.label=7;case 7:return c<u.length?[5,a(h=u[c])]:[3,10];case 8:p.sent(),p.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.zf.nh(!0),this.Kl.enableNetwork()},t.prototype.disableNetwork=function(){return this.zf.nh(!1),this.Kl.disableNetwork()},t.prototype.ge=function(t){var e=this.sd[t];if(e&&e.Zl)return Ie().add(e.key);var n=Ie(),i=this.rd[t];if(!i)return n;for(var r=0,s=i;r<s.length;r++){var o=s[r],a=this.ed.get(o);sn(!!a,"No query view found for "+o),n=n.Qt(a.view.Ul)}return n},t}(),zi=function(){this.Nd=null,this.targetId=0,this.listeners=[]},Hi=function(){function t(t){this.dh=t,this.Od=new fn((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.Fd=new Set,this.dh.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,i=this.Od.get(e);return i||(n=!0,i=new zi,this.Od.set(e,i)),i.listeners.push(t),sn(!t.Ql(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),i.Nd&&t.Vd(i.Nd)&&this.Ud(),n?this.dh.listen(e).then((function(t){return i.targetId=t,t})):Promise.resolve(i.targetId)},t.prototype.wl=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n,i,r;return s.__generator(this,(function(s){return n=!1,(i=this.Od.get(e=t.query))&&(r=i.listeners.indexOf(t))>=0&&(i.listeners.splice(r,1),n=0===i.listeners.length),n?(this.Od.delete(e),[2,this.dh.wl(e)]):[2]}))}))},t.prototype.Ga=function(t){for(var e=!1,n=0,i=t;n<i.length;n++){var r=i[n],s=this.Od.get(r.query);if(s){for(var o=0,a=s.listeners;o<a.length;o++)a[o].Vd(r)&&(e=!0);s.Nd=r}}e&&this.Ud()},t.prototype.Dd=function(t,e){var n=this.Od.get(t);if(n)for(var i=0,r=n.listeners;i<r.length;i++)r[i].onError(e);this.Od.delete(t)},t.prototype.yd=function(t){this.onlineState=t;var e=!1;this.Od.forEach((function(n,i){for(var r=0,s=i.listeners;r<s.length;r++)s[r].Ql(t)&&(e=!0)})),e&&this.Ud()},t.prototype.xd=function(t){this.Fd.add(t),t.next()},t.prototype.jd=function(t){this.Fd.delete(t)},t.prototype.Ud=function(){this.Fd.forEach((function(t){t.next()}))},t}(),Gi=function(){function t(t,e,n){this.query=t,this.Ld=e,this.qd=!1,this.Bd=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Vd=function(t){if(sn(t.docChanges.length>0||t._i,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,i=t.docChanges;n<i.length;n++){var r=i[n];3!==r.type&&e.push(r)}t=new Re(t.query,t.docs,t.pi,e,t.yi,t.fromCache,t._i,!0)}var s=!1;return this.qd?this.Md(t)&&(this.Ld.next(t),s=!0):this.Qd(t,this.onlineState)&&(this.Gd(t),s=!0),this.Bd=t,s},t.prototype.onError=function(t){this.Ld.error(t)},t.prototype.Ql=function(t){this.onlineState=t;var e=!1;return this.Bd&&!this.qd&&this.Qd(this.Bd,t)&&(this.Gd(this.Bd),e=!0),e},t.prototype.Qd=function(t,e){return sn(!this.qd,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.Wd&&"Offline"!==e?(sn(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.Y()||"Offline"===e)},t.prototype.Md=function(t){return t.docChanges.length>0||!!(t._i||this.Bd&&this.Bd.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Gd=function(t){sn(!this.qd,"Trying to raise initial events for second time"),t=Re.Ti(t.query,t.docs,t.yi,t.fromCache),this.qd=!0,this.Ld.next(t)},t}(),Wi=function(){function t(t,e,n,i){this.platform=t,this.zd=e,this.credentials=n,this.$r=i,this.clientId=on.Ur()}return t.prototype.start=function(t,e){var n=this;this.Kd();var i=new yn,r=new yn,s=!1;return this.credentials.v((function(o){s?n.$r.ou((function(){return n.Pl(o)})):(s=!0,n.Hd(t,e,o,r).then((function(){return n.Jd(o)})).then(i.resolve,i.reject))})),this.$r.ou((function(){return i.promise})),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.Kd(),this.$r.enqueue((function(){return t.dh.enableNetwork()}))},t.prototype.Hd=function(t,e,n,i){return s.__awaiter(this,void 0,void 0,(function(){var r;return s.__generator(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,t.initialize(this.$r,this.zd,this.platform,this.clientId,n,e)];case 1:return s.sent(),this.persistence=t.la(),this.Yd=t.fa(),this.td=t.da(),i.resolve(),[3,3];case 2:if(r=s.sent(),i.reject(r),!this.Xd(r))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),[2,this.Hd(new oi,{aa:!1},n,i)];case 3:return[2]}}))}))},t.prototype.Xd=function(t){return"FirebaseError"===t.name?t.code===d.FAILED_PRECONDITION||t.code===d.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.Kd=function(){if(this.$r.vu)throw new p(d.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Jd=function(t){var e=this;return tn("FirestoreClient","Initializing. user=",t.uid),this.platform.$d(this.zd).then((function(n){return s.__awaiter(e,void 0,void 0,(function(){var e,i,r,o,a,l=this;return s.__generator(this,(function(c){switch(c.label){case 0:return e=new Gn,this.zf=new On(this.persistence,e,t),[4,this.zf.start()];case 1:return c.sent(),i=this.platform.Zd(),r=this.platform.tv(this.zd.Dn),o=new hi(this.$r,n,this.credentials,r),a=function(t){return l.dh.Ql(t,1)},this.Kl=new Fi(this.zf,o,this.$r,(function(t){return l.dh.Ql(t,0)}),i),this.dh=new qi(this.zf,this.Kl,this.td,t),this.td.vh=a,this.Kl.dh=this.dh,this.td.dh=this.dh,this.nv=new Hi(this.dh),[4,this.td.start()];case 2:return c.sent(),[4,this.Kl.start()];case 3:return c.sent(),[4,this.persistence.na((function(t){return s.__awaiter(l,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return[4,this.dh.kl(t)];case 1:return e.sent(),t&&!this.Yd.ss?this.Yd.start(this.zf):t||this.Yd.stop(),[2]}}))}))}))];case 4:return c.sent(),[4,this.persistence.ia((function(){return s.__awaiter(l,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))}))];case 5:return c.sent(),[2]}}))}))}))},t.prototype.Pl=function(t){return this.$r.Iu(),tn("FirestoreClient","Credential Changed. Current user: "+t.uid),this.dh.Pl(t)},t.prototype.disableNetwork=function(){var t=this;return this.Kd(),this.$r.enqueue((function(){return t.dh.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.$r.pu((function(){return s.__awaiter(t,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.Yd.stop(),[4,this.Kl.shutdown()];case 1:return t.sent(),[4,this.td.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.m(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.Kd();var e=new yn;return this.$r.ou((function(){return t.dh.Td(e)})),e.promise},t.prototype.listen=function(t,e,n){var i=this;this.Kd();var r=new Gi(t,e,n);return this.$r.ou((function(){return i.nv.listen(r)})),r},t.prototype.wl=function(t){var e=this;this.iv||this.$r.ou((function(){return e.nv.wl(t)}))},t.prototype.ev=function(t){var e=this;return this.Kd(),this.$r.enqueue((function(){return e.zf.qo(t)})).then((function(t){if(t instanceof Wt)return t;if(t instanceof $t)return null;throw new p(d.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},t.prototype.rv=function(t){var e=this;return this.Kd(),this.$r.enqueue((function(){return s.__awaiter(e,void 0,void 0,(function(){var e,n,i;return s.__generator(this,(function(r){switch(r.label){case 0:return[4,this.zf.Ko(t,!0)];case 1:return e=r.sent(),n=new Vi(t,e.Yo),i=n.xl(e.documents),[2,n.qs(i,!1).snapshot]}}))}))}))},t.prototype.write=function(t){var e=this;this.Kd();var n=new yn;return this.$r.ou((function(){return e.dh.write(t,n)})),n.promise},t.prototype.Dn=function(){return this.zd.Dn},t.prototype.xd=function(t){var e=this;this.Kd(),this.$r.ou((function(){return e.nv.xd(t),Promise.resolve()}))},t.prototype.jd=function(t){this.iv||this.nv.jd(t)},Object.defineProperty(t.prototype,"iv",{get:function(){return this.$r.vu},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.Kd();var n=new yn;return this.$r.ou((function(){return e.dh.runTransaction(e.$r,t,n),Promise.resolve()})),n.promise},t}(),$i=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.uv(this.observer.next,t)},t.prototype.error=function(t){this.uv(this.observer.error,t)},t.prototype.sv=function(){this.muted=!0},t.prototype.uv=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function Ki(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,i=0,r=["next","error","complete"];i<r.length;i++){var s=r[i];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var Yi=En.Xu,Qi=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new p(d.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else N("settings","non-empty string","host",t.host),this.host=t.host,P("settings","boolean","ssl",t.ssl),this.ssl=x(t.ssl,!0);if(B("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),P("settings","object","credentials",t.credentials),this.credentials=t.credentials,P("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?en("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&en("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=x(t.timestampsInSnapshots,!0),P("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=En.Zu;else{if(t.cacheSizeBytes!==Yi&&t.cacheSizeBytes<En.$u)throw new p(d.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+En.$u);this.cacheSizeBytes=t.cacheSizeBytes}P("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0!==t.experimentalForceLongPolling&&t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Xi=function(){function t(e,n,i){var r=this;if(void 0===i&&(i=new oi),this.ov=null,this.hv=new _n,this.INTERNAL={delete:function(){return s.__awaiter(r,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.cv(),[4,this.av.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var o=e;this.ov=o,this.fv=t.lv(o),this.dv=o.name,this.vv=new g(n)}else{var a=e;if(!a.projectId)throw new p(d.INVALID_ARGUMENT,"Must provide projectId");this.fv=new hn(a.projectId,a.database),this.dv="[DEFAULT]",this.vv=new m}this.wv=i,this.mv=new Qi({}),this.gv=this.bv(this.fv)}return t.prototype.settings=function(t){if(I("Firestore.settings",arguments,1),D("Firestore.settings","object",1,t),w(t,"persistence"))throw new p(d.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Qi(t);if(this.av&&!this.mv.isEqual(e))throw new p(d.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.mv=e,void 0!==e.credentials&&(this.vv=_(e.credentials))},t.prototype.enableNetwork=function(){return this.cv(),this.av.enableNetwork()},t.prototype.disableNetwork=function(){return this.cv(),this.av.disableNetwork()},t.prototype.enablePersistence=function(t){if(this.av)throw new p(d.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&en("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=x(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.pv(this.wv,{aa:!0,cacheSizeBytes:this.mv.cacheSizeBytes,synchronizeTabs:e})},t.prototype.clearPersistence=function(){return s.__awaiter(this,void 0,void 0,(function(){var t,e=this;return s.__generator(this,(function(n){if(void 0!==this.av&&!this.av.iv)throw new p(d.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return t=new yn,this.hv.wu((function(){return s.__awaiter(e,void 0,void 0,(function(){var e,n;return s.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e=this.yv(),[4,this.wv.clearPersistence(e)];case 1:return i.sent(),t.resolve(),[3,3];case 2:return n=i.sent(),t.reject(n),[3,3];case 3:return[2]}}))}))})),[2,t.promise]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"_v",{get:function(){return this.cv(),this.av.iv},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.cv(),this.av.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.cv(),Ki(t)?this.Iv(t):(D("Firestore.onSnapshotsInSync","function",1,t),this.Iv({next:t}))},t.prototype.Iv=function(t){var e=this,n=new $i({next:function(){t.next&&t.next()},error:function(t){throw rn("Uncaught Error in onSnapshotsInSync")}});return this.av.xd(n),function(){n.sv(),e.av.jd(n)}},t.prototype.cv=function(){return this.av||this.pv(new oi,{aa:!1}),this.av},t.prototype.yv=function(){return new un(this.fv,this.dv,this.mv.host,this.mv.ssl,this.mv.forceLongPolling)},t.prototype.pv=function(t,e){sn(!!this.mv.host,"FirestoreSettings.host is not set"),sn(!this.av,"configureClient() called multiple times");var n=this.yv();return this.av=new Wi(Qe.C(),n,this.vv,this.hv),this.av.start(t,e)},t.prototype.bv=function(t){return new Ii((function(e){if(e instanceof tr){var n=t,i=e.firestore.fv;if(!i.isEqual(n))throw new p(d.INVALID_ARGUMENT,"Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+n.projectId+"/"+n.database);return new ki(t,e.Tv)}return e}))},t.lv=function(t){var e=t.options;if(!w(e,"projectId"))throw new p(d.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new p(d.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new hn(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.ov)throw new p(d.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ov},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return I("Firestore.collection",arguments,1),D("Firestore.collection","non-empty string",1,t),this.cv(),new or(it.et(t),this)},t.prototype.doc=function(t){return I("Firestore.doc",arguments,1),D("Firestore.doc","non-empty string",1,t),this.cv(),tr.Ev(it.et(t),this)},t.prototype.collectionGroup=function(t){if(I("Firestore.collectionGroup",arguments,1),D("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new p(d.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.cv(),new rr(new ee(it.rt,t),this)},t.prototype.runTransaction=function(t){var e=this;return I("Firestore.runTransaction",arguments,1),D("Firestore.runTransaction","function",1,t),this.cv().transaction((function(n){return t(new Ji(e,n))}))},t.prototype.batch=function(){return this.cv(),new Zi(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(Je()){case 0:return"debug";case 1:return"error";case 2:return"silent";default:return rn("Unknown log level: "+Je())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(I("Firestore.setLogLevel",arguments,1),D("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":Ze(0);break;case"error":Ze(1);break;case"silent":Ze(2);break;default:throw new p(d.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype.Dv=function(){return this.mv.timestampsInSnapshots},t}(),Ji=function(){function t(t,e){this.Rv=t,this.Sv=e}return t.prototype.get=function(t){var e=this;I("Transaction.get",arguments,1);var n=ur("Transaction.get",t,this.Rv);return this.Sv.lookup([n.Tv]).then((function(t){if(!t||1!==t.length)return rn("Mismatch in docs returned from document lookup.");var i=t[0];if(i instanceof $t)return new nr(e.Rv,n.Tv,null,!1,!1,n.Av);if(i instanceof Wt)return new nr(e.Rv,n.Tv,i,!1,!1,n.Av);throw rn("BatchGetDocumentsRequest returned unexpected document type: "+i.constructor.name)}))},t.prototype.set=function(t,e,n){T("Transaction.set",arguments,2,3);var i=ur("Transaction.set",t,this.Rv);n=ar("Transaction.set",n);var r=dr(i.Av,e,"Transaction.set"),s=r[0],o=r[1],a=n.merge||n.mergeFields?this.Rv.gv.yf(o,s,n.mergeFields):this.Rv.gv.bf(o,s);return this.Sv.set(i.Tv,a),this},t.prototype.update=function(t,e,n){for(var i,r,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return"string"==typeof e||e instanceof di?(A("Transaction.update",arguments,3),i=ur("Transaction.update",t,this.Rv),r=this.Rv.gv.Tf("Transaction.update",e,n,s)):(I("Transaction.update",arguments,2),i=ur("Transaction.update",t,this.Rv),r=this.Rv.gv._f("Transaction.update",e)),this.Sv.update(i.Tv,r),this},t.prototype.delete=function(t){I("Transaction.delete",arguments,1);var e=ur("Transaction.delete",t,this.Rv);return this.Sv.delete(e.Tv),this},t}(),Zi=function(){function t(t){this.Rv=t,this.Cv=[],this.Pv=!1}return t.prototype.set=function(t,e,n){T("WriteBatch.set",arguments,2,3),this.kv();var i=ur("WriteBatch.set",t,this.Rv);n=ar("WriteBatch.set",n);var r=dr(i.Av,e,"WriteBatch.set"),s=r[0],o=r[1],a=n.merge||n.mergeFields?this.Rv.gv.yf(o,s,n.mergeFields):this.Rv.gv.bf(o,s);return this.Cv=this.Cv.concat(a.hf(i.Tv,wt.NONE)),this},t.prototype.update=function(t,e,n){for(var i,r,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return this.kv(),"string"==typeof e||e instanceof di?(A("WriteBatch.update",arguments,3),i=ur("WriteBatch.update",t,this.Rv),r=this.Rv.gv.Tf("WriteBatch.update",e,n,s)):(I("WriteBatch.update",arguments,2),i=ur("WriteBatch.update",t,this.Rv),r=this.Rv.gv._f("WriteBatch.update",e)),this.Cv=this.Cv.concat(r.hf(i.Tv,wt.exists(!0))),this},t.prototype.delete=function(t){I("WriteBatch.delete",arguments,1),this.kv();var e=ur("WriteBatch.delete",t,this.Rv);return this.Cv=this.Cv.concat(new kt(e.Tv,wt.NONE)),this},t.prototype.commit=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return this.kv(),this.Pv=!0,this.Cv.length>0?[2,this.Rv.cv().write(this.Cv)]:[2]}))}))},t.prototype.kv=function(){if(this.Pv)throw new p(d.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),tr=function(){function t(t,e,n){this.Tv=t,this.firestore=e,this.Av=n,this.av=this.firestore.cv()}return t.Ev=function(e,n,i){if(e.length%2!=0)throw new p(d.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.it()+" has "+e.length);return new t(new ot(e),n,i)},Object.defineProperty(t.prototype,"id",{get:function(){return this.Tv.path.$()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new or(this.Tv.path.J(),this.firestore,this.Av)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Tv.path.it()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(I("DocumentReference.collection",arguments,1),D("DocumentReference.collection","non-empty string",1,t),!t)throw new p(d.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=it.et(t);return new or(this.Tv.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.Tv.isEqual(e.Tv)&&this.Av===e.Av},t.prototype.set=function(t,e){T("DocumentReference.set",arguments,1,2),e=ar("DocumentReference.set",e);var n=dr(this.Av,t,"DocumentReference.set"),i=n[0],r=n[1],s=e.merge||e.mergeFields?this.firestore.gv.yf(r,i,e.mergeFields):this.firestore.gv.bf(r,i);return this.av.write(s.hf(this.Tv,wt.NONE))},t.prototype.update=function(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return"string"==typeof t||t instanceof di?(A("DocumentReference.update",arguments,2),n=this.firestore.gv.Tf("DocumentReference.update",t,e,i)):(I("DocumentReference.update",arguments,1),n=this.firestore.gv._f("DocumentReference.update",t)),this.av.write(n.hf(this.Tv,wt.exists(!0)))},t.prototype.delete=function(){return I("DocumentReference.delete",arguments,0),this.av.write([new kt(this.Tv,wt.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];T("DocumentReference.onSnapshot",arguments,1,4);var n,i={includeMetadataChanges:!1},r=0;"object"!=typeof t[r]||Ki(t[r])||(B("DocumentReference.onSnapshot",i=t[r],["includeMetadataChanges"]),P("DocumentReference.onSnapshot","boolean","includeMetadataChanges",i.includeMetadataChanges),r++);var s={includeMetadataChanges:i.includeMetadataChanges};return Ki(t[r])?n=t[r]:(D("DocumentReference.onSnapshot","function",r,t[r]),R("DocumentReference.onSnapshot","function",r+1,t[r+1]),R("DocumentReference.onSnapshot","function",r+2,t[r+2]),n={next:t[r],error:t[r+1],complete:t[r+2]}),this.Nv(s,n)},t.prototype.Nv=function(t,e){var n=this,i=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(i=e.error.bind(e));var r=new $i({next:function(t){if(e.next){sn(t.docs.size<=1,"Too many documents returned on a document query");var i=t.docs.get(n.Tv);e.next(new nr(n.firestore,n.Tv,i,t.fromCache,t.hasPendingWrites,n.Av))}},error:i}),s=this.av.listen(ee.jn(this.Tv.path),r,t);return function(){r.sv(),n.av.wl(s)}},t.prototype.get=function(t){var e=this;return T("DocumentReference.get",arguments,0,1),cr("DocumentReference.get",t),new Promise((function(n,i){t&&"cache"===t.source?e.firestore.cv().ev(e.Tv).then((function(t){n(new nr(e.firestore,e.Tv,t,!0,t instanceof Wt&&t.rn,e.Av))}),i):e.Ov(n,i,t)}))},t.prototype.Ov=function(t,e,n){var i=this.Nv({includeMetadataChanges:!0,Wd:!0},{next:function(r){i(),!r.exists&&r.metadata.fromCache?e(new p(d.UNAVAILABLE,"Failed to get document because the client is offline.")):r.exists&&r.metadata.fromCache&&n&&"server"===n.source?e(new p(d.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(r)},error:e})},t.prototype.withConverter=function(e){return new t(this.Tv,this.firestore,e)},t}(),er=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),nr=function(){function t(t,e,n,i,r,s){this.Rv=t,this.Tv=e,this.Fv=n,this.Vv=i,this.Uv=r,this.Av=s}return t.prototype.data=function(t){if(T("DocumentSnapshot.data",arguments,0,1),t=lr("DocumentSnapshot.data",t),this.Fv){if(this.Av){var e=new ir(this.Rv,this.Tv,this.Fv,this.Vv,this.Uv);return this.Av.fromFirestore(e,t)}return this.xv(this.Fv.data(),At.gn(t,this.Rv.Dv()))}},t.prototype.get=function(t,e){if(T("DocumentSnapshot.get",arguments,1,2),e=lr("DocumentSnapshot.get",e),this.Fv){var n=this.Fv.data().field(Oi("DocumentSnapshot.get",t));if(null!==n)return this.jv(n,At.gn(e,this.Rv.Dv()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this.Tv.path.$()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new tr(this.Tv,this.Rv,this.Av)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Fv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new er(this.Uv,this.Vv)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","DocumentSnapshot",1,e);return this.Rv===e.Rv&&this.Vv===e.Vv&&this.Tv.isEqual(e.Tv)&&(null===this.Fv?null===e.Fv:this.Fv.isEqual(e.Fv))&&this.Av===e.Av},t.prototype.xv=function(t,e){var n=this,i={};return t.forEach((function(t,r){i[t]=n.jv(r,e)})),i},t.prototype.jv=function(t,e){if(t instanceof qt)return this.xv(t,e);if(t instanceof Ht)return this.Lv(t,e);if(t instanceof Ut){var n=t.value(e),i=this.Rv.cv().Dn();return t.Dn.isEqual(i)||en("Document "+this.Tv.path+" contains a document reference within a different database ("+t.Dn.projectId+"/"+t.Dn.database+") which is not supported. It will be treated as a reference in the current database ("+i.projectId+"/"+i.database+") instead."),new tr(n,this.Rv,this.Av)}return t.value(e)},t.prototype.Lv=function(t,e){var n=this;return t.Jt.map((function(t){return n.jv(t,e)}))},t}(),ir=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return sn(void 0!==n,"Document in a QueryDocumentSnapshot should exist"),n},e}(nr),rr=function(){function t(t,e,n){this.qv=t,this.firestore=e,this.Av=n}return t.prototype.where=function(e,n,i){I("Query.where",arguments,3),U("Query.where",3,i);var r,s=["<","<=","==",">=",">","array-contains","in","array-contains-any"];M("Query.where",s,2,n);var o=Oi("Query.where",e),a=ne.et(n);if(o.st()){if(a===ne.ARRAY_CONTAINS||a===ne.ARRAY_CONTAINS_ANY)throw new p(d.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+a.toString()+"' queries on FieldPath.documentId().");if(a===ne.IN){this.Bv(i,a);for(var l=[],c=0,u=i;c<u.length;c++){var h=u[c];l.push(this.Mv(h))}r=new Ht(l)}else r=this.Mv(i)}else a!==ne.IN&&a!==ne.ARRAY_CONTAINS_ANY||this.Bv(i,a),r=this.firestore.gv.Ef("Query.where",i,a===ne.IN);var f=ie.create(o,a,r);return this.Qv(f),new t(this.qv.Bn(f),this.firestore,this.Av)},t.prototype.orderBy=function(e,n){var i;if(T("Query.orderBy",arguments,1,2),R("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)i=ce.ASCENDING;else{if("desc"!==n)throw new p(d.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");i=ce.DESCENDING}if(null!==this.qv.startAt)throw new p(d.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.qv.endAt)throw new p(d.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=Oi("Query.orderBy",e),s=new he(r,i);return this.Gv(s),new t(this.qv.Qn(s),this.firestore,this.Av)},t.prototype.limit=function(e){return I("Query.limit",arguments,1),D("Query.limit","number",1,e),z("Query.limit",1,e),new t(this.qv.Gn(e),this.firestore,this.Av)},t.prototype.limitToLast=function(e){return I("Query.limitToLast",arguments,1),D("Query.limitToLast","number",1,e),z("Query.limitToLast",1,e),new t(this.qv.Wn(e),this.firestore,this.Av)},t.prototype.startAt=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];A("Query.startAt",arguments,1);var r=this.Wv("Query.startAt",e,n,!0);return new t(this.qv.zn(r),this.firestore,this.Av)},t.prototype.startAfter=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];A("Query.startAfter",arguments,1);var r=this.Wv("Query.startAfter",e,n,!1);return new t(this.qv.zn(r),this.firestore,this.Av)},t.prototype.endBefore=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];A("Query.endBefore",arguments,1);var r=this.Wv("Query.endBefore",e,n,!0);return new t(this.qv.Kn(r),this.firestore,this.Av)},t.prototype.endAt=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];A("Query.endAt",arguments,1);var r=this.Wv("Query.endAt",e,n,!1);return new t(this.qv.Kn(r),this.firestore,this.Av)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","Query",1,e);return this.firestore===e.firestore&&this.qv.isEqual(e.qv)},t.prototype.withConverter=function(e){return new t(this.qv,this.firestore,e)},t.prototype.Wv=function(t,e,n,i){if(U(t,1,e),e instanceof nr){if(n.length>0)throw new p(d.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var r=e;if(!r.exists)throw new p(d.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.zv(t,r.Fv,i)}var s=[e].concat(n);return this.Kv(t,s,i)},t.prototype.zv=function(t,e,n){for(var i=[],r=0,s=this.qv.orderBy;r<s.length;r++){var o=s[r];if(o.field.st())i.push(new Ut(this.firestore.fv,e.key));else{var a=e.field(o.field);if(a instanceof Vt)throw new p(d.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===a){var l=o.field.it();throw new p(d.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}i.push(a)}}return new ue(i,n)},t.prototype.Kv=function(t,e,n){var i=this.qv.On;if(e.length>i.length)throw new p(d.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var r=[],s=0;s<e.length;s++){var o=e[s];if(i[s].field.st()){if("string"!=typeof o)throw new p(d.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof o);if(!this.qv.ui()&&-1!==o.indexOf("/"))throw new p(d.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+o+"' contains a slash.");var a=this.qv.path.child(it.et(o));if(!ot.ct(a))throw new p(d.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var l=new ot(a);r.push(new Ut(this.firestore.fv,l))}else{var c=this.firestore.gv.Ef(t,o);r.push(c)}}return new ue(r,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];T("Query.onSnapshot",arguments,1,4);var n,i={},r=0;return"object"!=typeof t[r]||Ki(t[r])||(B("Query.onSnapshot",i=t[r],["includeMetadataChanges"]),P("Query.onSnapshot","boolean","includeMetadataChanges",i.includeMetadataChanges),r++),Ki(t[r])?n=t[r]:(D("Query.onSnapshot","function",r,t[r]),R("Query.onSnapshot","function",r+1,t[r+1]),R("Query.onSnapshot","function",r+2,t[r+2]),n={next:t[r],error:t[r+1],complete:t[r+2]}),this.Hv(this.qv),this.Nv(i,n)},t.prototype.Nv=function(t,e){var n=this,i=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(i=e.error.bind(e));var r=new $i({next:function(t){e.next&&e.next(new sr(n.firestore,n.qv,t,n.Av))},error:i}),s=this.firestore.cv(),o=s.listen(this.qv,r,t);return function(){r.sv(),s.wl(o)}},t.prototype.Hv=function(t){if(t.ei()&&0===t.On.length)throw new p(d.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return T("Query.get",arguments,0,1),cr("Query.get",t),this.Hv(this.qv),new Promise((function(n,i){t&&"cache"===t.source?e.firestore.cv().rv(e.qv).then((function(t){n(new sr(e.firestore,e.qv,t,e.Av))}),i):e.Ov(n,i,t)}))},t.prototype.Ov=function(t,e,n){var i=this.Nv({includeMetadataChanges:!0,Wd:!0},{next:function(r){i(),r.metadata.fromCache&&n&&"server"===n.source?e(new p(d.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(r)},error:e})},t.prototype.Mv=function(t){if("string"==typeof t){if(""===t)throw new p(d.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.qv.ui()&&-1!==t.indexOf("/"))throw new p(d.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.qv.path.child(it.et(t));if(!ot.ct(e))throw new p(d.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return new Ut(this.firestore.fv,new ot(e))}if(t instanceof tr)return new Ut(this.firestore.fv,t.Tv);throw new p(d.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+j(t)+".")},t.prototype.Bv=function(t,e){if(!Array.isArray(t)||0===t.length)throw new p(d.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new p(d.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new p(d.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new p(d.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.Qv=function(t){if(t instanceof ie){var e=[ne.ARRAY_CONTAINS,ne.ARRAY_CONTAINS_ANY],n=[ne.IN,ne.ARRAY_CONTAINS_ANY],i=e.indexOf(t.op)>=0,r=n.indexOf(t.op)>=0;if(t.Mn()){var s=this.qv.Ln();if(null!==s&&!s.isEqual(t.field))throw new p(d.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+s.toString()+"' and '"+t.field.toString()+"'");var o=this.qv.qn();null!==o&&this.Jv(t.field,o)}else if(r||i){var a=null;if(r&&(a=this.qv.ri(n)),null===a&&i&&(a=this.qv.ri(e)),null!=a)throw new p(d.INVALID_ARGUMENT,a===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},t.prototype.Gv=function(t){if(null===this.qv.qn()){var e=this.qv.Ln();null!==e&&this.Jv(e,t.field)}},t.prototype.Jv=function(t,e){if(!e.isEqual(t))throw new p(d.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),sr=function(){function t(t,e,n,i){this.Rv=t,this.Yv=e,this.Xv=n,this.Av=i,this.$v=null,this.Zv=null,this.metadata=new er(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Xv.docs.Y()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Xv.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;T("QuerySnapshot.forEach",arguments,1,2),D("QuerySnapshot.forEach","function",1,t),this.Xv.docs.forEach((function(i){t.call(e,n.tw(i))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new rr(this.Yv,this.Rv,this.Av)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(B("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),P("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Xv.Ii)throw new p(d.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.$v&&this.Zv===e||(this.$v=function(t,e,n,i){if(n.pi.Y()){var r,s=0;return n.docChanges.map((function(e){var o=new ir(t,e.doc.key,e.doc,n.fromCache,n.yi.has(e.doc.key),i);return sn(0===e.type,"Invalid event type for first snapshot"),sn(!r||n.query.Xn(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:s++}}))}var o=n.pi;return n.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=new ir(t,e.doc.key,e.doc,n.fromCache,n.yi.has(e.doc.key),i),s=-1,a=-1;return 0!==e.type&&(sn((s=o.indexOf(e.doc.key))>=0,"Index for document not found"),o=o.delete(e.doc.key)),1!==e.type&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:hr(e.type),doc:r,oldIndex:s,newIndex:a}}))}(this.Rv,e,this.Xv,this.Av),this.Zv=e),this.$v},t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","QuerySnapshot",1,e);return this.Rv===e.Rv&&this.Yv.isEqual(e.Yv)&&this.Xv.isEqual(e.Xv)&&this.Av===e.Av},t.prototype.tw=function(t){return new ir(this.Rv,t.key,t,this.metadata.fromCache,this.Xv.yi.has(t.key),this.Av)},t}();s.__spreadArrays(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(t){try{Object.defineProperty(sr.prototype.docChanges,t,{get:function(){return function(){throw new p(d.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}}));var or=function(t){function e(e,n,i){var r=t.call(this,ee.jn(e),n,i)||this;if(r.nw=e,e.length%2!=1)throw new p(d.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.it()+" has "+e.length);return r}return s.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.qv.path.$()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.qv.path.J();return t.Y()?null:new tr(new ot(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.qv.path.it()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(T("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=on.Ur()),D("CollectionReference.doc","non-empty string",1,t),""===t)throw new p(d.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=it.et(t);return tr.Ev(this.qv.path.child(e),this.firestore,this.Av)},e.prototype.add=function(t){I("CollectionReference.add",arguments,1);var e=this.Av?this.Av.toFirestore(t):t;D("CollectionReference.add","object",1,e);var n=this.doc();return n.set(t).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.nw,this.firestore,t)},e}(rr);function ar(t,e){if(void 0===e)return{merge:!1};if(B(t,e,["merge","mergeFields"]),P(t,"boolean","merge",e.merge),function(t,e,n,i,r){void 0!==i&&function(t,e,n,i,r){if(!(i instanceof Array))throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+j(i));for(var s=0;s<i.length;++s)if(!r(i[s]))throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+s+" was: "+j(i[s]))}(t,"mergeFields",0,i,(function(t){return"string"==typeof t||t instanceof di}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new p(d.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function lr(t,e){return void 0===e?{}:(B(t,e,["serverTimestamps"]),F(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function cr(t,e){R(t,"object",1,e),e&&(B(t,e,["source"]),F(t,0,"source",e.source,["default","server","cache"]))}function ur(t,e,n){if(e instanceof tr){if(e.firestore!==n)throw new p(d.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw q(t,"DocumentReference",1,e)}function hr(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rn("Unknown change type: "+t)}}function dr(t,e,n){var i;return t?(i=t.toFirestore(e),n="toFirestore() in "+n):i=e,[i,n]}var pr=b(Xi,"Use firebase.firestore() instead."),fr=b(Ji,"Use firebase.firestore().runTransaction() instead."),mr=b(Zi,"Use firebase.firestore().batch() instead."),gr=b(tr,"Use firebase.firestore().doc() instead."),yr=b(nr),vr=b(ir),_r=b(rr),br=b(sr),wr=b(or,"Use firebase.firestore().collection() instead."),xr=function(){function t(e){this.db=e,12.2===t.iw(a.getUA())&&en("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.ew=function(e,n,i){return sn(t.ph(),"IndexedDB not supported in current environment."),tn("SimpleDb","Opening database:",e),new bn((function(r,s){var o=window.indexedDB.open(e,n);o.onsuccess=function(e){r(new t(e.target.result))},o.onblocked=function(){s(new p(d.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(t){var e=t.target.error;s("VersionError"===e.name?new p(d.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},o.onupgradeneeded=function(t){tn("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion),i.createOrUpgrade(t.target.result,o.transaction,t.oldVersion,Gr).next((function(){tn("SimpleDb","Database upgrade to version "+Gr+" complete")}))}})).Ou()},t.delete=function(t){return tn("SimpleDb","Removing database:",t),kr(window.indexedDB.deleteDatabase(t)).Ou()},t.ph=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.rw())return!0;if(void 0===window.navigator)return!1;var e=a.getUA(),n=t.iw(e),i=0<n&&n<10,r=t.uw(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)},t.rw=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.sw)},t.ow=function(t,e){return t.store(e)},t.iw=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.uw=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.hw=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return s.__awaiter(this,void 0,void 0,(function(){var i,r,o,a,l;return s.__generator(this,(function(c){switch(c.label){case 0:i="readonly"===t,r=0,o=function(){var t,o,l,c;return s.__generator(this,(function(s){switch(s.label){case 0:++r,t=Er.open(a.db,i?"readonly":"readwrite",e),s.label=1;case 1:return s.trys.push([1,3,,4]),(o=n(t).catch((function(e){return t.abort(e),bn.reject(e)})).Ou()).catch((function(){})),[4,t.cw];case 2:return s.sent(),[2,{value:o}];case 3:return tn("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(l=s.sent()).message,c="FirebaseError"!==l.name&&r<3),c?[3,4]:[2,{value:Promise.reject(l)}];case 4:return[2]}}))},a=this,c.label=1;case 1:return[5,o()];case 2:return"object"==typeof(l=c.sent())?[2,l.value]:[3,1];case 3:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),Cr=function(){function t(t){this.aw=t,this.fw=!1,this.lw=null}return Object.defineProperty(t.prototype,"Cu",{get:function(){return this.fw},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dw",{get:function(){return this.lw},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.aw=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.fw=!0},t.prototype.vw=function(t){this.lw=t},t.prototype.delete=function(){return kr(this.aw.delete())},t}(),Er=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.ww=new yn,this.transaction.oncomplete=function(){e.ww.resolve()},this.transaction.onabort=function(){t.error?e.ww.reject(t.error):e.ww.resolve()},this.transaction.onerror=function(t){var n=Ar(t.target.error);e.ww.reject(n)}}return t.open=function(e,n,i){return new t(e.transaction(i,n))},Object.defineProperty(t.prototype,"cw",{get:function(){return this.ww.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.ww.reject(t),this.aborted||(tn("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return sn(!!e,"Object store not part of transaction: "+t),new Sr(e)},t}(),Sr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(tn("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(tn("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),kr(n)},t.prototype.add=function(t){return tn("SimpleDb","ADD",this.store.name,t,t),kr(this.store.add(t))},t.prototype.get=function(t){var e=this;return kr(this.store.get(t)).next((function(n){return void 0===n&&(n=null),tn("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return tn("SimpleDb","DELETE",this.store.name,t),kr(this.store.delete(t))},t.prototype.count=function(){return tn("SimpleDb","COUNT",this.store.name),kr(this.store.count())},t.prototype.mw=function(t,e){var n=this.cursor(this.options(t,e)),i=[];return this.gw(n,(function(t,e){i.push(e)})).next((function(){return i}))},t.prototype.bw=function(t,e){tn("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.pw=!1;var i=this.cursor(n);return this.gw(i,(function(t,e,n){return n.delete()}))},t.prototype.yw=function(t,e){var n;e?n=t:(n={},e=t);var i=this.cursor(n);return this.gw(i,e)},t.prototype._w=function(t){var e=this.cursor({});return new bn((function(n,i){e.onerror=function(t){var e=Ar(t.target.error);i(e)},e.onsuccess=function(e){var i=e.target.result;i?t(i.primaryKey,i.value).next((function(t){t?i.continue():n()})):n()}}))},t.prototype.gw=function(t,e){var n=[];return new bn((function(i,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var s=new Cr(r),o=e(r.primaryKey,r.value,s);if(o instanceof bn){var a=o.catch((function(t){return s.done(),bn.reject(t)}));n.push(a)}s.Cu?i():null===s.dw?r.continue():r.continue(s.dw)}else i()}})).next((function(){return bn.Vu(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(sn(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.pw?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function kr(t){return new bn((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Ar(t.target.error);n(e)}}))}var Ir=!1;function Ar(t){var e=xr.iw(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new p("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ir||(Ir=!0,setTimeout((function(){throw i}),0)),i}}return t}var Tr=function(){function t(t,e,n,i){this.userId=t,this.serializer=e,this.sc=n,this.Ks=i,this.Iw={}}return t.Tw=function(e,n,i,r){return sn(""!==e.uid,"UserID must not be an empty string."),new t(e.t()?e.uid:"",n,i,r)},t.prototype.Dc=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rr(t).yw({index:Qr.userMutationsIndex,range:n},(function(t,n,i){e=!1,i.done()})).next((function(){return e}))},t.prototype.vo=function(t,e,n){return this.Ew(t).next((function(e){return e.lastStreamToken=n.toBase64(),Pr(t).put(e)}))},t.prototype.Eo=function(t){return this.Ew(t).next((function(t){return W.fromBase64String(t.lastStreamToken)}))},t.prototype.Do=function(t,e){return this.Ew(t).next((function(n){return n.lastStreamToken=e.toBase64(),Pr(t).put(n)}))},t.prototype.fo=function(t,e,n,i){var r=this,s=Nr(t),o=Rr(t);return o.add({}).next((function(a){sn("number"==typeof a,"Auto-generated key is not a number");for(var l=new dn(a,e,n,i),c=r.serializer.Dw(r.userId,l),u=[],h=new ht((function(t,e){return an(t.it(),e.it())})),d=0,p=i;d<p.length;d++){var f=p[d],m=Xr.key(r.userId,f.key.path,a);h=h.add(f.key.path.J()),u.push(o.put(c)),u.push(s.put(m,Xr.PLACEHOLDER))}return h.forEach((function(e){u.push(r.sc.Ic(t,e))})),t.ec((function(){r.Iw[a]=l.keys()})),bn.Vu(u).next((function(){return l}))}))},t.prototype._o=function(t,e){var n=this;return Rr(t).get(e).next((function(t){return t?(sn(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.Rw(t)):null}))},t.prototype.do=function(t,e){var n=this;return this.Iw[e]?bn.resolve(this.Iw[e]):this._o(t,e).next((function(t){if(t){var i=t.keys();return n.Iw[e]=i,i}return null}))},t.prototype.Lo=function(t,e){var n=this,i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]),s=null;return Rr(t).yw({index:Qr.userMutationsIndex,range:r},(function(t,e,r){e.userId===n.userId&&(sn(e.batchId>=i,"Should have found mutation after "+i),s=n.serializer.Rw(e)),r.done()})).next((function(){return s}))},t.prototype.To=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Rr(t).yw({index:Qr.userMutationsIndex,range:e,reverse:!0},(function(t,e,i){n=e.batchId,i.done()})).next((function(){return n}))},t.prototype.uo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rr(t).mw(Qr.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.Rw(t)}))}))},t.prototype.oc=function(t,e){var n=this,i=Xr.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return Nr(t).yw({range:r},(function(i,r,o){var a=i[0],l=i[2],c=Yn(i[1]);if(a===n.userId&&e.path.isEqual(c))return Rr(t).get(l).next((function(t){if(!t)throw rn("Dangling document-mutation reference found: "+i+" which points to "+l);sn(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+l),s.push(n.serializer.Rw(t))}));o.done()})).next((function(){return s}))},t.prototype.ac=function(t,e){var n=this,i=new ht(an),r=[];return e.forEach((function(e){var s=Xr.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Nr(t).yw({range:o},(function(t,r,s){var o=t[0],a=t[2],l=Yn(t[1]);o===n.userId&&e.path.isEqual(l)?i=i.add(a):s.done()}));r.push(a)})),bn.Vu(r).next((function(){return n.Sw(t,i)}))},t.prototype.wc=function(t,e){var n=this;sn(!e.Nn(),"Document queries shouldn't go down this path"),sn(!e.ui(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=e.path,r=i.length+1,s=Xr.prefixForPath(this.userId,i),o=IDBKeyRange.lowerBound(s),a=new ht(an);return Nr(t).yw({range:o},(function(t,e,s){var o=t[0],l=t[2],c=Yn(t[1]);o===n.userId&&i.Z(c)?c.length===r&&(a=a.add(l)):s.done()})).next((function(){return n.Sw(t,a)}))},t.prototype.Sw=function(t,e){var n=this,i=[],r=[];return e.forEach((function(e){r.push(Rr(t).get(e).next((function(t){if(null===t)throw rn("Dangling document-mutation reference found, which points to "+e);sn(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),i.push(n.serializer.Rw(t))})))})),bn.Vu(r).next((function(){return i}))},t.prototype.Io=function(t,e){var n=this;return Dr(t.Aw,this.userId,e).next((function(i){return t.ec((function(){n.th(e.batchId)})),bn.forEach(i,(function(e){return n.Ks.Pc(t,e)}))}))},t.prototype.th=function(t){delete this.Iw[t]},t.prototype.po=function(t){var e=this;return this.Dc(t).next((function(n){if(!n)return bn.resolve();var i=IDBKeyRange.lowerBound(Xr.prefixForUser(e.userId)),r=[];return Nr(t).yw({range:i},(function(t,n,i){if(t[0]===e.userId){var s=Yn(t[1]);r.push(s)}else i.done()})).next((function(){sn(0===r.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+r.map((function(t){return t.it()})))}))}))},t.prototype.Cs=function(t,e){return Or(t,this.userId,e)},t.prototype.Ew=function(t){var e=this;return Pr(t).get(this.userId).next((function(t){return t||new Yr(e.userId,-1,"")}))},t}();function Or(t,e,n){var i=Xr.prefixForPath(e,n.path),r=i[1],s=IDBKeyRange.lowerBound(i),o=!1;return Nr(t).yw({range:s,pw:!0},(function(t,n,i){t[0]===e&&t[1]===r&&(o=!0),i.done()})).next((function(){return o}))}function Dr(t,e,n){var i=t.store(Qr.store),r=t.store(Xr.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,l=i.yw({range:o},(function(t,e,n){return a++,n.delete()}));s.push(l.next((function(){sn(1===a,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var c=[],u=0,h=n.mutations;u<h.length;u++){var d=h[u],p=Xr.key(e,d.key.path,n.batchId);s.push(r.delete(p)),c.push(d.key)}return bn.Vu(s).next((function(){return c}))}function Rr(t){return gs.ow(t,Qr.store)}function Nr(t){return gs.ow(t,Xr.store)}function Pr(t){return gs.ow(t,Yr.store)}var Fr=function(){function t(t,e){this.Ks=t,this.serializer=e,this.Wc=ti.qc()}return t.prototype.Go=function(t){var e=this;return this.Cw(t).next((function(n){return n.highestTargetId=e.Wc.after(n.highestTargetId),e.Pw(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ro=function(t){return this.Cw(t).next((function(t){return et.L(new tt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.zc=function(t){return Vr(t.Aw)},t.prototype.Fo=function(t,e,n){var i=this;return this.Cw(t).next((function(r){return r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.G()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),i.Pw(t,r)}))},t.prototype.Wo=function(t,e){var n=this;return this.Kc(t,e).next((function(){return n.Cw(t).next((function(i){return i.targetCount+=1,n.kw(e,i),n.Pw(t,i)}))}))},t.prototype.No=function(t,e){return this.Kc(t,e)},t.prototype.Hc=function(t,e){var n=this;return this.Jc(t,e.targetId).next((function(){return Mr(t).delete(e.targetId)})).next((function(){return n.Cw(t)})).next((function(e){return sn(e.targetCount>0,"Removing from an empty target cache"),e.targetCount-=1,n.Pw(t,e)}))},t.prototype.ds=function(t,e,n){var i=this,r=0,s=[];return Mr(t).yw((function(o,a){var l=i.serializer.Nw(a);l.sequenceNumber<=e&&null===n.get(l.targetId)&&(r++,s.push(i.Hc(t,l)))})).next((function(){return bn.Vu(s)})).next((function(){return r}))},t.prototype.oe=function(t,e){var n=this;return Mr(t).yw((function(t,i){var r=n.serializer.Nw(i);e(r)}))},t.prototype.Cw=function(t){return Lr(t.Aw)},t.prototype.Pw=function(t,e){return(n=t,gs.ow(n,rs.store)).put(rs.key,e);var n},t.prototype.Kc=function(t,e){return Mr(t).put(this.serializer.Ow(e))},t.prototype.kw=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Yc=function(t){return this.Cw(t).next((function(t){return t.targetCount}))},t.prototype.Qo=function(t,e){var n=this,i=e.canonicalId(),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),s=null;return Mr(t).yw({range:r,index:ns.queryTargetsIndexName},(function(t,i,r){var o=n.serializer.Nw(i);e.isEqual(o.target)&&(s=o,r.done())})).next((function(){return s}))},t.prototype.Co=function(t,e,n){var i=this,r=[],s=jr(t);return e.forEach((function(e){var o=Wn(e.path);r.push(s.put(new is(n,o))),r.push(i.Ks._s(t,e))})),bn.Vu(r)},t.prototype.Ao=function(t,e,n){var i=this,r=jr(t);return bn.forEach(e,(function(e){var s=Wn(e.path);return bn.Vu([r.delete([n,s]),i.Ks.Ts(t,e)])}))},t.prototype.Jc=function(t,e){var n=jr(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)},t.prototype.Ho=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),i=jr(t),r=Ie();return i.yw({range:n,pw:!0},(function(t,e,n){var i=Yn(t[1]),s=new ot(i);r=r.add(s)})).next((function(){return r}))},t.prototype.Cs=function(t,e){var n=Wn(e.path),i=IDBKeyRange.bound([n],[cn(n)],!1,!0),r=0;return jr(t).yw({index:is.documentTargetsIndex,pw:!0,range:i},(function(t,e,n){0!==t[0]&&(r++,n.done())})).next((function(){return r>0}))},t.prototype.be=function(t,e){var n=this;return Mr(t).get(e).next((function(t){return t?n.serializer.Nw(t):null}))},t}();function Mr(t){return gs.ow(t,ns.store)}function Lr(t){return xr.ow(t,rs.store).get(rs.key).next((function(t){return sn(null!==t,"Missing metadata row."),t}))}function Vr(t){return Lr(t).next((function(t){return t.highestListenSequenceNumber}))}function jr(t){return gs.ow(t,is.store)}var Ur=function(){function t(t,e){this.serializer=t,this.sc=e}return t.prototype.Fs=function(t,e,n){return qr(t).put(zr(e),n)},t.prototype.Us=function(t,e){var n=qr(t),i=zr(e);return n.delete(i)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(i){return i.byteSize+=e,n.Fw(t,i)}))},t.prototype.xs=function(t,e){var n=this;return qr(t).get(zr(e)).next((function(t){return n.Vw(t)}))},t.prototype.Uw=function(t,e){var n=this;return qr(t).get(zr(e)).next((function(t){var e=n.Vw(t);return e?{Nc:e,size:Hr(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,i=we();return this.xw(t,e,(function(t,e){var r=n.Vw(e);i=i.dt(t,r)})).next((function(){return i}))},t.prototype.jw=function(t,e){var n=this,i=we(),r=new at(ot.W);return this.xw(t,e,(function(t,e){var s=n.Vw(e);s?(i=i.dt(t,s),r=r.dt(t,Hr(e))):(i=i.dt(t,null),r=r.dt(t,0))})).next((function(){return{Lw:i,qw:r}}))},t.prototype.xw=function(t,e,n){if(e.Y())return bn.resolve();var i=IDBKeyRange.bound(e.first().path.nt(),e.last().path.nt()),r=e.yt(),s=r.Rt();return qr(t).yw({range:i},(function(t,e,i){for(var o=ot.ft(t);s&&ot.W(s,o)<0;)n(s,null),s=r.Rt();s&&s.isEqual(o)&&(n(s,e),s=r.St()?r.Rt():null),s?i.vw(s.path.nt()):i.done()})).next((function(){for(;s;)n(s,null),s=r.St()?r.Rt():null}))},t.prototype.Jo=function(t,e,n){var i=this;sn(!e.ui(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Ce(),s=e.path.length+1,o={};if(n.isEqual(et.MIN)){var a=e.path.nt();o.range=IDBKeyRange.lowerBound(a)}else{var l=e.path.nt(),c=this.serializer.Bw(n);o.range=IDBKeyRange.lowerBound([l,c],!0),o.index=ts.collectionReadTimeIndex}return qr(t).yw(o,(function(t,n,o){if(t.length===s){var a=i.serializer.Mw(n);e.path.Z(a.key.path)?a instanceof Wt&&e.matches(a)&&(r=r.dt(a.key,a)):o.done()}})).next((function(){return r}))},t.prototype.eh=function(t,e){var n=this,i=be(),r=this.serializer.Bw(e),s=qr(t),o=IDBKeyRange.lowerBound(r,!0);return s.yw({index:ts.readTimeIndex,range:o},(function(t,e){var s=n.serializer.Mw(e);i=i.dt(s.key,s),r=e.readTime})).next((function(){return{rh:i,readTime:n.serializer.Qw(r)}}))},t.prototype.uh=function(t){var e=this,n=qr(t),i=et.MIN;return n.yw({index:ts.readTimeIndex,reverse:!0},(function(t,n,r){n.readTime&&(i=e.serializer.Qw(n.readTime)),r.done()})).next((function(){return i}))},t.prototype.wo=function(e){return new t.Fc(this,!!e&&e.mo)},t.prototype.Vc=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Br(t).get(es.key).next((function(t){return sn(!!t,"Missing document cache metadata"),t}))},t.prototype.Fw=function(t,e){return Br(t).put(es.key,e)},t.prototype.Vw=function(t){if(t){var e=this.serializer.Mw(t);return e instanceof $t&&e.version.isEqual(et.q())?null:e}return null},t.Fc=function(t){function e(e,n){var i=t.call(this)||this;return i.Uc=e,i.mo=n,i.Gw=new fn((function(t){return t.toString()})),i}return s.__extends(e,t),e.prototype.qs=function(t){var e=this,n=[],i=0,r=new ht((function(t,e){return an(t.it(),e.it())}));return this.ks.forEach((function(s,o){var a=e.Gw.get(s);if(sn(void 0!==a,"Cannot modify a document that wasn't read (for "+s+")"),o){sn(!e.readTime.isEqual(et.MIN),"Cannot add a document with a read time of zero");var l=e.Uc.serializer.Ww(o,e.readTime);r=r.add(s.path.J());var c=Hr(l);i+=c-a,n.push(e.Uc.Fs(t,s,l))}else if(i-=a,e.mo){var u=e.Uc.serializer.Ww(new $t(s,et.q()),e.readTime);n.push(e.Uc.Fs(t,s,u))}else n.push(e.Uc.Us(t,s))})),r.forEach((function(i){n.push(e.Uc.sc.Ic(t,i))})),n.push(this.Uc.updateMetadata(t,i)),bn.Vu(n)},e.prototype.js=function(t,e){var n=this;return this.Uc.Uw(t,e).next((function(t){return null===t?(n.Gw.set(e,0),null):(n.Gw.set(e,t.size),t.Nc)}))},e.prototype.Ls=function(t,e){var n=this;return this.Uc.jw(t,e).next((function(t){var e=t.Lw;return t.qw.forEach((function(t,e){n.Gw.set(t,e)})),e}))},e}(Tn),t}();function Br(t){return gs.ow(t,es.store)}function qr(t){return gs.ow(t,ts.store)}function zr(t){return t.path.nt()}function Hr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw rn("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var Gr=9,Wr=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,i){var r=this;sn(n<i&&n>=0&&i<=Gr,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var s=new Er(e);n<1&&i>=1&&(function(t){t.createObjectStore(Kr.store)}(t),function(t){t.createObjectStore(Yr.store,{keyPath:Yr.keyPath}),t.createObjectStore(Qr.store,{keyPath:Qr.keyPath,autoIncrement:!0}).createIndex(Qr.userMutationsIndex,Qr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Xr.store)}(t),os(t),function(t){t.createObjectStore(ts.store)}(t));var o=bn.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(is.store),t.deleteObjectStore(ns.store),t.deleteObjectStore(rs.store)}(t),os(t)),o=o.next((function(){return function(t){var e=t.store(rs.store),n=new rs(0,0,et.MIN.G(),0);return e.put(rs.key,n)}(s)}))),n<4&&i>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(Qr.store).mw().next((function(n){t.deleteObjectStore(Qr.store),t.createObjectStore(Qr.store,{keyPath:Qr.keyPath,autoIncrement:!0}).createIndex(Qr.userMutationsIndex,Qr.userMutationsKeyPath,{unique:!0});var i=e.store(Qr.store),r=n.map((function(t){return i.put(t)}));return bn.Vu(r)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(as.store,{keyPath:as.keyPath})}(t)}))),n<5&&i>=5&&(o=o.next((function(){return r.removeAcknowledgedMutations(s)}))),n<6&&i>=6&&(o=o.next((function(){return function(t){t.createObjectStore(es.store)}(t),r.addDocumentGlobal(s)}))),n<7&&i>=7&&(o=o.next((function(){return r.ensureSequenceNumbers(s)}))),n<8&&i>=8&&(o=o.next((function(){return r.createCollectionParentIndex(t,s)}))),n<9&&i>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(ts.store);e.createIndex(ts.readTimeIndex,ts.readTimeIndexPath,{unique:!1}),e.createIndex(ts.collectionReadTimeIndex,ts.collectionReadTimeIndexPath,{unique:!1})}(e)}))),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(ts.store).yw((function(t,n){e+=Hr(n)})).next((function(){var n=new es(e);return t.store(es.store).put(es.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Yr.store),i=t.store(Qr.store);return n.mw().next((function(n){return bn.forEach(n,(function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.mw(Qr.userMutationsIndex,r).next((function(i){return bn.forEach(i,(function(i){sn(i.userId===n.userId,"Cannot process batch "+i.batchId+" from unexpected user");var r=e.serializer.Rw(i);return Dr(t,n.userId,r).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(is.store),n=t.store(ts.store);return Vr(t).next((function(t){var i=[];return n.yw((function(n,r){var s=new it(n),o=function(t){return[0,Wn(t)]}(s);i.push(e.get(o).next((function(n){return n?bn.resolve():function(n){return e.put(new is(0,Wn(n),t))}(s)})))})).next((function(){return bn.Vu(i)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(ss.store,{keyPath:ss.keyPath});var n=e.store(ss.store),i=new Xn,r=function(t){if(i.add(t)){var e=t.$(),r=t.J();return n.put({collectionId:e,parent:Wn(r)})}};return e.store(ts.store).yw({pw:!0},(function(t,e){var n=new it(t);return r(n.J())})).next((function(){return e.store(Xr.store).yw({pw:!0},(function(t,e){var n=Yn(t[1]);return r(n.J())}))}))},t}(),$r=function(t,e){this.seconds=t,this.nanoseconds=e},Kr=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),Yr=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),Qr=function(){function t(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),Xr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Wn(e)]},t.key=function(t,e,n){return[t,Wn(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),Jr=function(t,e){this.path=t,this.readTime=e},Zr=function(t,e){this.path=t,this.version=e},ts=function(){function t(t,e,n,i,r,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=s}return t.store="remoteDocuments",t.readTimeIndex="readTimeIndex",t.readTimeIndexPath="readTime",t.collectionReadTimeIndex="collectionReadTimeIndex",t.collectionReadTimeIndexPath=["parentPath","readTime"],t}(),es=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),ns=function(){function t(t,e,n,i,r,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=s,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),is=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,sn(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),rs=function(){function t(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),ss=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function os(t){t.createObjectStore(is.store,{keyPath:is.keyPath}).createIndex(is.documentTargetsIndex,is.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ns.store,{keyPath:ns.keyPath}).createIndex(ns.queryTargetsIndexName,ns.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(rs.store)}var as=function(){function t(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i}return t.store="clientMetadata",t.keyPath="clientId",t}(),ls=s.__spreadArrays([Yr.store,Qr.store,Xr.store,ts.store,ns.store,Kr.store,rs.store,is.store],[as.store]),cs=s.__spreadArrays(ls,[es.store]),us=s.__spreadArrays(cs,[ss.store]),hs=function(){function t(){this.zw=new Xn}return t.prototype.Ic=function(t,e){var n=this;if(sn(e.length%2==1,"Expected a collection path."),!this.zw.has(e)){var i=e.$(),r=e.J();t.ec((function(){n.zw.add(e)}));var s={collectionId:i,parent:Wn(r)};return ds(t).put(s)}return bn.resolve()},t.prototype.vc=function(t,e){var n=[],i=IDBKeyRange.bound([e,""],[cn(e),""],!1,!0);return ds(t).mw(i).next((function(t){for(var i=0,r=t;i<r.length;i++){var s=r[i];if(s.collectionId!==e)break;n.push(Yn(s.parent))}return n}))},t}();function ds(t){return gs.ow(t,ss.store)}var ps=function(){function t(t){this.Kw=t}return t.prototype.Mw=function(t){if(t.document)return this.Kw.We(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=ot.ft(t.noDocument.path),n=this.Hw(t.noDocument.readTime);return new $t(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=ot.ft(t.unknownDocument.path),n=this.Hw(t.unknownDocument.version),new Kt(e,n)):rn("Unexpected DbRemoteDocument")},t.prototype.Ww=function(t,e){var n=this.Bw(e),i=t.key.path.J().nt();if(t instanceof Wt){var r=t.proto?t.proto:this.Kw.Ge(t),s=t.hasCommittedMutations;return new ts(null,null,r,s,n,i)}if(t instanceof $t){var o=t.key.path.nt(),a=this.Jw(t.version);return s=t.hasCommittedMutations,new ts(null,new Jr(o,a),null,s,n,i)}if(t instanceof Kt){o=t.key.path.nt();var l=this.Jw(t.version);return new ts(new Zr(o,l),null,null,!0,n,i)}return rn("Unexpected MaybeDocument")},t.prototype.Bw=function(t){var e=t.G();return[e.seconds,e.nanoseconds]},t.prototype.Qw=function(t){var e=new tt(t[0],t[1]);return et.L(e)},t.prototype.Jw=function(t){var e=t.G();return new $r(e.seconds,e.nanoseconds)},t.prototype.Hw=function(t){var e=new tt(t.seconds,t.nanoseconds);return et.L(e)},t.prototype.Dw=function(t,e){var n=this,i=e.baseMutations.map((function(t){return n.Kw.tr(t)})),r=e.mutations.map((function(t){return n.Kw.tr(t)}));return new Qr(t,e.batchId,e.En.toMillis(),i,r)},t.prototype.Rw=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.Kw.rr(t)})),i=t.mutations.map((function(t){return e.Kw.rr(t)})),r=tt.fromMillis(t.localWriteTimeMs);return new dn(t.batchId,r,n,i)},t.prototype.Yw=function(t){var e=[];return t.forEach((function(t){e.push(Wn(t.path))})),e},t.prototype.Xw=function(t){for(var e=Ie(),n=0,i=t;n<i.length;n++)e=e.add(new ot(Yn(i[n])));return e},t.prototype.Nw=function(t){var e,n=this.Hw(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?this.Hw(t.lastLimboFreeSnapshotVersion):et.MIN;return e=void 0!==t.query.documents?this.Kw.lr(t.query):this.Kw.gr(t.query),new fe(e,t.targetId,0,t.lastListenSequenceNumber,n,i,W.fromBase64String(t.resumeToken))},t.prototype.Ow=function(t){sn(0===t.ci,"Only queries with purpose 0 may be stored, got "+t.ci);var e,n=this.Jw(t.ai),i=this.Jw(t.lastLimboFreeSnapshotVersion);e=t.target.Nn()?this.Kw.ar(t.target):this.Kw.dr(t.target);var r=t.resumeToken.toBase64();return new ns(t.targetId,t.target.canonicalId(),n,r,t.sequenceNumber,i,e)},t}(),fs="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",ms=function(t){function e(e,n){var i=t.call(this)||this;return i.Aw=e,i.Po=n,i}return s.__extends(e,t),e}(zn),gs=function(){function t(e,n,i,r,s,o,a,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.fh=o,this.$w=l,this.Zc=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zw=null,this.inForeground=!1,this.tm=null,this.nm=null,this.im=Number.NEGATIVE_INFINITY,this.em=function(t){return Promise.resolve()},this.Ks=new _s(this,s),this.rm=n+t.um,this.serializer=new ps(a),this.document=r.document,this.$s=new Fr(this.Ks,this.serializer),this.sc=new hs,this.uc=new Ur(this.serializer,this.sc),!r.window||!r.window.localStorage)throw new p(d.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.sm=this.window.localStorage}return t.ow=function(t,e){if(t instanceof ms)return xr.ow(t.Aw,e);throw rn("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.om=function(e){return s.__awaiter(this,void 0,void 0,(function(){var n;return s.__generator(this,(function(i){switch(i.label){case 0:if(!t.ph())throw new p(d.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.hm,e.fh,e.serializer,e.$w)).start()];case 1:return i.sent(),[2,n]}}))}))},t.prototype.start=function(){var t=this;return sn(!this.ss,"IndexedDbPersistence double-started!"),sn(null!==this.window,"Expected 'window' to be defined"),xr.ew(this.rm,Gr,new Wr(this.serializer)).then((function(e){return t.cm=e,t.am()})).then((function(){return t.fm(),t.lm(),t.dm(),t.cm.runTransaction("readonly",[rs.store],(function(t){return Vr(t)}))})).then((function(e){t.$c=new gn(e,t.$w)})).then((function(){t.Zc=!0})).catch((function(e){return t.cm&&t.cm.close(),Promise.reject(e)}))},t.prototype.na=function(t){var e=this;return this.em=function(n){return s.__awaiter(e,void 0,void 0,(function(){return s.__generator(this,(function(e){return this.ss?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.ia=function(t){var e=this;this.cm.hw((function(n){return s.__awaiter(e,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.nh=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fh.ou((function(){return s.__awaiter(e,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.ss?[4,this.am()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.am=function(){var t=this;return this.cm.runTransaction("readwrite",us,(function(e){return vs(e).put(new as(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.vm(e).next((function(e){e||(t.isPrimary=!1,t.fh.ou((function(){return t.em(!1)})))}))})).next((function(){return t.wm(e)})).next((function(n){return t.isPrimary&&!n?t.mm(e).next((function(){return!1})):!!n&&t.gm(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return tn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.fh.ou((function(){return t.em(e)})),t.isPrimary=e}))},t.prototype.vm=function(t){var e=this;return ys(t).get(Kr.key).next((function(t){return bn.resolve(e.bm(t))}))},t.prototype.pm=function(t){return vs(t).delete(this.clientId)},t.prototype.ym=function(){return s.__awaiter(this,void 0,void 0,(function(){var e=this;return s.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this._m(this.im,18e5)?[3,2]:(this.im=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(n){var i=t.ow(n,as.store);return i.mw().next((function(t){var n=e.Im(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return bn.forEach(r,(function(t){return i.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.Tm(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.dm=function(){var t=this;this.nm=this.fh.yu("client_metadata_refresh",4e3,(function(){return t.am().then((function(){return t.ym()})).then((function(){return t.dm()}))}))},t.prototype.bm=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.wm=function(t){var e=this;return ys(t).get(Kr.key).next((function(n){if(null!==n&&e._m(n.leaseTimestampMs,5e3)&&!e.Em(n.ownerId)){if(e.bm(n)&&e.networkEnabled)return!0;if(!e.bm(n)){if(!n.allowTabSynchronization)throw new p(d.FAILED_PRECONDITION,fs);return!1}}return!(!e.networkEnabled||!e.inForeground)||vs(t).mw().next((function(t){return void 0===e.Im(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&tn("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return s.__awaiter(this,void 0,void 0,(function(){var t=this;return s.__generator(this,(function(e){switch(e.label){case 0:return this.Zc=!1,this.Dm(),this.nm&&(this.nm.cancel(),this.nm=null),this.Rm(),this.Sm(),[4,this.cm.runTransaction("readwrite",[Kr.store,as.store],(function(e){return t.mm(e).next((function(){return t.pm(e)}))}))];case 1:return e.sent(),this.cm.close(),this.Am(),[2]}}))}))},t.prototype.Im=function(t,e){var n=this;return t.filter((function(t){return n._m(t.updateTimeMs,e)&&!n.Em(t.clientId)}))},t.prototype.$o=function(){var t=this;return this.cm.runTransaction("readonly",[as.store],(function(e){return vs(e).mw().next((function(e){return t.Im(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(n){switch(n.label){case 0:return t.ph()?[4,xr.delete(e+t.um)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"ss",{get:function(){return this.Zc},enumerable:!0,configurable:!0}),t.prototype.Js=function(t){return sn(this.ss,"Cannot initialize MutationQueue before persistence is started."),Tr.Tw(t,this.serializer,this.sc,this.Ks)},t.prototype.Zs=function(){return sn(this.ss,"Cannot initialize TargetCache before persistence is started."),this.$s},t.prototype.Xs=function(){return sn(this.ss,"Cannot initialize RemoteDocumentCache before persistence is started."),this.uc},t.prototype.no=function(){return sn(this.ss,"Cannot initialize IndexManager before persistence is started."),this.sc},t.prototype.runTransaction=function(t,e,n){var i,r=this;return tn("IndexedDbPersistence","Starting transaction:",t),this.cm.runTransaction("readonly"===e?"readonly":"readwrite",us,(function(s){return i=new ms(s,r.$c.next()),"readwrite-primary"===e?r.vm(s).next((function(t){return!!t||r.wm(s)})).next((function(e){if(!e)throw en("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.fh.ou((function(){return r.em(!1)})),new p(d.FAILED_PRECONDITION,qn);return n(i)})).next((function(t){return r.gm(s).next((function(){return t}))})):r.Cm(s).next((function(){return n(i)}))})).then((function(t){return i.rc(),t}))},t.prototype.Cm=function(t){var e=this;return ys(t).get(Kr.key).next((function(t){if(null!==t&&e._m(t.leaseTimestampMs,5e3)&&!e.Em(t.ownerId)&&!e.bm(t)&&!t.allowTabSynchronization)throw new p(d.FAILED_PRECONDITION,fs)}))},t.prototype.gm=function(t){var e=new Kr(this.clientId,this.allowTabSynchronization,Date.now());return ys(t).put(Kr.key,e)},t.ph=function(){return xr.ph()},t.Pm=function(t){var e=t.Dn.projectId;return t.Dn.xr||(e+="."+t.Dn.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.mm=function(t){var e=this,n=ys(t);return n.get(Kr.key).next((function(t){return e.bm(t)?(tn("IndexedDbPersistence","Releasing primary lease."),n.delete(Kr.key)):bn.resolve()}))},t.prototype._m=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(en("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.fm=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.tm=function(){t.fh.ou((function(){return t.inForeground="visible"===t.document.visibilityState,t.am()}))},this.document.addEventListener("visibilitychange",this.tm),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Rm=function(){this.tm&&(sn(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.tm),this.tm=null)},t.prototype.lm=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.Zw=function(){t.Dm(),t.fh.ou((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Zw))},t.prototype.Sm=function(){this.Zw&&(sn("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.Zw),this.Zw=null)},t.prototype.Em=function(t){try{var e=null!==this.sm.getItem(this.Tm(t));return tn("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return en("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Dm=function(){try{this.sm.setItem(this.Tm(this.clientId),String(Date.now()))}catch(t){en("Failed to set zombie client id.",t)}},t.prototype.Am=function(){try{this.sm.removeItem(this.Tm(this.clientId))}catch(t){}},t.prototype.Tm=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.um="main",t}();function ys(t){return t.store(Kr.store)}function vs(t){return t.store(as.store)}var _s=function(){function t(t,e){this.db=t,this.sa=null,this.ns=new kn(this,e)}return t.prototype.as=function(t){var e=this.km(t);return this.db.Zs().Yc(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.km=function(t){var e=0;return this.ls(t,(function(t){e++})).next((function(){return e}))},t.prototype.oe=function(t,e){return this.db.Zs().oe(t,e)},t.prototype.ls=function(t,e){return this.Nm(t,(function(t,n){return e(n)}))},t.prototype.zs=function(t){this.sa=t},t.prototype._s=function(t,e){return bs(t,e)},t.prototype.Ts=function(t,e){return bs(t,e)},t.prototype.ds=function(t,e,n){return this.db.Zs().ds(t,e,n)},t.prototype.Pc=function(t,e){return bs(t,e)},t.prototype.Om=function(t,e){return this.sa.Cs(e)?bn.resolve(!0):function(t,e){var n=!1;return Pr(t)._w((function(i){return Or(t,i,e).next((function(t){return t&&(n=!0),bn.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.vs=function(t,e){var n=this,i=this.db.Xs().wo(),r=[],s=0;return this.Nm(t,(function(o,a){if(a<=e){var l=n.Om(t,o).next((function(e){if(!e)return s++,i.xs(t,o).next((function(){return i.Us(o),jr(t).delete([0,Wn(o.path)])}))}));r.push(l)}})).next((function(){return bn.Vu(r)})).next((function(){return i.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.fi(t.Po);return this.db.Zs().No(t,n)},t.prototype.Oo=function(t,e){return bs(t,e)},t.prototype.Nm=function(t,e){var n,i=jr(t),r=gn.Xr;return i.yw({index:is.documentTargetsIndex},(function(t,i){var s=i.path,o=i.sequenceNumber;0===t[0]?(r!==gn.Xr&&e(new ot(Yn(n)),r),r=o,n=s):r=gn.Xr})).next((function(){r!==gn.Xr&&e(new ot(Yn(n)),r)}))},t.prototype.ms=function(t){return this.db.Xs().Vc(t)},t}();function bs(t,e){return jr(t).put(function(t,e){return new is(0,Wn(t.path),e)}(e,t.Po))}var ws=function(){function t(){}return t.prototype.initialize=function(t,e,n,i,r,o){return s.__awaiter(this,void 0,void 0,(function(){var a,l,c;return s.__generator(this,(function(s){switch(s.label){case 0:if(sn(o.aa,"IndexedDbPersistenceProvider can only provide durable persistence"),sn(!this.persistence,"configure() already called"),a=gs.Pm(e),l=new Ye(e.Dn,{_e:!0}),!Un.ph(n))throw new p(d.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return this.td=o.synchronizeTabs?new Un(t,n,a,i,r):new Bn,c=this,[4,gs.om({allowTabSynchronization:o.synchronizeTabs,persistenceKey:a,clientId:i,platform:n,fh:t,serializer:l,hm:En.Hu(o.cacheSizeBytes),$w:this.td})];case 1:return c.persistence=s.sent(),this.Yd=new Sn(this.persistence.Ks.ns,t),[2]}}))}))},t.prototype.la=function(){return sn(!!this.persistence,"initialize() not called"),this.persistence},t.prototype.da=function(){return sn(!!this.td,"initialize() not called"),this.td},t.prototype.fa=function(){return sn(!!this.Yd,"initialize() not called"),this.Yd},t.prototype.clearPersistence=function(t){var e=gs.Pm(t);return gs.clearPersistence(e)},t}(),xs={Firestore:pr,GeoPoint:Z,Timestamp:tt,Blob:J,Transaction:fr,WriteBatch:mr,DocumentReference:gr,DocumentSnapshot:yr,Query:_r,QueryDocumentSnapshot:vr,QuerySnapshot:br,CollectionReference:wr,FieldPath:di,FieldValue:bi,setLogLevel:Xi.setLogLevel,CACHE_SIZE_UNLIMITED:Yi},Cs=function(){function t(){}return t.prototype.Xf=function(t){},t.prototype.shutdown=function(){},t}(),Es=function(){function t(){var t=this;this.Fm=function(){return t.Vm()},this.Um=function(){return t.xm()},this.jm=[],this.Lm()}return t.prototype.Xf=function(t){this.jm.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Fm),window.removeEventListener("offline",this.Um)},t.prototype.Lm=function(){window.addEventListener("online",this.Fm),window.addEventListener("offline",this.Um)},t.prototype.Vm=function(){tn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.jm;t<e.length;t++)(0,e[t])(0)},t.prototype.xm=function(){tn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.jm;t<e.length;t++)(0,e[t])(1)},t.ph=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Ss=function(){function t(t){this.qm=t.qm,this.Bm=t.Bm}return t.prototype.Ma=function(t){sn(!this.Mm,"Called onOpen on stream twice!"),this.Mm=t},t.prototype.xa=function(t){sn(!this.Qm,"Called onClose on stream twice!"),this.Qm=t},t.prototype.onMessage=function(t){sn(!this.Gm,"Called onMessage on stream twice!"),this.Gm=t},t.prototype.close=function(){this.Bm()},t.prototype.send=function(t){this.qm(t)},t.prototype.Wm=function(){sn(void 0!==this.Mm,"Cannot call onOpen because no callback was set"),this.Mm()},t.prototype.zm=function(t){sn(void 0!==this.Qm,"Cannot call onClose because no callback was set"),this.Qm(t)},t.prototype.Km=function(t){sn(void 0!==this.Gm,"Cannot call onMessage because no callback was set"),this.Gm(t)},t}(),ks={BatchGetDocuments:"batchGet",Commit:"commit"},Is="gl-js/ fire/"+u,As=function(){function t(t){this.Dn=t.Dn,this.Hm=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.Jm=function(t,e){if(e)for(var n in e.o)e.o.hasOwnProperty(n)&&(t[n]=e.o[n]);t["X-Goog-Api-Client"]=Is},t.prototype.tf=function(t,e,n){var i=this,r=this.Ym(t);return new Promise((function(o,a){var l=new c.XhrIo;l.listenOnce(c.EventType.COMPLETE,(function(){try{switch(l.getLastErrorCode()){case c.ErrorCode.NO_ERROR:var e=l.getResponseJson();tn("Connection","XHR received:",JSON.stringify(e)),o(e);break;case c.ErrorCode.TIMEOUT:tn("Connection",'RPC "'+t+'" timed out'),a(new p(d.DEADLINE_EXCEEDED,"Request time out"));break;case c.ErrorCode.HTTP_ERROR:var n=l.getStatus();if(tn("Connection",'RPC "'+t+'" failed with status:',n,"response text:",l.getResponseText()),n>0){var i=l.getResponseJson().error;if(i&&i.status&&i.message){var r=(s=i.status.toLowerCase().replace("_","-"),Object.values(d).indexOf(s)>=0?s:d.UNKNOWN);a(new p(r,i.message))}else a(new p(d.UNKNOWN,"Server responded with status "+l.getStatus()))}else tn("Connection",'RPC "'+t+'" failed'),a(new p(d.UNAVAILABLE,"Connection failed."));break;default:rn('RPC "'+t+'" failed with unanticipated webchannel error '+l.getLastErrorCode()+": "+l.getLastError()+", giving up.")}}finally{tn("Connection",'RPC "'+t+'" completed.')}var s}));var u=s.__assign({},e);delete u.database;var h=JSON.stringify(u);tn("Connection","XHR sending: ",r+" "+h);var f={"Content-Type":"text/plain"};i.Jm(f,n),l.send(r,"POST",h,f,15)}))},t.prototype.nf=function(t,e,n){return this.tf(t,e,n)},t.prototype.Qa=function(t,e){var n=[this.Hm,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=c.createWebChannelTransport(),r={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.Dn.projectId+"/databases/"+this.Dn.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.Jm(r.initMessageHeaders,e),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(r.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");tn("Connection","Creating WebChannel: "+s+" "+r);var o=i.createWebChannel(s,r),l=!1,u=!1,h=new Ss({qm:function(t){u?tn("Connection","Not sending because WebChannel is closed:",t):(l||(tn("Connection","Opening WebChannel transport."),o.open(),l=!0),tn("Connection","WebChannel sending:",t),o.send(t))},Bm:function(){return o.close()}}),f=function(t,e){o.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(c.WebChannel.EventType.OPEN,(function(){u||tn("Connection","WebChannel transport opened.")})),f(c.WebChannel.EventType.CLOSE,(function(){u||(u=!0,tn("Connection","WebChannel transport closed"),h.zm())})),f(c.WebChannel.EventType.ERROR,(function(t){u||(u=!0,tn("Connection","WebChannel transport errored:",t),h.zm(new p(d.UNAVAILABLE,"The operation could not be completed")))})),f(c.WebChannel.EventType.MESSAGE,(function(t){var e;if(!u){var n=t.data[0];sn(!!n,"Got a webchannel message without data.");var i=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(i){tn("Connection","WebChannel received error:",i);var r=i.status,s=function(t){var e=Jt[t];if(void 0!==e)return ye(e)}(r),a=i.message;void 0===s&&(s=d.INTERNAL,a="Unknown error status: "+r+" with message "+i.message),u=!0,h.zm(new p(s,a)),o.close()}else tn("Connection","WebChannel received:",n),h.Km(n)}})),setTimeout((function(){h.Wm()}),0),h},t.prototype.Ym=function(t){var e=ks[t];return sn(void 0!==e,"Unknown REST mapping for: "+t),this.Hm+"/v1/projects/"+this.Dn.projectId+"/databases/"+this.Dn.database+"/documents:"+e},t}(),Ts=function(){function t(){this.N="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.$d=function(t){return Promise.resolve(new As(t))},t.prototype.Zd=function(){return Es.ph()?new Es:new Cs},t.prototype.tv=function(t){return new Ye(t,{_e:!0})},t.prototype.Vr=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t.prototype.randomBytes=function(t){if(t<=0)return new Uint8Array;var e=new Uint8Array(t);return crypto.getRandomValues(e),e},t}();function Os(t){(function(t,e){var n;t.INTERNAL.registerComponent(new l.Component("firestore",(function(t){return function(t,e){return new Xi(t,e,new ws)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps((sn((n=xs)&&"object"==typeof n,"shallowCopy() expects object parameter."),s.__assign({},n))))})(t),t.registerVersion("@firebase/firestore","1.13.0")}Qe.Fr(new Ts),Os(r),e.__PRIVATE_registerFirestore=Os},ABqa:function(t,e,n){"use strict";var i,r=(i=n("wj3C"))&&"object"==typeof i&&"default"in i?i.default:i,s=n("mrSG"),o=n("S+S0"),a={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},l=function(t){function e(n,i,r){var s=t.call(this,i)||this;return Object.setPrototypeOf(s,e.prototype),s.code=n,s.details=r,s}return s.__extends(e,t),e}(Error),c=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return s.__awaiter(this,void 0,void 0,(function(){var t;return s.__generator(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){if(!(this.messaging&&"Notification"in self&&"granted"===Notification.permission))return[2,void 0];try{return[2,this.messaging.getToken()]}catch(e){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return s.__awaiter(this,void 0,void 0,(function(){var t,e;return s.__generator(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function u(t,e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}var h,d=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return u(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?u(t,(function(t){return e.decode(t)})):t},t}(),p=function(){function t(t,e,n,i){var r=this;void 0===i&&(i="us-central1"),this.app_=t,this.region_=i,this.serializer=new d,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return r.deleteService()}},this.contextProvider=new c(e,n),this.cancelAllRequests=new Promise((function(t){r.deleteService=function(){return t()}}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId,n=this.region_;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+n+"/"+t:"https://"+n+"-"+e+".cloudfunctions.net/"+t},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(i){return n.call(t,i,e||{})}},t.prototype.postJSON=function(t,e,n){return s.__awaiter(this,void 0,void 0,(function(){var i,r;return s.__generator(this,(function(s){switch(s.label){case 0:n.append("Content-Type","application/json"),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,fetch(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return i=s.sent(),[3,4];case 3:return s.sent(),[2,{status:0,json:null}];case 4:r=null,s.label=5;case 5:return s.trys.push([5,7,,8]),[4,i.json()];case 6:return r=s.sent(),[3,8];case 7:return s.sent(),[3,8];case 8:return[2,{status:i.status,json:r}]}}))}))},t.prototype.call=function(t,e,n){return s.__awaiter(this,void 0,void 0,(function(){var i,r,o,c,u,h,d,p;return s.__generator(this,(function(s){switch(s.label){case 0:return i=this._url(t),e=this.serializer.encode(e),r={data:e},o=new Headers,[4,this.contextProvider.getContext()];case 1:return(c=s.sent()).authToken&&o.append("Authorization","Bearer "+c.authToken),c.instanceIdToken&&o.append("Firebase-Instance-ID-Token",c.instanceIdToken),u=n.timeout||7e4,[4,Promise.race([this.postJSON(i,r,o),(f=u,new Promise((function(t,e){setTimeout((function(){e(new l("deadline-exceeded","deadline-exceeded"))}),f)}))),this.cancelAllRequests])];case 2:if(!(h=s.sent()))throw new l("cancelled","Firebase Functions instance was deleted.");if(d=function(t,e,n){var i=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),r=i,s=void 0;try{var o=e&&e.error;if(o){var c=o.status;if("string"==typeof c){if(!a[c])return new l("internal","internal");i=a[c],r=c}var u=o.message;"string"==typeof u&&(r=u),void 0!==(s=o.details)&&(s=n.decode(s))}}catch(h){}return"ok"===i?null:new l(i,r,s)}(h.status,h.json,this.serializer))throw d;if(!h.json)throw new l("internal","Response is not valid JSON object.");if(void 0===(p=h.json.data)&&(p=h.json.result),void 0===p)throw new l("internal","Response is missing data field.");return[2,{data:this.serializer.decode(p)}]}var f}))}))},t}();h={Functions:p},r.INTERNAL.registerComponent(new o.Component("functions",(function(t,e){var n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("messaging");return new p(n,i,r,e)}),"PUBLIC").setServiceProps(h).setMultipleInstances(!0)),r.registerVersion("@firebase/functions","0.4.38")},LmZi:function(t,e,n){"use strict";n.r(e),n.d(e,"registerStorage",(function(){return Vt}));var i=n("wj3C"),r=n.n(i),s=n("mrSG"),o=n("S+S0"),a=function(){function t(t,e){this.code_=l(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return l(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}();function l(t){return"storage/"+t}function c(){return new a("unknown","An unknown error occurred, please check the error payload for server response.")}function u(){return new a("canceled","User canceled the upload/download.")}function h(){return new a("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function d(){return new a("no-download-url","The given file does not have any download URLs.")}function p(t,e,n){return new a("invalid-argument","Invalid argument in `"+e+"` at index "+t+": "+n)}function f(){return new a("app-deleted","The Firebase app was deleted.")}function m(t,e){return new a("invalid-format","String does not match format '"+t+"': "+e)}function g(t){throw new a("internal-error","Internal error: "+t)}var y={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function v(t){switch(t){case y.RAW:case y.BASE64:case y.BASE64URL:case y.DATA_URL:return;default:throw"Expected one of the event types: ["+y.RAW+", "+y.BASE64+", "+y.BASE64URL+", "+y.DATA_URL+"]."}}var _=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function b(t,e){switch(t){case y.RAW:return new _(w(e));case y.BASE64:case y.BASE64URL:return new _(x(t,e));case y.DATA_URL:return new _((n=new C(e)).base64?x(y.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw m(y.DATA_URL,"Malformed data URL.")}return w(e)}(n.rest),function(t){return new C(t).contentType}(e))}var n;throw c()}function w(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|63&i);else if(55296==(64512&i))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var r=i,s=t.charCodeAt(++n);e.push(240|(i=65536|(1023&r)<<10|1023&s)>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else e.push(239,191,189);else 56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function x(t,e){switch(t){case y.BASE64:var n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i)throw m(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case y.BASE64URL:var r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw m(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(c){throw m(t,"Invalid character found")}for(var a=new Uint8Array(o.length),l=0;l<o.length;l++)a[l]=o.charCodeAt(l);return a}var C=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw m(y.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),E={STATE_CHANGED:"state_changed"},S={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function k(t){switch(t){case"running":case"pausing":case"canceling":return S.RUNNING;case"paused":return S.PAUSED;case"success":return S.SUCCESS;case"canceled":return S.CANCELED;case"error":default:return S.ERROR}}function I(t){return null!=t}function A(t){return void 0!==t}function T(t){return"function"==typeof t}function O(t){return"object"==typeof t}function D(t){return O(t)&&null!==t}function R(t){return"string"==typeof t||t instanceof String}function N(t){return P(t)&&Number.isInteger(t)}function P(t){return"number"==typeof t||t instanceof Number}function F(t){return M()&&t instanceof Blob}function M(){return"undefined"!=typeof Blob}var L=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),V=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=L.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=L.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=L.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,i){if(this.sent_)throw g("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),I(i))for(var r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return I(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw g("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw g("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw g("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){I(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){I(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),j=function(){function t(){}return t.prototype.createXhrIo=function(){return new V},t}();function U(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function B(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=U();if(void 0!==n){for(var i=new n,r=0;r<t.length;r++)i.append(t[r]);return i.getBlob()}if(M())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var q=function(){function t(t,e){var n=0,i="";F(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(F(this.data_)){var i=(s=e,o=n,(r=this.data_).webkitSlice?r.webkitSlice(s,o):r.mozSlice?r.mozSlice(s,o):r.slice?r.slice(s,o):null);return null===i?null:new t(i)}var r,s,o;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(M()){var i=e.map((function(e){return e instanceof t?e.data_:e}));return new t(B.apply(null,i))}var r=e.map((function(t){return R(t)?b(y.RAW,t).data:t.data_})),s=0;r.forEach((function(t){s+=t.byteLength}));var o=new Uint8Array(s),a=0;return r.forEach((function(t){for(var e=0;e<t.length;e++)o[a++]=t[e]})),new t(o,!0)},t.prototype.uploadData=function(){return this.data_},t}(),z=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(i){return new t(e,"")}if(""===n.path)return n;throw new a("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){for(var n=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i"),r="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+r+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(t){t.path_=decodeURIComponent(t.path)}}],o=0;o<s.length;o++){var l=s[o],c=l.regex.exec(e);if(c){var u=c[l.indices.path];u||(u=""),n=new t(c[l.indices.bucket],u),l.postModify(n);break}}if(null==n)throw function(t){return new a("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function H(t){var e,n;try{e=JSON.parse(t)}catch(i){return null}return O(n=e)&&!Array.isArray(n)?e:null}function G(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function W(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function $(t){return"https://firebasestorage.googleapis.com/v0"+t}function K(t){var e=encodeURIComponent,n="?";for(var i in t)t.hasOwnProperty(i)&&(n=n+(e(i)+"=")+e(t[i])+"&");return n.slice(0,-1)}function Y(t,e){return e}var Q=function(){return function(t,e,n,i){this.server=t,this.local=e||t,this.writable=!!n,this.xform=i||Y}}(),X=null;function J(t,e,n){var i=H(e);return null===i?null:function(t,e,n){for(var i={type:"file"},r=n.length,s=0;s<r;s++){var o=n[s];i[o.local]=o.xform(i,e[o.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new z(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(i,t),i}(t,i,n)}function Z(t,e){for(var n={},i=e.length,r=0;r<i;r++){var s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}function tt(t){if(!O(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!O(n))throw"Expected object for 'customMetadata' mapping."}else if(D(n))throw"Mapping for '"+e+"' cannot be an object."}}function et(t){if(!O(t)||!t)throw"Expected ListOptions object.";for(var e in t)if("maxResults"===e){if(!N(t.maxResults)||t.maxResults<=0)throw"Expected maxResults to be a positive number.";if(t.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==e)throw"Unknown option: "+e;if(t.pageToken&&!R(t.pageToken))throw"Expected pageToken to be string."}}var nt=function(){return function(t,e,n,i){this.url=t,this.method=e,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function it(t){if(!t)throw c()}function rt(t,e){return function(n,i){var r=J(t,i,e);return it(null!==r),r}}function st(t){return function(e,n){var i;return(i=401===e.getStatus()?new a("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new a("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new a("unauthorized","User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),i}}function ot(t){var e=st(t);return function(n,i){var r=e(n,i);return 404===n.getStatus()&&(r=new a("object-not-found","Object '"+t.path+"' does not exist.")),r.setServerResponseProp(i.serverResponseProp()),r}}function at(t,e,n){var i=$(e.fullServerUrl()),r=t.maxOperationRetryTime(),s=new nt(i,"GET",rt(t,n),r);return s.errorHandler=ot(e),s}function lt(t,e,n,i,r){var s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),i&&(s.pageToken=i),r&&(s.maxResults=r);var o=$(e.bucketOnlyServerUrl()),l=t.maxOperationRetryTime(),c=new nt(o,"GET",function(t){return function(e,n){var i=function(t,e){var n=H(e);return null===n?null:function(t,e){var n={prefixes:[],items:[],nextPageToken:e.nextPageToken},i=t.bucket();if(null===i)throw new a("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");if(e.prefixes)for(var r=0,s=e.prefixes;r<s.length;r++){var o=s[r].replace(/\/$/,""),l=t.makeStorageReference(new z(i,o));n.prefixes.push(l)}if(e.items)for(var c=0,u=e.items;c<u.length;c++)l=t.makeStorageReference(new z(i,u[c].name)),n.items.push(l);return n}(t,n)}(t,n);return it(null!==i),i}}(t),l);return c.urlParams=s,c.errorHandler=st(e),c}function ct(t,e,n){var i=$(e.fullServerUrl()),r=t.maxOperationRetryTime(),s=new nt(i,"GET",function(t,e){return function(n,i){var r=J(t,i,e);return it(null!==r),function(t,e){var n=H(e);if(null===n)return null;if(!R(n.downloadTokens))return null;var i=n.downloadTokens;if(0===i.length)return null;var r=encodeURIComponent;return i.split(",").map((function(e){var n=t.fullPath;return $("/b/"+r(t.bucket)+"/o/"+r(n))+K({alt:"media",token:e})}))[0]}(r,i)}}(t,n),r);return s.errorHandler=ot(e),s}function ut(t,e,n,i){var r=$(e.fullServerUrl()),s=Z(n,i),o=t.maxOperationRetryTime(),a=new nt(r,"PATCH",rt(t,i),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=ot(e),a}function ht(t,e){var n=$(e.fullServerUrl()),i=t.maxOperationRetryTime(),r=new nt(n,"DELETE",(function(t,e){}),i);return r.successCodes=[200,204],r.errorHandler=ot(e),r}function dt(t,e,n){var i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),i}var pt=function(){return function(t,e,n,i){this.current=t,this.total=e,this.finalized=!!n,this.metadata=i||null}}();function ft(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(i){it(!1)}return it(!!n&&-1!==(e||["active"]).indexOf(n)),n}var mt=function(){return function(t,e,n){if(T(t)||I(e)||I(n))this.next=t,this.error=e||null,this.complete=n||null;else{var i=t;this.next=i.next||null,this.error=i.error||null,this.complete=i.complete||null}}}(),gt=function(){return function(t,e,n,i,r,s){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=i,this.task=r,this.ref=s}}();function yt(t,e,n){for(var i=e.length,r=e.length,s=0;s<e.length;s++)if(e[s].optional){i=s;break}var o,l,c,u;if(!(i<=n.length&&n.length<=r))throw(o=i)===(l=r)?(c=o,u=1===o?"argument":"arguments"):(c="between "+o+" and "+l,u="arguments"),new a("invalid-argument-count","Invalid argument count in `"+t+"`: Expected "+c+" "+u+", received "+n.length+".");for(s=0;s<n.length;s++)try{e[s].validator(n[s])}catch(h){throw h instanceof Error?p(s,t,h.message):p(s,t,h)}}var vt=function(){return function(t,e){var n=this;this.validator=function(e){n.optional&&!A(e)||t(e)},this.optional=!!e}}();function _t(t,e){function n(t){if(!R(t))throw"Expected string."}var i,r,s;return t?(r=n,s=t,i=function(t){r(t),s(t)}):i=n,new vt(i,e)}function bt(){return new vt((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||M()&&t instanceof Blob))throw"Expected Blob or File."}))}function wt(t){return new vt(tt,t)}function xt(t){return new vt(et,t)}function Ct(){return new vt((function(t){if(!(P(t)&&t>=0))throw"Expected a number 0 or greater."}))}function Et(t,e){return new vt((function(e){if(!(null===e||I(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function St(t){return new vt((function(t){if(null!==t&&!T(t))throw"Expected a Function."}),t)}function kt(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var It=function(){function t(t,e,n,i,r,s){var o=this;void 0===s&&(s=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=r,this.metadata_=s,this.mappings_=i,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_="running",this.errorHandler_=function(t){o.request_=null,o.chunkMultiplier_=1,t.codeEquals("canceled")?(o.needToFetchStatus_=!0,o.completeTransitions_()):(o.error_=t,o.transition_("error"))},this.metadataErrorHandler_=function(t){o.request_=null,t.codeEquals("canceled")?o.completeTransitions_():(o.error_=t,o.transition_("error"))},this.promise_=new Promise((function(t,e){o.resolve_=t,o.reject_=e,o.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){"running"===this.state_&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then((function(n){switch(e.state_){case"running":t(n);break;case"canceling":e.transition_("canceled");break;case"pausing":e.transition_("paused")}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,i,r){var s=e.bucketOnlyServerUrl(),o=dt(e,i,r),a={name:o.fullPath},l=$(s),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=Z(o,n),h=t.maxUploadRetryTime(),d=new nt(l,"POST",(function(t){var e;ft(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){it(!1)}return it(R(e)),e}),h);return d.urlParams=a,d.headers=c,d.body=u,d.errorHandler=st(e),d}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),i=t.authWrapper_.makeRequest(n,e);t.request_=i,i.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var i=function(t,e,n,i){var r=t.maxUploadRetryTime(),s=new nt(n,"POST",(function(t){var e=ft(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){it(!1)}n||it(!1);var r=Number(n);return it(!isNaN(r)),new pt(r,i.size(),"final"===e)}),r);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=st(e),s}(t.authWrapper_,t.location_,e,t.blob_),r=t.authWrapper_.makeRequest(i,n);t.request_=r,r.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new pt(this.transferred_,this.blob_.size()),i=this.uploadUrl_;this.resolveToken_((function(r){var s;try{s=function(t,e,n,i,r,s,o,l){var c=new pt(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw new a("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=c.total-c.current,d=u;r>0&&(d=Math.min(d,r));var p=c.current,f={"X-Goog-Upload-Command":d===u?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},m=i.slice(p,p+d);if(null===m)throw h();var g=e.maxUploadRetryTime(),y=new nt(n,"POST",(function(t,n){var r,o=ft(t,["active","final"]),a=c.current+d,l=i.size();return r="final"===o?rt(e,s)(t,n):null,new pt(a,l,"final"===o,r)}),g);return y.headers=f,y.body=m.uploadData(),y.progressCallback=l||null,y.errorHandler=st(t),y}(t.location_,t.authWrapper_,i,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(l){return t.error_=l,void t.transition_("error")}var o=t.authWrapper_.makeRequest(s,r);t.request_=o,o.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_("success")):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=at(t.authWrapper_,t.location_,t.mappings_),i=t.authWrapper_.makeRequest(n,e);t.request_=i,i.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_("success")}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,i,r){var s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;var l=dt(e,i,r),c=Z(l,n),u=q.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",i,"\r\n--"+a+"--");if(null===u)throw h();var d={name:l.fullPath},p=$(s),f=t.maxUploadRetryTime(),m=new nt(p,"POST",rt(t,n),f);return m.urlParams=d,m.headers=o,m.body=u.uploadData(),m.errorHandler=st(e),m}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),i=t.authWrapper_.makeRequest(n,e);t.request_=i,i.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_("success")}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case"canceling":case"pausing":this.state_=t,null!==this.request_&&this.request_.cancel();break;case"running":var e="paused"===this.state_;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case"paused":this.state_=t,this.notifyObservers_();break;case"canceled":this.error_=u(),this.state_=t,this.notifyObservers_();break;case"error":case"success":this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case"pausing":this.transition_("paused");break;case"canceling":this.transition_("canceled");break;case"running":this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=k(this.state_);return new gt(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,i){function r(){if(t!==E.STATE_CHANGED)throw"Expected one of the event types: ["+E.STATE_CHANGED+"]."}var s="Expected a function or an Object with one of `next`, `error`, `complete` properties.",o=St(!0).validator,a=Et(null,!0).validator;function l(t){try{return void o(t)}catch(e){}try{if(a(t),!(A(t.next)||A(t.error)||A(t.complete)))throw"";return}catch(e){throw s}}var c=[_t(r),Et(l,!0),St(!0),St(!0)];yt("on",c,arguments);var u=this;function h(t){return function(e,n,r){null!==t&&yt("on",t,arguments);var s=new mt(e,n,i);return u.addObserver_(s),function(){u.removeObserver_(s)}}}function d(t){if(null===t)throw s;l(t)}var p=[Et(d),St(!0),St(!0)],f=!(A(e)||A(n)||A(i));return f?h(p):h(null)(e,n,i)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(k(this.state_)){case S.SUCCESS:kt(this.resolve_.bind(null,this.snapshot))();break;case S.CANCELED:case S.ERROR:kt(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(k(this.state_)){case S.RUNNING:case S.PAUSED:t.next&&kt(t.next.bind(t,this.snapshot))();break;case S.SUCCESS:t.complete&&kt(t.complete.bind(t))();break;case S.CANCELED:case S.ERROR:t.error&&kt(t.error.bind(t,this.error_))();break;default:t.error&&kt(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){yt("resume",[],arguments);var t="paused"===this.state_||"pausing"===this.state_;return t&&this.transition_("running"),t},t.prototype.pause=function(){yt("pause",[],arguments);var t="running"===this.state_;return t&&this.transition_("pausing"),t},t.prototype.cancel=function(){yt("cancel",[],arguments);var t="running"===this.state_||"pausing"===this.state_;return t&&this.transition_("canceling"),t},t}(),At=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof z?e:z.makeFromUrl(e)}return t.prototype.toString=function(){return yt("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(X)return X;var t=[];t.push(new Q("bucket")),t.push(new Q("generation")),t.push(new Q("metageneration")),t.push(new Q("name","fullPath",!0));var e=new Q("name");e.xform=function(t,e){return function(t){return!R(t)||t.length<2?t:W(t)}(e)},t.push(e);var n=new Q("size");return n.xform=function(t,e){return I(e)?Number(e):e},t.push(n),t.push(new Q("timeCreated")),t.push(new Q("updated")),t.push(new Q("md5Hash",null,!0)),t.push(new Q("cacheControl",null,!0)),t.push(new Q("contentDisposition",null,!0)),t.push(new Q("contentEncoding",null,!0)),t.push(new Q("contentLanguage",null,!0)),t.push(new Q("contentType",null,!0)),t.push(new Q("metadata","customMetadata",!0)),X=t}()},t.prototype.child=function(t){yt("child",[_t()],arguments);var e=G(this.location.path,t),n=new z(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new z(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new z(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return W(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),yt("put",[bt(),wt(!0)],arguments),this.throwIfRoot_("put"),new It(this,this.authWrapper,this.location,this.mappings(),new q(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=y.RAW),yt("putString",[_t(),_t(v,!0),wt(!0)],arguments),this.throwIfRoot_("putString");var i=b(e,t),r=Object.assign({},n);return!I(r.contentType)&&I(i.contentType)&&(r.contentType=i.contentType),new It(this,this.authWrapper,this.location,this.mappings(),new q(i.data,!0),r)},t.prototype.delete=function(){var t=this;return yt("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(e){var n=ht(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){yt("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,i,r;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return[4,this.list({pageToken:e})];case 1:return n=s.sent(),(i=t.prefixes).push.apply(i,n.prefixes),(r=t.items).push.apply(r,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){yt("list",[xt(!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then((function(n){var i=t||{},r=lt(e.authWrapper,e.location,"/",i.pageToken,i.maxResults);return e.authWrapper.makeRequest(r,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return yt("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(e){var n=at(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return yt("updateMetadata",[wt()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(n){var i=ut(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(i,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return yt("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(e){var n=ct(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw d();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new a("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),Tt=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),Ot=function(){function t(){this.map=new Map,this.id=-9007199254740991}return t.prototype.addRequest=function(t){var e=this,n=this.id;this.id++,this.map.set(n,t),t.getPromise().then((function(){return e.map.delete(n)}),(function(){return e.map.delete(n)}))},t.prototype.clear=function(){this.map.forEach((function(t){t&&t.cancel(!0)})),this.map.clear()},t}(),Dt=function(){function t(e,n,i,r,s,o){var a;if(this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var l=this.app_.options;I(l)&&(this.bucket_=t.extractBucket_(l),this.appId_=null!==(a=l.appId)&&void 0!==a?a:null)}this.authProvider_=n,this.storageRefMaker_=i,this.requestMaker_=r,this.pool_=o,this.service_=s,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requestMap_=new Ot}return t.extractBucket_=function(t){var e=t.storageBucket||null;return null==e?null:z.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){var t=this.authProvider_.getImmediate({optional:!0});return t?t.getToken().then((function(t){return null!==t?t.accessToken:null}),(function(){return null})):Promise.resolve(null)},t.prototype.bucket=function(){if(this.deleted_)throw f();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new Tt(f());var n=this.requestMaker_(t,this.appId_,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),Rt=function(){function t(t,e,n,i,r,s,o,a,l,c,u){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=i,this.successCodes_=r.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=l,this.pool_=u,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var i,r=t.resolve_,s=t.reject_,o=n.xhr;if(n.wasSuccessCode)try{var l=t.callback_(o,o.getResponseText());A(l)?r(l):r()}catch(h){s(h)}else null!==o?((i=c()).setServerResponseProp(o.getResponseText()),s(t.errorCallback_?t.errorCallback_(o,i):i)):s(i=n.canceled?t.appDelete_?f():u():new a("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Nt(!1,null,!0)):this.backoffId_=function(e,n,i){var r=1,o=null,a=!1,l=0;function c(){return 2===l}var u=!1;function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];u||(u=!0,n.apply(null,t))}function d(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new Nt(!1,null,!0));else{var i=t.pool_.createXhrIo();t.pendingXhr_=i,null!==t.progressCallback_&&i.addUploadProgressListener(r),i.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(r),t.pendingXhr_=null;var i=(n=n).getErrorCode()===L.NO_ERROR,s=n.getStatus();if(i&&!t.isRetryStatusCode_(s)){var o=-1!==t.successCodes_.indexOf(s);e(!0,new Nt(o,n))}else{var a=n.getErrorCode()===L.ABORT;e(!1,new Nt(!1,null,a))}}))}function r(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(p,c())}),e)}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)h.call.apply(h,Object(s.__spreadArrays)([null,t],e));else{var i,o=c()||a;o?h.call.apply(h,Object(s.__spreadArrays)([null,t],e)):(r<64&&(r*=2),1===l?(l=2,i=0):i=1e3*(r+Math.random()),d(i))}}var f=!1;function m(t){f||(f=!0,u||(null!==o?(t||(l=2),clearTimeout(o),d(0)):t||(l=1)))}return d(0),setTimeout((function(){a=!0,m(!0)}),i),m}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),i=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||i},t}(),Nt=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function Pt(t,e,n,i){var s=K(t.urlParams),o=t.url+s,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==r.a?r.a.SDK_VERSION:"AppManager")}(a),new Rt(o,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}var Ft=function(){function t(t,e,n,i){if(this.bucket_=null,this.authWrapper_=new Dt(t,e,(function(t,e){return new At(t,e)}),Pt,this,n),this.app_=t,null!=i)this.bucket_=z.makeFromBucketSpec(i);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new z(r,""))}this.internals_=new Mt(this)}return t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(yt("ref",[_t(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new At(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{z.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}}return yt("refFromURL",[_t(e,!1)],arguments),new At(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){yt("setMaxUploadRetryTime",[Ct()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},t.prototype.setMaxOperationRetryTime=function(t){yt("setMaxOperationRetryTime",[Ct()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),Mt=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},t}();function Lt(t,e){var n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return new Ft(n,i,new j,e)}function Vt(t){var e={TaskState:S,TaskEvent:E,StringFormat:y,Storage:Ft,Reference:At};t.INTERNAL.registerComponent(new o.Component("storage",Lt,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.3.30")}Vt(r.a)},NSPt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r,s=(i=n("wj3C"))&&"object"==typeof i&&"default"in i?i.default:i,o=n("mrSG"),a=n("zVF4"),l=n("q/0M"),c=n("S+S0"),u=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),a.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:a.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),h=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return a.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new u(e)}}catch(n){}return new h},p=d("localStorage"),f=d("sessionStorage"),m=new l.Logger("@firebase/database"),g=(r=1,function(){return r++}),y=function(t){var e=a.stringToByteArray(t),n=new a.Sha1;n.update(e);var i=n.digest();return a.base64.encodeByteArray(i)},v=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",i=0;i<t.length;i++){var r=t[i];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?n+=v.apply(null,r):n+="object"==typeof r?a.stringify(r):r,n+=" "}return n},_=null,b=!0,w=function(t,e){a.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(m.logLevel=l.LogLevel.VERBOSE,_=m.log.bind(m),e&&f.set("logging_enabled",!0)):"function"==typeof t?_=t:(_=null,f.remove("logging_enabled"))},x=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===b&&(b=!1,null===_&&!0===f.get("logging_enabled")&&w(!0)),_){var n=v.apply(null,t);_(n)}},C=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];x.apply(void 0,o.__spread([t],e))}},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,o.__spread(t));m.error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+v.apply(void 0,o.__spread(t));throw m.error(n),new Error(n)},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+v.apply(void 0,o.__spread(t));m.warn(n)},I=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},A="[MIN_NAME]",T="[MAX_NAME]",O=function(t,e){if(t===e)return 0;if(t===A||e===T)return-1;if(e===A||t===T)return 1;var n=K(t),i=K(e);return null!==n?null!==i?n-i==0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1},D=function(t,e){return t===e?0:t<e?-1:1},R=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+a.stringify(e))},N=function(t){if("object"!=typeof t||null===t)return a.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var i="{",r=0;r<e.length;r++)0!==r&&(i+=","),i+=a.stringify(e[r]),i+=":",i+=N(t[e[r]]);return i+"}"},P=function(t,e){var n=t.length;if(n<=e)return[t];for(var i=[],r=0;r<n;r+=e)i.push(t.substring(r,r+e>n?n:r+e));return i};function F(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var M,L,V,j,U,B,q,z,H,G,W=function(t){var e,n,i,r,s;a.assert(!I(t),"Invalid JSON number"),0===t?(n=0,i=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,i=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074))));var o=[];for(s=52;s;s-=1)o.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(e?1:0),o.reverse();var l=o.join(""),c="";for(s=0;s<64;s+=8){var u=parseInt(l.substr(s,8),2).toString(16);1===u.length&&(u="0"+u),c+=u}return c.toLowerCase()},$=new RegExp("^-?(0*)\\d{1,10}$"),K=function(t){if($.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Y=function(t){try{t()}catch(e){setTimeout((function(){throw k("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},Q=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},X=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],i=this.pieceNum_;i<this.pieces_.length;i++)n.push(this.pieces_[i]);if(e instanceof t)for(i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{var r=e.split("/");for(i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var i=e.getFront(),r=n.getFront();if(null===i)return n;if(i===r)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),i=e.slice(),r=0;r<n.length&&r<i.length;r++){var s=O(n[r],i[r]);if(0!==s)return s}return n.length===i.length?0:n.length<i.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),J=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=a.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=a.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=a.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),Z=function(){function t(t,e,n,i,r,s){void 0===r&&(r=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=i,this.persistenceKey=r,this.includeNamespaceInQueryParams=s,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=p.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(a.assert("string"==typeof t,"typeof type must == string"),a.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var i=[];return F(e,(function(t,e){i.push(t+"="+e)})),n+i.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),tt=function(t){var e=et(t),n=e.namespace;return"firebase"===e.domain&&S(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===e.domain||S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&k("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Z(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme,"",n!==e.subdomain),path:new X(e.pathString)}},et=function(t){var e="",n="",i="",r="",s="",a=!0,l="https",c=443;if("string"==typeof t){var u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(r=function(t){for(var e="",n=t.split("/"),i=0;i<n.length;i++)if(n[i].length>0){var r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}e+="/"+r}return e}(t.substring(h,d)));var p=function(t){var e,n,i={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var r=o.__values(t.split("&")),s=r.next();!s.done;s=r.next()){var a=s.value;if(0!==a.length){var l=a.split("=");2===l.length?i[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):k("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}(t.substring(Math.min(t.length,d)));(u=e.indexOf(":"))>=0?(a="https"===l||"wss"===l,c=parseInt(e.substring(u+1),10)):u=t.length;var f=e.split(".");3===f.length?(n=f[1],s=i=f[0].toLowerCase()):2===f.length?n=f[0]:"localhost"===f[0].slice(0,u).toLowerCase()&&(n="localhost"),"ns"in p&&(s=p.ns)}return{host:e,port:c,domain:n,subdomain:i,secure:a,scheme:l,pathString:r,namespace:s}},nt=/[\[\].#$\/\u0000-\u001F\u007F]/,it=/[\[\].#$\u0000-\u001F\u007F]/,rt=function(t){return"string"==typeof t&&0!==t.length&&!nt.test(t)},st=function(t){return"string"==typeof t&&0!==t.length&&!it.test(t)},ot=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!I(t)||t&&"object"==typeof t&&a.contains(t,".sv")},at=function(t,e,n,i,r){r&&void 0===n||lt(a.errorPrefix(t,e,r),n,i)},lt=function(t,e,n){var i=n instanceof X?new J(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+i.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+i.toErrorString()+" with contents = "+e.toString());if(I(e))throw new Error(t+"contains "+e.toString()+" "+i.toErrorString());if("string"==typeof e&&e.length>10485760/3&&a.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+i.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var r=!1,s=!1;if(F(e,(function(e,n){if(".value"===e)r=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!rt(e)))throw new Error(t+" contains an invalid key ("+e+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(e),lt(t,n,i),i.pop()})),r&&s)throw new Error(t+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},ct=function(t,e,n,i,r){if(!r||void 0!==n){var s=a.errorPrefix(t,e,r);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var o=[];F(n,(function(t,e){var n=new X(t);if(lt(s,e,i.child(n)),".priority"===n.getBack()&&!ot(e))throw new Error(s+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(n)})),function(t,e){var n,i;for(n=0;n<e.length;n++)for(var r=(i=e[n]).slice(),s=0;s<r.length;s++)if(".priority"===r[s]&&s===r.length-1);else if(!rt(r[s]))throw new Error(t+"contains an invalid key ("+r[s]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(X.comparePaths);var o=null;for(n=0;n<e.length;n++){if(i=e[n],null!==o&&o.contains(i))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}}(s,o)}},ut=function(t,e,n,i){if(!i||void 0!==n){if(I(n))throw new Error(a.errorPrefix(t,e,i)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ot(n))throw new Error(a.errorPrefix(t,e,i)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ht=function(t,e,n,i){if(!i||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(a.errorPrefix(t,e,i)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},dt=function(t,e,n,i){if(!(i&&void 0===n||rt(n)))throw new Error(a.errorPrefix(t,e,i)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},pt=function(t,e,n,i){if(!(i&&void 0===n||st(n)))throw new Error(a.errorPrefix(t,e,i)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ft=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),pt(t,e,n,i)},mt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},gt=function(t,e,n){var i=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!rt(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==i.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),st(t)}(i))throw new Error(a.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},yt=function(t,e,n,i){if((!i||void 0!==n)&&"boolean"!=typeof n)throw new Error(a.errorPrefix(t,e,i)+"must be a boolean.")},vt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){a.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),a.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){a.validateArgCount("OnDisconnect.remove",0,1,arguments.length),mt("OnDisconnect.remove",this.path_),a.validateCallback("OnDisconnect.remove",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){a.validateArgCount("OnDisconnect.set",1,2,arguments.length),mt("OnDisconnect.set",this.path_),at("OnDisconnect.set",1,t,this.path_,!1),a.validateCallback("OnDisconnect.set",2,e,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){a.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),mt("OnDisconnect.setWithPriority",this.path_),at("OnDisconnect.setWithPriority",1,t,this.path_,!1),ut("OnDisconnect.setWithPriority",2,e,!1),a.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var i=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,i.wrapCallback(n)),i.promise},t.prototype.update=function(t,e){if(a.validateArgCount("OnDisconnect.update",1,2,arguments.length),mt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,k("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ct("OnDisconnect.update",1,t,this.path_,!1),a.validateCallback("OnDisconnect.update",2,e,!0);var r=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,r.wrapCallback(e)),r.promise},t}(),_t=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return a.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),bt=(M="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",L=0,V=[],function(t){var e,n=t===L;L=t;var i=new Array(8);for(e=7;e>=0;e--)i[e]=M.charAt(t%64),t=Math.floor(t/64);a.assert(0===t,"Cannot push at time == 0");var r=i.join("");if(n){for(e=11;e>=0&&63===V[e];e--)V[e]=0;V[e]++}else for(e=0;e<12;e++)V[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)r+=M.charAt(V[e]);return a.assert(20===r.length,"nextPushId: Length should be 20."),r}),wt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),xt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new wt(A,t),i=new wt(A,e);return 0!==this.compare(n,i)},t.prototype.minPost=function(){return wt.MIN},t}(),Ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return j},set:function(t){j=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return O(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw a.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return wt.MIN},e.prototype.maxPost=function(){return new wt(T,j)},e.prototype.makePost=function(t,e){return a.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new wt(t,j)},e.prototype.toString=function(){return".key"},e}(xt),Et=new Ct,St=function(t){return"number"==typeof t?"number:"+W(t):"string:"+t},kt=function(t){if(t.isLeafNode()){var e=t.val();a.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&a.contains(e,".sv"),"Priority must be a string or number.")}else a.assert(t===U||t.isEmpty(),"priority of unexpected type.");a.assert(t===U||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},It=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,a.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),kt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return B},set:function(t){B=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var i=e.getFront();return null===i?n:n.isEmpty()&&".priority"!==i?this:(a.assert(".priority"!==i||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+St(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?W(this.value_):this.value_,this.lazyHash_=y(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(a.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,i=typeof this.value_,r=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(i);return a.assert(r>=0,"Unknown leaf type: "+n),a.assert(s>=0,"Unknown leaf type: "+i),r===s?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),At=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),i=e.node.getPriority(),r=n.compareTo(i);return 0===r?O(t.name,e.name):r},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return wt.MIN},e.prototype.maxPost=function(){return new wt(T,new It("[PRIORITY-POST]",z))},e.prototype.makePost=function(t,e){var n=q(t);return new wt(e,new It("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(xt)),Tt=function(){function t(t,e,n,i,r){void 0===r&&(r=null),this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];for(var s=1;!t.isEmpty();)if(t=t,s=e?n(t.key,e):1,i&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ot=function(){function t(e,n,i,r,s){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:Rt.EMPTY_NODE,this.right=null!=s?s:Rt.EMPTY_NODE}return t.prototype.copy=function(e,n,i,r,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Rt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,i;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Rt.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Dt=function(){function t(){}return t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new Ot(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Rt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ot.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ot.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,i=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Tt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Tt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Tt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Tt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Dt,t}(),Nt=Math.log(2),Pt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Nt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Ft=function(t,e,n,i){t.sort(e);var r=function(e,i){var s,o,a=i-e;if(0===a)return null;if(1===a)return s=t[e],o=n?n(s):s,new Ot(o,s.node,Ot.BLACK,null,null);var l=parseInt(a/2,10)+e,c=r(e,l),u=r(l+1,i);return s=t[l],o=n?n(s):s,new Ot(o,s.node,Ot.BLACK,c,u)},s=function(e){for(var i=null,s=null,o=t.length,a=function(e,i){var s=o-e,a=o;o-=e;var c=r(s+1,a),u=t[s],h=n?n(u):u;l(new Ot(h,u.node,i,null,c))},l=function(t){i?(i.left=t,i=t):(s=t,i=t)},c=0;c<e.count;++c){var u=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));u?a(h,Ot.BLACK):(a(h,Ot.BLACK),a(h,Ot.RED))}return s}(new Pt(t.length));return new Rt(i||e,s)},Mt={},Lt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return a.assert(Mt&&At,"ChildrenNode.ts has not been loaded"),H=H||new t({".priority":Mt},{".priority":At})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=a.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Rt?e:null},t.prototype.hasIndex=function(t){return a.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){a.assert(e!==Et,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i,r=[],s=!1,l=n.getIterator(wt.Wrap),c=l.getNext();c;)s=s||e.isDefinedOn(c.node),r.push(c),c=l.getNext();i=s?Ft(r,e.getCompare()):Mt;var u=e.toString(),h=o.__assign({},this.indexSet_);h[u]=e;var d=o.__assign({},this.indexes_);return d[u]=i,new t(d,h)},t.prototype.addToIndexes=function(e,n){var i=this;return new t(a.map(this.indexes_,(function(t,r){var s=a.safeGet(i.indexSet_,r);if(a.assert(s,"Missing index implementation for "+r),t===Mt){if(s.isDefinedOn(e.node)){for(var o=[],l=n.getIterator(wt.Wrap),c=l.getNext();c;)c.name!==e.name&&o.push(c),c=l.getNext();return o.push(e),Ft(o,s.getCompare())}return Mt}var u=n.get(e.name),h=t;return u&&(h=h.remove(new wt(e.name,u))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(a.map(this.indexes_,(function(t){if(t===Mt)return t;var i=n.get(e.name);return i?t.remove(new wt(e.name,i)):t})),this.indexSet_)},t}();function Vt(t,e){return O(t.name,e.name)}function jt(t,e){return O(t,e)}var Ut=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&kt(this.priorityNode_),this.children_.isEmpty()&&a.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return G||(G=new t(new Rt(jt),null,Lt.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||G},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?G:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(a.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var i=new wt(e,n),r=void 0,s=void 0;n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));var o=r.isEmpty()?G:this.priorityNode_;return new t(r,o,s)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;a.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var i=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},i=0,r=0,s=!0;if(this.forEachChild(At,(function(o,a){n[o]=a.val(e),i++,s&&t.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1})),!e&&s&&r<2*i){var o=[];for(var a in n)o[a]=n[a];return o}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+St(this.getPriority().val())+":"),this.forEachChild(At,(function(e,n){var i=n.hash();""!==i&&(t+=":"+e+":"+i)})),this.lazyHash_=""===t?"":y(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var i=this.resolveIndex_(n);if(i){var r=i.getPredecessorKey(new wt(t,e));return r?r.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new wt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new wt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var i=this.children_.getIteratorFrom(t.name,wt.Wrap),r=i.peek();null!=r&&e.compare(r,t)<0;)i.getNext(),r=i.peek();return i},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var i=this.children_.getReverseIteratorFrom(t.name,wt.Wrap),r=i.peek();null!=r&&e.compare(r,t)>0;)i.getNext(),r=i.peek();return i},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Bt?-1:0},t.prototype.withIndex=function(e){if(e===Et||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Et||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(At),i=e.getIterator(At),r=n.getNext(),s=i.getNext();r&&s;){if(r.name!==s.name||!r.node.equals(s.node))return!1;r=n.getNext(),s=i.getNext()}return null===r&&null===s}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Et?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Bt=new(function(t){function e(){return t.call(this,new Rt(jt),Ut.EMPTY_NODE,Lt.Default)||this}return o.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Ut.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Ut));function qt(t,e){if(void 0===e&&(e=null),null===t)return Ut.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),a.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new It(t,qt(e));if(t instanceof Array){var n=Ut.EMPTY_NODE;return F(t,(function(e,i){if(a.contains(t,e)&&"."!==e.substring(0,1)){var r=qt(i);!r.isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(e,r))}})),n.updatePriority(qt(e))}var i=[],r=!1;if(F(t,(function(t,e){if("."!==t.substring(0,1)){var n=qt(e);n.isEmpty()||(r=r||!n.getPriority().isEmpty(),i.push(new wt(t,n)))}})),0===i.length)return Ut.EMPTY_NODE;var s=Ft(i,Vt,(function(t){return t.name}),jt);if(r){var o=Ft(i,At.getCompare());return new Ut(s,qt(e),new Lt({".priority":o},{".priority":At}))}return new Ut(s,qt(e),Lt.Default)}Object.defineProperties(wt,{MIN:{value:new wt(A,Ut.EMPTY_NODE)},MAX:{value:new wt(T,Bt)}}),Ct.__EMPTY_NODE=Ut.EMPTY_NODE,It.__childrenNodeConstructor=Ut,U=Bt,function(t){z=t}(Bt),function(t){q=t}(qt);var zt,Ht,Gt,Wt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?O(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return wt.MIN},e.prototype.maxPost=function(){return wt.MAX},e.prototype.makePost=function(t,e){var n=qt(t);return new wt(e,n)},e.prototype.toString=function(){return".value"},e}(xt)),$t=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,a.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return o.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),i=this.extractChild(e.node),r=n.compareTo(i);return 0===r?O(t.name,e.name):r},e.prototype.makePost=function(t,e){var n=qt(t),i=Ut.EMPTY_NODE.updateChild(this.indexPath_,n);return new wt(e,i)},e.prototype.maxPost=function(){var t=Ut.EMPTY_NODE.updateChild(this.indexPath_,Bt);return new wt(T,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(xt),Kt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return a.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return a.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return a.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return a.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){a.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),pt("DataSnapshot.child",1,e,!1);var n=new X(e),i=this.ref_.child(n);return new t(this.node_.getChild(n),i,At)},t.prototype.hasChild=function(t){a.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),pt("DataSnapshot.hasChild",1,t,!1);var e=new X(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return a.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(a.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),a.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var i=this.node_;return!!i.forEachChild(this.index_,(function(i,r){return e(new t(r,n.ref_.child(i),At))}))},t.prototype.hasChildren=function(){return a.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return a.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return a.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Yt=function(){function t(t,e,n,i){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=i}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+a.stringify(this.snapshot.exportVal())},t}(),Qt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Xt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Yt("value",this,new Kt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var i=this.callback_;return function(){i.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Qt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Jt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return a.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Qt(this,t,e):null},t.prototype.createEvent=function(t,e){a.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),i=e.getQueryParams().getIndex();return new Yt(t.type,this,new Kt(t.snapshotNode,n,i),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var i=this.callbacks_[t.eventType];return function(){i.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var i=Object.keys(e.callbacks_),r=Object.keys(this.callbacks_),s=i.length;if(s===r.length){if(1===s){var o=i[0],a=r[0];return!(a!==o||e.callbacks_[o]&&this.callbacks_[a]&&e.callbacks_[o]!==this.callbacks_[a])}return r.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Zt=function(){function t(t,e,n,i){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=i}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return a.assert(zt,"Reference.ts has not been loaded"),zt},set:function(t){zt=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Et){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==A)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==T)throw new Error(i);if("string"!=typeof n)throw new Error(r)}}else if(t.getIndex()===At){if(null!=e&&!ot(e)||null!=n&&!ot(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(a.assert(t.getIndex()instanceof $t||t.getIndex()===Wt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return a.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,i,r){a.validateArgCount("Query.on",2,4,arguments.length),ht("Query.on",1,e,!1),a.validateCallback("Query.on",2,n,!1);var s=t.getCancelAndContextArgs_("Query.on",i,r);if("value"===e)this.onValueEvent(n,s.cancel,s.context);else{var o={};o[e]=n,this.onChildEvent(o,s.cancel,s.context)}return n},t.prototype.onValueEvent=function(t,e,n){var i=new Xt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,i)},t.prototype.onChildEvent=function(t,e,n){var i=new Jt(t,e,n);this.repo.addEventCallbackForQuery(this,i)},t.prototype.off=function(t,e,n){a.validateArgCount("Query.off",0,3,arguments.length),ht("Query.off",1,t,!0),a.validateCallback("Query.off",2,e,!0),a.validateContextObject("Query.off",3,n,!0);var i=null,r=null;if("value"===t){var s=e||null;i=new Xt(s,null,n||null)}else t&&(e&&((r={})[t]=e),i=new Jt(r,null,n||null));this.repo.removeEventCallbackForQuery(this,i)},t.prototype.once=function(e,n,i,r){var s=this;a.validateArgCount("Query.once",1,4,arguments.length),ht("Query.once",1,e,!1),a.validateCallback("Query.once",2,n,!0);var o=t.getCancelAndContextArgs_("Query.once",i,r),l=!0,c=new a.Deferred;c.promise.catch((function(){}));var u=function(t){l&&(l=!1,s.off(e,u),n&&n.bind(o.context)(t),c.resolve(t))};return this.on(e,u,(function(t){s.off(e,u),o.cancel&&o.cancel.bind(o.context)(t),c.reject(t)})),c.promise},t.prototype.limitToFirst=function(e){if(a.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(a.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(a.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');pt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new X(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var i=new $t(n),r=this.queryParams_.orderBy(i);return t.validateQueryEndpoints_(r),new t(this.repo,this.path,r,!0)},t.prototype.orderByKey=function(){a.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Et);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){a.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(At);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){a.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Wt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),a.validateArgCount("Query.startAt",0,2,arguments.length),at("Query.startAt",1,e,this.path,!0),dt("Query.startAt",2,n,!0);var i=this.queryParams_.startAt(e,n);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),a.validateArgCount("Query.endAt",0,2,arguments.length),at("Query.endAt",1,e,this.path,!0),dt("Query.endAt",2,n,!0);var i=this.queryParams_.endAt(e,n);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(a.validateArgCount("Query.equalTo",1,2,arguments.length),at("Query.equalTo",1,t,this.path,!1),dt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return a.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return a.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=N(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(a.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var i=this.repo===e.repo,r=this.path.equals(e.path),s=this.queryIdentifier()===e.queryIdentifier();return i&&r&&s},t.getCancelAndContextArgs_=function(t,e,n){var i={cancel:null,context:null};if(e&&n)i.cancel=e,a.validateCallback(t,3,i.cancel,!0),i.context=n,a.validateContextObject(t,4,i.context,!0);else if(e)if("object"==typeof e&&null!==e)i.context=e;else{if("function"!=typeof e)throw new Error(a.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");i.cancel=e}return i},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),te=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var i=e.getFront();this.children.has(i)||this.children.set(i,new t);var r=this.children.get(i);e=e.popFront(),r.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(At,(function(t,e){n.remember(new X(t),e)})),this.forget(t)}if(this.children.size>0){var i=t.getFront();return t=t.popFront(),this.children.has(i)&&this.children.get(i).forget(t)&&this.children.delete(i),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,i){var r=new X(t.toString()+"/"+n);i.forEachTree(r,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}(),ee=function(t,e){return t&&"object"==typeof t?(a.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},ne=function(t,e){var n,i=t.getPriority().val(),r=ee(i,e);if(t.isLeafNode()){var s=t,o=ee(s.getValue(),e);return o!==s.getValue()||r!==s.getPriority().val()?new It(o,qt(r)):t}var a=t;return n=a,r!==a.getPriority().val()&&(n=n.updatePriority(new It(r))),a.forEachChild(At,(function(t,i){var r=ne(i,e);r!==i&&(n=n.updateImmediateChild(t,r))})),n},ie=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),re=function(){function t(t,e,n,i){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=i,a.assert(!i||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),se=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ie.ACK_USER_WRITE,this.source=re.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return a.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new X(e));return new t(X.Empty,n,this.revert)}return a.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),oe=function(){function t(t,e){void 0===e&&(Ht||(Ht=new Rt(D)),e=Ht),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return F(e,(function(t,e){n=n.set(new X(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:X.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),i=this.children.get(n);if(null!==i){var r=i.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=r?{path:new X(n).child(r.path),value:r.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),i=this.children.get(n);return null!==i?i.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var i=e.getFront(),r=(this.children.get(i)||t.Empty).set(e.popFront(),n),s=this.children.insert(i,r);return new t(this.value,s)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),i=this.children.get(n);if(i){var r=i.remove(e.popFront()),s=void 0;return s=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&s.isEmpty()?t.Empty:new t(this.value,s)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var i,r=e.getFront(),s=(this.children.get(r)||t.Empty).setTree(e.popFront(),n);return i=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new t(this.value,i)},t.prototype.fold=function(t){return this.fold_(X.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(i,r){n[i]=r.fold_(t.child(i),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,X.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var i=!!this.value&&n(e,this.value);if(i)return i;if(t.isEmpty())return null;var r=t.getFront(),s=this.children.get(r);return s?s.findOnPath_(t.popFront(),e.child(r),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,X.Empty,e)},t.prototype.foreachOnPath_=function(e,n,i){if(e.isEmpty())return this;this.value&&i(n,this.value);var r=e.getFront(),s=this.children.get(r);return s?s.foreachOnPath_(e.popFront(),n.child(r),i):t.Empty},t.prototype.foreach=function(t){this.foreach_(X.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,i){i.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),ae=function(){function t(t,e){this.source=t,this.path=e,this.type=ie.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty):new t(this.source,this.path.popFront())},t}(),le=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ie.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),ce=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ie.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new X(e));return n.isEmpty()?null:n.value?new le(this.source,X.Empty,n.value):new t(this.source,X.Empty,n)}return a.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),ue=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),he=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,i){return new t(new ue(e,n,i),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,i){return new t(this.eventCache_,new ue(e,n,i))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new ue(Ut.EMPTY_NODE,!1,!1),new ue(Ut.EMPTY_NODE,!1,!1)),t}(),de=function(){function t(t,e,n,i,r){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=i,this.prevName=r}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,i){return new t(t.CHILD_CHANGED,n,e,i)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),pe=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,i,r,s){a.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=t.getImmediateChild(e);return o.getChild(i).equals(n.getChild(i))&&o.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(de.childRemovedChange(e,o)):a.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(de.childAddedChange(e,n)):s.trackChildChange(de.childChangedChange(e,n,o))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(At,(function(t,i){e.hasChild(t)||n.trackChildChange(de.childRemovedChange(t,i))})),e.isLeafNode()||e.forEachChild(At,(function(e,i){if(t.hasChild(e)){var r=t.getImmediateChild(e);r.equals(i)||n.trackChildChange(de.childChangedChange(e,i,r))}else n.trackChildChange(de.childAddedChange(e,i))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Ut.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),fe=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;a.assert(e===de.CHILD_ADDED||e===de.CHILD_CHANGED||e===de.CHILD_REMOVED,"Only child changes supported for tracking"),a.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var i=this.changeMap.get(n);if(i){var r=i.type;if(e===de.CHILD_ADDED&&r===de.CHILD_REMOVED)this.changeMap.set(n,de.childChangedChange(n,t.snapshotNode,i.snapshotNode));else if(e===de.CHILD_REMOVED&&r===de.CHILD_ADDED)this.changeMap.delete(n);else if(e===de.CHILD_REMOVED&&r===de.CHILD_CHANGED)this.changeMap.set(n,de.childRemovedChange(n,i.oldSnap));else if(e===de.CHILD_CHANGED&&r===de.CHILD_ADDED)this.changeMap.set(n,de.childAddedChange(n,t.snapshotNode));else{if(e!==de.CHILD_CHANGED||r!==de.CHILD_CHANGED)throw a.assertionError("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(n,de.childChangedChange(n,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),me=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),ge=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new ue(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),r=this.writes_.calcIndexedSlice(i,e,1,n,t);return 0===r.length?null:r[0]},t}(),ye=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),ve=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){a.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),a.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,i,r){var s,o,l=new fe;if(n.type===ie.OVERWRITE){var c=n;c.source.fromUser?s=this.applyUserOverwrite_(e,c.path,c.snap,i,r,l):(a.assert(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.getServerCache().isFiltered()&&!c.path.isEmpty(),s=this.applyServerOverwrite_(e,c.path,c.snap,i,r,o,l))}else if(n.type===ie.MERGE){var u=n;u.source.fromUser?s=this.applyUserMerge_(e,u.path,u.children,i,r,l):(a.assert(u.source.fromServer,"Unknown source."),o=u.source.tagged||e.getServerCache().isFiltered(),s=this.applyServerMerge_(e,u.path,u.children,i,r,o,l))}else if(n.type===ie.ACK_USER_WRITE){var h=n;s=h.revert?this.revertUserWrite_(e,h.path,i,r,l):this.ackUserWrite_(e,h.path,h.affectedTree,i,r,l)}else{if(n.type!==ie.LISTEN_COMPLETE)throw a.assertionError("Unknown operation type: "+n.type);s=this.listenComplete_(e,n.path,i,l)}var d=l.getChanges();return t.maybeAddValueEvent_(e,s,d),new ye(s,d)},t.maybeAddValueEvent_=function(t,e,n){var i=e.getEventCache();if(i.isFullyInitialized()){var r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(de.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,i,r){var s=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var o=void 0,l=void 0;if(e.isEmpty())if(a.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var c=t.getCompleteServerSnap(),u=n.calcCompleteEventChildren(c instanceof Ut?c:Ut.EMPTY_NODE);o=this.filter_.updateFullNode(t.getEventCache().getNode(),u,r)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());o=this.filter_.updateFullNode(t.getEventCache().getNode(),h,r)}else{var d=e.getFront();if(".priority"===d){a.assert(1===e.getLength(),"Can't have a priority with additional path components");var p=s.getNode();l=t.getServerCache().getNode();var f=n.calcEventCacheAfterServerOverwrite(e,p,l);o=null!=f?this.filter_.updatePriority(p,f):s.getNode()}else{var m=e.popFront(),g=void 0;if(s.isCompleteForChild(d)){l=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,s.getNode(),l);g=null!=y?s.getNode().getImmediateChild(d).updateChild(m,y):s.getNode().getImmediateChild(d)}else g=n.calcCompleteChild(d,t.getServerCache());o=null!=g?this.filter_.updateChild(s.getNode(),d,g,m,i,r):s.getNode()}}return t.updateEventSnap(o,s.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,i,r,s,o){var a,l=t.getServerCache(),c=s?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=c.updateFullNode(l.getNode(),n,null);else if(c.filtersNodes()&&!l.isFiltered()){var u=l.getNode().updateChild(e,n);a=c.updateFullNode(l.getNode(),u,null)}else{var h=e.getFront();if(!l.isCompleteForPath(e)&&e.getLength()>1)return t;var d=e.popFront(),p=l.getNode().getImmediateChild(h).updateChild(d,n);a=".priority"===h?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),h,p,d,me,null)}var f=t.updateServerSnap(a,l.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),m=new ge(i,f,r);return this.generateEventCacheAfterServerEvent_(f,e,i,m,o)},t.prototype.applyUserOverwrite_=function(t,e,n,i,r,s){var o,a,l=t.getEventCache(),c=new ge(i,t,r);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,s),o=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var u=e.getFront();if(".priority"===u)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),o=t.updateEventSnap(a,l.isFullyInitialized(),l.isFiltered());else{var h=e.popFront(),d=l.getNode().getImmediateChild(u),p=void 0;if(h.isEmpty())p=n;else{var f=c.getCompleteChild(u);p=null!=f?".priority"===h.getBack()&&f.getChild(h.parent()).isEmpty()?f:f.updateChild(h,n):Ut.EMPTY_NODE}if(d.equals(p))o=t;else{var m=this.filter_.updateChild(l.getNode(),u,p,h,c,s);o=t.updateEventSnap(m,l.isFullyInitialized(),this.filter_.filtersNodes())}}}return o},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,i,r,s,o){var a=this,l=e;return i.foreach((function(i,c){var u=n.child(i);t.cacheHasChild_(e,u.getFront())&&(l=a.applyUserOverwrite_(l,u,c,r,s,o))})),i.foreach((function(i,c){var u=n.child(i);t.cacheHasChild_(e,u.getFront())||(l=a.applyUserOverwrite_(l,u,c,r,s,o))})),l},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,i,r,s,o){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var l,c=t;l=e.isEmpty()?n:oe.Empty.setTree(e,n);var u=t.getServerCache().getNode();return l.children.inorderTraversal((function(e,n){if(u.hasChild(e)){var l=t.getServerCache().getNode().getImmediateChild(e),h=a.applyMerge_(l,n);c=a.applyServerOverwrite_(c,new X(e),h,i,r,s,o)}})),l.children.inorderTraversal((function(e,n){var l=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!u.hasChild(e)&&!l){var h=t.getServerCache().getNode().getImmediateChild(e),d=a.applyMerge_(h,n);c=a.applyServerOverwrite_(c,new X(e),d,i,r,s,o)}})),c},t.prototype.ackUserWrite_=function(t,e,n,i,r,s){if(null!=i.shadowingWrite(e))return t;var o=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),i,r,o,s);if(e.isEmpty()){var l=oe.Empty;return a.getNode().forEachChild(Et,(function(t,e){l=l.set(new X(t),e)})),this.applyServerMerge_(t,e,l,i,r,o,s)}return t}var c=oe.Empty;return n.foreach((function(t,n){var i=e.child(t);a.isCompleteForPath(i)&&(c=c.set(t,a.getNode().getChild(i)))})),this.applyServerMerge_(t,e,c,i,r,o,s)},t.prototype.listenComplete_=function(t,e,n,i){var r=t.getServerCache(),s=t.updateServerSnap(r.getNode(),r.isFullyInitialized()||e.isEmpty(),r.isFiltered());return this.generateEventCacheAfterServerEvent_(s,e,n,me,i)},t.prototype.revertUserWrite_=function(t,e,n,i,r){var s;if(null!=n.shadowingWrite(e))return t;var o=new ge(n,t,i),l=t.getEventCache().getNode(),c=void 0;if(e.isEmpty()||".priority"===e.getFront()){var u=void 0;if(t.getServerCache().isFullyInitialized())u=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();a.assert(h instanceof Ut,"serverChildren would be complete if leaf node"),u=n.calcCompleteEventChildren(h)}c=this.filter_.updateFullNode(l,u=u,r)}else{var d=e.getFront(),p=n.calcCompleteChild(d,t.getServerCache());null==p&&t.getServerCache().isCompleteForChild(d)&&(p=l.getImmediateChild(d)),(c=null!=p?this.filter_.updateChild(l,d,p,e.popFront(),o,r):t.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(l,d,Ut.EMPTY_NODE,e.popFront(),o,r):l).isEmpty()&&t.getServerCache().isFullyInitialized()&&(s=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,s,r))}return s=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(X.Empty),t.updateEventSnap(c,s,this.filter_.filtersNodes())},t}(),_e=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var i=this,r=[],s=[];return t.forEach((function(t){t.type===de.CHILD_CHANGED&&i.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push(de.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(r,de.CHILD_REMOVED,t,n,e),this.generateEventsForType_(r,de.CHILD_ADDED,t,n,e),this.generateEventsForType_(r,de.CHILD_MOVED,s,n,e),this.generateEventsForType_(r,de.CHILD_CHANGED,t,n,e),this.generateEventsForType_(r,de.VALUE,t,n,e),r},t.prototype.generateEventsForType_=function(t,e,n,i,r){var s=this,o=n.filter((function(t){return t.type===e}));o.sort(this.compareChanges_.bind(this)),o.forEach((function(e){var n=s.materializeSingleChange_(e,r);i.forEach((function(i){i.respondsTo(e.type)&&t.push(i.createEvent(n,s.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw a.assertionError("Should only compare child_ events.");var n=new wt(t.childName,t.snapshotNode),i=new wt(e.childName,e.snapshotNode);return this.index_.compare(n,i)},t}(),be=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),i=new pe(n.getIndex()),r=n.getNodeFilter();this.processor_=new ve(r);var s=e.getServerCache(),o=e.getEventCache(),a=i.updateFullNode(Ut.EMPTY_NODE,s.getNode(),null),l=r.updateFullNode(Ut.EMPTY_NODE,o.getNode(),null),c=new ue(a,s.isFullyInitialized(),i.filtersNodes()),u=new ue(l,o.isFullyInitialized(),r.filtersNodes());this.viewCache_=new he(u,c),this.eventGenerator_=new _e(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){a.assert(null==t,"A cancel should cancel all event registrations.");var i=this.query_.path;this.eventRegistrations_.forEach((function(t){var r=t.createCancelEvent(e=e,i);r&&n.push(r)}))}if(t){for(var r=[],s=0;s<this.eventRegistrations_.length;++s){var o=this.eventRegistrations_[s];if(o.matches(t)){if(t.hasAnyCallback()){r=r.concat(this.eventRegistrations_.slice(s+1));break}}else r.push(o)}this.eventRegistrations_=r}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ie.MERGE&&null!==t.source.queryId&&(a.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),a.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var i=this.viewCache_,r=this.processor_.applyOperation(i,t,e,n);return this.processor_.assertIndexed(r.viewCache),a.assert(r.viewCache.getServerCache().isFullyInitialized()||!i.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=r.viewCache,this.generateEventsForChanges_(r.changes,r.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(At,(function(t,e){n.push(de.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(de.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),we=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return a.assert(Gt,"Reference.ts has not been loaded"),Gt},set:function(t){a.assert(!Gt,"__referenceConstructor has already been defined"),Gt=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var i,r,s=t.source.queryId;if(null!==s){var l=this.views.get(s);return a.assert(null!=l,"SyncTree gave us an op for an invalid query."),l.applyOperation(t,e,n)}var c=[];try{for(var u=o.__values(this.views.values()),h=u.next();!h.done;h=u.next())c=c.concat((l=h.value).applyOperation(t,e,n))}catch(d){i={error:d}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return c},t.prototype.addEventRegistration=function(t,e,n,i,r){var s=t.queryIdentifier(),o=this.views.get(s);if(!o){var a=n.calcCompleteEventCache(r?i:null),l=!1;a?l=!0:i instanceof Ut?(a=n.calcCompleteEventChildren(i),l=!1):(a=Ut.EMPTY_NODE,l=!1);var c=new he(new ue(a,l,!1),new ue(i,r,!1));o=new be(t,c),this.views.set(s,o)}return o.addEventRegistration(e),o.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,i){var r,s,a=e.queryIdentifier(),l=[],c=[],u=this.hasCompleteView();if("default"===a)try{for(var h=o.__values(this.views.entries()),d=h.next();!d.done;d=h.next()){var p,f=o.__read(d.value,2),m=f[0];c=c.concat((p=f[1]).removeEventRegistration(n,i)),p.isEmpty()&&(this.views.delete(m),p.getQuery().getQueryParams().loadsAllData()||l.push(p.getQuery()))}}catch(g){r={error:g}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(r)throw r.error}}else(p=this.views.get(a))&&(c=c.concat(p.removeEventRegistration(n,i)),p.isEmpty()&&(this.views.delete(a),p.getQuery().getQueryParams().loadsAllData()||l.push(p.getQuery())));return u&&!this.hasCompleteView()&&l.push(new t.__referenceConstructor(e.repo,e.path)),{removed:l,events:c}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var i=o.__values(this.views.values()),r=i.next();!r.done;r=i.next()){var s=r.value;s.getQuery().getQueryParams().loadsAllData()||n.push(s)}}catch(a){t={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,i=null;try{for(var r=o.__values(this.views.values()),s=r.next();!s.done;s=r.next())i=i||s.value.getCompleteServerCache(t)}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=o.__values(this.views.values()),i=n.next();!i.done;i=n.next()){var r=i.value;if(r.getQuery().getQueryParams().loadsAllData())return r}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),xe=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new oe(n));var i=this.writeTree_.findRootMostValueAndPath(e);if(null!=i){var r=i.path,s=i.value,o=X.relativePath(r,e);return s=s.updateChild(o,n),new t(this.writeTree_.set(r,s))}var a=new oe(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return F(e,(function(e,i){n=n.addWrite(t.child(e),i)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,oe.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(X.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(At,(function(e,n){t.push(new wt(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new wt(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new oe(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,i){if(null!=n.value)return i.updateChild(e,n.value);var r=null;return n.children.inorderTraversal((function(n,s){".priority"===n?(a.assert(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):i=t(e.child(n),s,i)})),i.getChild(e).isEmpty()||null===r||(i=i.updateChild(e.child(".priority"),r)),i}(X.Empty,this.writeTree_,t)},t.Empty=new t(new oe(null)),t}(),Ce=function(){function t(){this.visibleWrites_=xe.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Ee(t,this)},t.prototype.addOverwrite=function(t,e,n,i){a.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:i}),i&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){a.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));a.assert(n>=0,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[n];this.allWrites_.splice(n,1);for(var r=i.visible,s=!1,o=this.allWrites_.length-1;r&&o>=0;){var l=this.allWrites_[o];l.visible&&(o>=n&&this.recordContainsPath_(l,i.path)?r=!1:i.path.contains(l.path)&&(s=!0)),o--}return!!r&&(s?(this.resetTree_(),!0):(i.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(i.path):F(i.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(i.path.child(t))})),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,i,r){if(i||r){var s=this.visibleWrites_.childCompoundWrite(e);return!r&&s.isEmpty()?n:r||null!=n||s.hasCompleteWrite(X.Empty)?t.layerTree_(this.allWrites_,(function(t){return(t.visible||r)&&(!i||!~i.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e).apply(n||Ut.EMPTY_NODE):null}var o=this.visibleWrites_.getCompleteNode(e);if(null!=o)return o;var a=this.visibleWrites_.childCompoundWrite(e);return a.isEmpty()?n:null!=n||a.hasCompleteWrite(X.Empty)?a.apply(n||Ut.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Ut.EMPTY_NODE,i=this.visibleWrites_.getCompleteNode(t);if(i)return i.isLeafNode()||i.forEachChild(At,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var r=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(At,(function(t,e){var i=r.childCompoundWrite(new X(t)).apply(e);n=n.updateImmediateChild(t,i)})),r.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,i){a.assert(n||i,"Either existingEventSnap or existingServerSnap must exist");var r=t.child(e);if(this.visibleWrites_.hasCompleteWrite(r))return null;var s=this.visibleWrites_.childCompoundWrite(r);return s.isEmpty()?i.getChild(e):s.apply(i.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var i=t.child(e),r=this.visibleWrites_.getCompleteNode(i);return null!=r?r:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(i).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,i,r,s){var o,a=this.visibleWrites_.childCompoundWrite(t),l=a.getCompleteNode(X.Empty);if(null!=l)o=l;else{if(null==e)return[];o=a.apply(e)}if((o=o.withIndex(s)).isEmpty()||o.isLeafNode())return[];for(var c=[],u=s.getCompare(),h=r?o.getReverseIteratorFrom(n,s):o.getIteratorFrom(n,s),d=h.getNext();d&&c.length<i;)0!==u(d,n)&&c.push(d),d=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,X.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var i=xe.Empty,r=0;r<t.length;++r){var s=t[r];if(e(s)){var o=s.path,l=void 0;if(s.snap)n.contains(o)?(l=X.relativePath(n,o),i=i.addWrite(l,s.snap)):o.contains(n)&&(l=X.relativePath(o,n),i=i.addWrite(X.Empty,s.snap.getChild(l)));else{if(!s.children)throw a.assertionError("WriteRecord should have .snap or .children");if(n.contains(o))l=X.relativePath(n,o),i=i.addWrites(l,s.children);else if(o.contains(n))if((l=X.relativePath(o,n)).isEmpty())i=i.addWrites(X.Empty,s.children);else{var c=a.safeGet(s.children,l.getFront());if(c){var u=c.getChild(l.popFront());i=i.addWrite(X.Empty,u)}}}}}return i},t}(),Ee=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,i,r){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,i,r)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Se=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=oe.Empty,this.pendingWriteTree_=new Ce,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,i){return this.pendingWriteTree_.addOverwrite(t,e,n,i),i?this.applyOperationToSyncPoints_(new le(re.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var i=oe.fromObject(e);return this.applyOperationToSyncPoints_(new ce(re.User,t,i))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var i=oe.Empty;return null!=n.snap?i=i.set(X.Empty,!0):F(n.children,(function(t,e){i=i.set(new X(t),e)})),this.applyOperationToSyncPoints_(new se(n.path,i,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new le(re.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=oe.fromObject(e);return this.applyOperationToSyncPoints_(new ce(re.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new ae(re.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,i){var r=this.queryKeyForTag_(i);if(null!=r){var s=t.parseQueryKey_(r),o=s.path,a=s.queryId,l=X.relativePath(o,e),c=new le(re.forServerTaggedQuery(a),l,n);return this.applyTaggedOperation_(o,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,i){var r=this.queryKeyForTag_(i);if(r){var s=t.parseQueryKey_(r),o=s.path,a=s.queryId,l=X.relativePath(o,e),c=oe.fromObject(n),u=new ce(re.forServerTaggedQuery(a),l,c);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var i=this.queryKeyForTag_(n);if(i){var r=t.parseQueryKey_(i),s=r.path,o=r.queryId,a=X.relativePath(s,e),l=new ae(re.forServerTaggedQuery(o),a);return this.applyTaggedOperation_(s,l)}return[]},t.prototype.addEventRegistration=function(e,n){var i=e.path,r=null,s=!1;this.syncPointTree_.foreachOnPath(i,(function(t,e){var n=X.relativePath(t,i);r=r||e.getCompleteServerCache(n),s=s||e.hasCompleteView()}));var o,l=this.syncPointTree_.get(i);l?(s=s||l.hasCompleteView(),r=r||l.getCompleteServerCache(X.Empty)):(l=new we,this.syncPointTree_=this.syncPointTree_.set(i,l)),null!=r?o=!0:(o=!1,r=Ut.EMPTY_NODE,this.syncPointTree_.subtree(i).foreachChild((function(t,e){var n=e.getCompleteServerCache(X.Empty);n&&(r=r.updateImmediateChild(t,n))})));var c=l.viewExistsForQuery(e);if(!c&&!e.getQueryParams().loadsAllData()){var u=t.makeQueryKey_(e);a.assert(!this.queryToTagMap.has(u),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(u,h),this.tagToQueryMap.set(h,u)}var d=this.pendingWriteTree_.childWrites(i),p=l.addEventRegistration(e,n,d,r,o);if(!c&&!s){var f=l.viewForQuery(e);p=p.concat(this.setupListener_(e,f))}return p},t.prototype.removeEventRegistration=function(e,n,i){var r=this,s=e.path,o=this.syncPointTree_.get(s),a=[];if(o&&("default"===e.queryIdentifier()||o.viewExistsForQuery(e))){var l=o.removeEventRegistration(e,n,i);o.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(s));var c=l.removed;a=l.events;var u=-1!==c.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(s,(function(t,e){return e.hasCompleteView()}));if(u&&!h){var d=this.syncPointTree_.subtree(s);if(!d.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(d),f=0;f<p.length;++f){var m=p[f],g=m.getQuery(),y=this.createListenerForView_(m);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),y.hashFn,y.onComplete)}}!h&&c.length>0&&!i&&(u?this.listenProvider_.stopListening(t.queryForListening_(e),null):c.forEach((function(e){var n=r.queryToTagMap.get(t.makeQueryKey_(e));r.listenProvider_.stopListening(t.queryForListening_(e),n)}))),this.removeTags_(c)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,i=this.syncPointTree_.findOnPath(t,(function(e,n){var i=X.relativePath(e,t),r=n.getCompleteServerCache(i);if(r)return r}));return n.calcCompleteEventCache(t,i,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var i=[];return e&&(i=e.getQueryViews()),F(n,(function(t,e){i=i.concat(e)})),i}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var i=e[n];if(!i.getQueryParams().loadsAllData()){var r=t.makeQueryKey_(i),s=this.queryToTagMap.get(r);this.queryToTagMap.delete(r),this.tagToQueryMap.delete(s)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var i=e.path,r=this.tagForQuery_(e),s=this.createListenerForView_(n),o=this.listenProvider_.startListening(t.queryForListening_(e),r,s.hashFn,s.onComplete),l=this.syncPointTree_.subtree(i);if(r)a.assert(!l.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var i=[];return e&&(i=i.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),F(n,(function(t,e){i=i.concat(e)})),i})),u=0;u<c.length;++u){var h=c[u];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return o},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),i=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Ut.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return i?e.applyTaggedListenComplete(n.path,i):e.applyListenComplete(n.path);var r=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var i=new Error(t+" at "+e.path.toString()+": "+n);return i.code=t.toUpperCase(),i}(t,n);return e.removeEventRegistration(n,null,r)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return a.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new X(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);a.assert(n,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,i,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(X.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,i){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,i);var r=e.get(X.Empty);null==n&&null!=r&&(n=r.getCompleteServerCache(X.Empty));var s=[],o=t.path.getFront(),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){var c=n?n.getImmediateChild(o):null,u=i.child(o);s=s.concat(this.applyOperationHelper_(a,l,c,u))}return r&&(s=s.concat(r.applyOperation(t,i,n))),s},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,i){var r=this,s=e.get(X.Empty);null==n&&null!=s&&(n=s.getCompleteServerCache(X.Empty));var o=[];return e.children.inorderTraversal((function(e,s){var a=n?n.getImmediateChild(e):null,l=i.child(e),c=t.operationForChild(e);c&&(o=o.concat(r.applyOperationDescendantsHelper_(c,s,a,l)))})),s&&(o=o.concat(s.applyOperation(t,i,n))),o},t.nextQueryTag_=1,t}(),ke=function(){function t(){this.rootNode_=Ut.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Ie=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(x("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';k(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),Ae=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),a.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return a.deepCopy(this.counters_)},t}(),Te=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Ae),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Oe=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=o.__assign({},t);return this.last_&&F(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),De=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Oe(t);var n=1e4+2e4*Math.random();Q(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},i=!1;F(e,(function(e,r){r>0&&a.contains(t.statsToReport_,e)&&(n[e]=r,i=!0)})),i&&this.server_.reportStats(n),Q(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Re=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var i=t[n],r=i.getPath();null===e||r.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Ne(r)),e.add(i)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var i=this.eventLists_[n];i&&(t(i.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Ne=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();_&&x("event: "+e.toString()),Y(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Pe=function(){function t(t){this.allowedEvents_=t,this.listeners_={},a.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var i=o.__spread(this.listeners_[t]),r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var i=this.getInitialEvent(t);i&&e.apply(n,i)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var i=this.listeners_[t]||[],r=0;r<i.length;r++)if(i[r].callback===e&&(!n||n===i[r].context))return void i.splice(r,1)},t.prototype.validateEventType_=function(t){a.assert(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),Fe=function(t){function e(){var e,n,i=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),i.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==i.visible_&&(i.visible_=t,i.trigger("visible",t))}),!1),i}return o.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return a.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Pe),Me=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||a.isMobileCordova()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return o.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return a.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Pe),Le=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var i=function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=function(e){t[e]&&Y((function(){n.onMessage_(t[e])}))},i=0;i<t.length;++i)e(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==i(););},t}(),Ve=function(){function t(t,e,n,i){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(t),this.stats_=Te.getCollection(e),this.urlFn=function(t){return e.connectionURL("long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Le(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(a.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new je((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=o.__read(t,5),r=i[0],s=i[1],a=i[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===r)n.id=s,n.password=a;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=o.__read(t,2),r=i[0],s=i[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,s)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(a.isNodeSdk()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=a.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=a.base64Encode(e),i=P(n,1840),r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!a.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=a.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),je=function(){function t(e,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,a.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){x("frame writing exception"),l.stack&&x(l.stack),x(l)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||x("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",i=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var r=this.pendingSegs.shift();n=n+"&seg"+i+"="+r.seg+"&ts"+i+"="+r.ts+"&d"+i+"="+r.d,i++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var i=function(){n.outstandingRequests.delete(e),n.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(r),i()}))},t.prototype.addTag=function(t,e){var n=this;a.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=function(){x("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(r){}}),Math.floor(1))},t}(),Ue="",Be=null;"undefined"!=typeof MozWebSocket?Be=MozWebSocket:"undefined"!=typeof WebSocket&&(Be=WebSocket);var qe=function(){function t(e,n,i,r){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=Te.getCollection(n),this.connURL=t.connectionURL_(n,i,r)}return t.connectionURL_=function(t,e,n){var i={v:"5"};return!a.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),t.connectionURL("websocket",i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if(a.isNodeSdk()){var i={headers:{"User-Agent":"Firebase/5/"+Ue+"/"+process.platform+"/"+(a.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},r=process.env,s=0===this.connURL.indexOf("wss://")?r.HTTPS_PROXY||r.https_proxy:r.HTTP_PROXY||r.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new Be(this.connURL,[],i)}else this.mySock=new Be(this.connURL)}catch(l){this.log_("Error instantiating WebSocket.");var o=l.message||l.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Be&&!t.forceDisallow_},t.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=a.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(a.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=a.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=P(e,16384);n.length>1&&this.sendString_(String(n.length));for(var i=0;i<n.length;i++)this.sendString_(n[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),ze=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Ve,qe]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n,i,r=qe&&qe.isAvailable(),s=r&&!qe.previouslyFailed();if(e.webSocketOnly&&(r||k("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[qe];else{var a=this.transports_=[];try{for(var l=o.__values(t.ALL_TRANSPORTS),c=l.next();!c.done;c=l.next()){var u=c.value;u&&u.isAvailable()&&a.push(u)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),He=function(){function t(t,e,n,i,r,s,o){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=i,this.onDisconnect_=r,this.onKill_=s,this.lastSessionId=o,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new ze(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,i)}),Math.floor(0));var r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Q((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(r)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=R("t",t),n=R("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=R("t",t),n=R("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=R("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?E("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(i),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&k("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Q((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Q((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Ge=function(){function t(){}return t.prototype.put=function(t,e,n,i){},t.prototype.merge=function(t,e,n,i){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),We=function(t){function e(n,i,r,s,o,l){var c=t.call(this)||this;if(c.repoInfo_=n,c.onDataUpdate_=i,c.onConnectStatus_=r,c.onServerInfoUpdate_=s,c.authTokenProvider_=o,c.authOverride_=l,c.id=e.nextPersistentConnectionId_++,c.log_=C("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=1e3,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!a.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),Fe.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&Me.getInstance().on("online",c.onOnline_,c),c}return o.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var i=++this.requestNumber_,r={r:i,a:t,b:e};this.log_(a.stringify(r)),a.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)},e.prototype.listen=function(t,e,n,i){var r=t.queryIdentifier(),s=t.path.toString();this.log_("Listen called for "+s+" "+r),this.listens.has(s)||this.listens.set(s,new Map),a.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),a.assert(!this.listens.get(s).has(r),"listen() called twice for same path/queryId.");var o={onComplete:i,hashFn:e,query:t,tag:n};this.listens.get(s).set(r,o),this.connected_&&this.sendListen_(o)},e.prototype.sendListen_=function(t){var n=this,i=t.query,r=i.path.toString(),s=i.queryIdentifier();this.log_("Listen on "+r+" for "+s);var o={p:r};t.tag&&(o.q=i.queryObject(),o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,(function(o){var a=o.d,l=o.s;e.warnOnListenWarnings_(a,i),(n.listens.get(r)&&n.listens.get(r).get(s))===t&&(n.log_("listen response",o),"ok"!==l&&n.removeListen_(r,s),t.onComplete&&t.onComplete(l,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&a.contains(t,"w")){var n=a.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var i='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',r=e.path.toString();k("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+i+" at "+r+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||a.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=a.isValidFormat(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(n,i,(function(n){var i=n.s,r=n.d||"error";t.authToken_===e&&("ok"===i?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(i,r))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),i=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+i),a.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,i){this.log_("Unlisten on "+t+" for "+e);var r={p:t};i&&(r.q=n,r.t=i),this.sendRequest("n",r)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,i){var r={p:e,d:n};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,(function(t){i&&setTimeout((function(){i(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,i){this.putInternal("p",t,e,n,i)},e.prototype.merge=function(t,e,n,i){this.putInternal("m",t,e,n,i)},e.prototype.putInternal=function(t,e,n,i,r){var s={p:e,d:n};void 0!==r&&(s.h=r),this.outstandingPuts_.push({action:t,request:s,onComplete:i}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,(function(i){e.log_(n+" response",i),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),r&&r(i.s,i.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+a.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):E("Unrecognized action received from server: "+a.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;a.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+e.nextConnectionId_++,s=this,o=this.lastSessionId,l=!1,c=null,u=function(){c?c.close():(l=!0,i())};this.realtime_={close:u,sendRequest:function(t){a.assert(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(e){l?x("getToken() completed but was canceled"):(x("getToken() completed. Creating connection."),s.authToken_=e&&e.accessToken,c=new He(r,s.repoInfo_,t,n,i,(function(t){k(t+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")}),o))})).then(null,(function(t){s.log_("Failed to get token: "+t),l||(a.CONSTANTS.NODE_ADMIN&&k(t),u())}))}},e.prototype.interrupt=function(t){x("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){x("Resuming connection for reason: "+t),delete this.interruptReasons_[t],a.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return N(t)})).join("$"):"default";var i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,i=new X(t).toString();if(this.listens.has(i)){var r=this.listens.get(i);n=r.get(e),r.delete(e),0===r.size&&this.listens.delete(i)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){x("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,i;this.tryAuth();try{for(var r=o.__values(this.listens.values()),s=r.next();!s.done;s=r.next()){var a=s.value;try{for(var l=(n=void 0,o.__values(a.values())),c=l.next();!c.done;c=l.next())this.sendListen_(c.value)}catch(d){n={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}for(var u=0;u<this.outstandingPuts_.length;u++)this.outstandingPuts_[u]&&this.sendPut_(u);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";a.CONSTANTS.NODE_ADMIN?e="admin_node":a.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+Ue.replace(/\./g,"-")]=1,a.isMobileCordova()?t["framework.cordova"]=1:a.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Me.getInstance().currentlyOnline();return a.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Ge),$e=function(t){function e(e,n,i){var r=t.call(this)||this;return r.repoInfo_=e,r.onDataUpdate_=n,r.authTokenProvider_=i,r.log_=C("p:rest:"),r.listens_={},r}return o.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(a.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,i,r){var s=this,o=t.path.toString();this.log_("Listen called for "+o+" "+t.queryIdentifier());var l=e.getListenId_(t,i),c={};this.listens_[l]=c;var u=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(o+".json",u,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(o,n,!1,i),a.safeGet(s.listens_,l)===c&&r(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var i=e.getListenId_(t,n);delete this.listens_[i]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var i=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(r){var s=r&&r.accessToken;s&&(e.auth=s);var o=(i.repoInfo_.secure?"https://":"http://")+i.repoInfo_.host+t+"?ns="+i.repoInfo_.namespace+a.querystring(e);i.log_("Sending REST request for "+o);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){i.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);var t=null;if(l.status>=200&&l.status<300){try{t=a.jsonEval(l.responseText)}catch(e){k("Failed to parse JSON response for "+o+": "+l.responseText)}n(null,t)}else 401!==l.status&&404!==l.status&&k("Got unsuccessful REST response for "+o+" Status: "+l.status),n(l.status);n=null}},l.open("GET",o,!0),l.send()}))},e}(Ge),Ke=function(){function t(t,e,n,i){var r=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Re,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new te,this.persistentConnection_=null;var s=new Ie(n,i);if(this.stats_=Te.getCollection(t),e||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new $e(this.repoInfo_,this.onDataUpdate_.bind(this),s),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{a.stringify(o)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}this.persistentConnection_=new We(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),s,o),this.server_=this.persistentConnection_}s.addTokenChangeListener((function(t){r.server_.refreshAuthToken(t)})),this.statsReporter_=Te.getOrCreateReporter(t,(function(){return new De(r.stats_,r.server_)})),this.transactionsInit_(),this.infoData_=new ke,this.infoSyncTree_=new Se({startListening:function(t,e,n,i){var s=[],o=r.infoData_.getNode(t.path);return o.isEmpty()||(s=r.infoSyncTree_.applyServerOverwrite(t.path,o),setTimeout((function(){i("ok")}),0)),s},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Se({startListening:function(t,e,n,i){return r.server_.listen(t,n,e,(function(e,n){var s=i(e,n);r.eventQueue_.raiseEventsForChangedPath(t.path,s)})),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new X(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,i){this.dataUpdateCount++;var r=new X(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var s=[];if(i)if(n){var o=a.map(e,(function(t){return qt(t)}));s=this.serverSyncTree_.applyTaggedQueryMerge(r,o,i)}else{var l=qt(e);s=this.serverSyncTree_.applyTaggedQueryOverwrite(r,l,i)}else if(n){var c=a.map(e,(function(t){return qt(t)}));s=this.serverSyncTree_.applyServerMerge(r,c)}else{var u=qt(e);s=this.serverSyncTree_.applyServerOverwrite(r,u)}var h=r;s.length>0&&(h=this.rerunTransactions_(r)),this.eventQueue_.raiseEventsForChangedPath(h,s)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;F(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new X("/.info/"+t),i=qt(e);this.infoData_.updateSnapshot(n,i);var r=this.infoSyncTree_.applyServerOverwrite(n,i);this.eventQueue_.raiseEventsForChangedPath(n,r)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,i){var r=this;this.log_("set",{path:t.toString(),value:e,priority:n});var s=this.generateServerValues(),o=qt(e,n),a=ne(o,s),l=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(t,a,l,!0);this.eventQueue_.queueEvents(c),this.server_.put(t.toString(),o.val(!0),(function(e,n){var s="ok"===e;s||k("set at "+t+" failed: "+e);var o=r.serverSyncTree_.ackUserWrite(l,!s);r.eventQueue_.raiseEventsForChangedPath(t,o),r.callOnCompleteCallback(i,e,n)}));var u=this.abortTransactions_(t);this.rerunTransactions_(u),this.eventQueue_.raiseEventsForChangedPath(u,[])},t.prototype.update=function(t,e,n){var i=this;this.log_("update",{path:t.toString(),value:e});var r=!0,s=this.generateServerValues(),o={};if(F(e,(function(t,e){r=!1;var n=qt(e);o[t]=ne(n,s)})),r)x("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserMerge(t,o,a);this.eventQueue_.queueEvents(l),this.server_.merge(t.toString(),e,(function(e,r){var s="ok"===e;s||k("update at "+t+" failed: "+e);var o=i.serverSyncTree_.ackUserWrite(a,!s),l=o.length>0?i.rerunTransactions_(t):t;i.eventQueue_.raiseEventsForChangedPath(l,o),i.callOnCompleteCallback(n,e,r)})),F(e,(function(e){var n=i.abortTransactions_(t.child(e));i.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=function(t,e){var n=new te;return t.forEachTree(new X(""),(function(t,i){n.remember(t,ne(i,e))})),n}(this.onDisconnect_,e),i=[];n.forEachTree(X.Empty,(function(e,n){i=i.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var r=t.abortTransactions_(e);t.rerunTransactions_(r)})),this.onDisconnect_=new te,this.eventQueue_.raiseEventsForChangedPath(X.Empty,i)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(i,r){"ok"===i&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,i,r)}))},t.prototype.onDisconnectSet=function(t,e,n){var i=this,r=qt(e);this.server_.onDisconnectPut(t.toString(),r.val(!0),(function(e,s){"ok"===e&&i.onDisconnect_.remember(t,r),i.callOnCompleteCallback(n,e,s)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,i){var r=this,s=qt(e,n);this.server_.onDisconnectPut(t.toString(),s.val(!0),(function(e,n){"ok"===e&&r.onDisconnect_.remember(t,s),r.callOnCompleteCallback(i,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var i=this;if(a.isEmpty(e))return x("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(r,s){"ok"===r&&F(e,(function(e,n){var r=qt(n);i.onDisconnect_.remember(t.child(e),r)})),i.callOnCompleteCallback(n,r,s)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Oe(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);F(e,(function(t,e){for(var i=t,r=t.length;r<n+2;r++)i+=" ";console.log(i+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),x.apply(void 0,o.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&Y((function(){if("ok"===e)t(null);else{var i=(e||"error").toUpperCase(),r=i;n&&(r+=": "+n);var s=new Error(r);s.code=i,t(s)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new sn(this))},enumerable:!0,configurable:!0}),t}(),Ye=function(){function t(e){this.indexedFilter_=new pe(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,i,r,s){return this.matches(new wt(e,n))||(n=Ut.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,i,r,s)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Ut.EMPTY_NODE);var i=e.withIndex(this.index_);i=i.updatePriority(Ut.EMPTY_NODE);var r=this;return e.forEachChild(At,(function(t,e){r.matches(new wt(t,e))||(i=i.updateImmediateChild(t,Ut.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),Qe=function(){function t(t){this.rangedFilter_=new Ye(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,i,r,s){return this.rangedFilter_.matches(new wt(e,n))||(n=Ut.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,i,r,s):this.fullLimitUpdateChild_(t,e,n,r,s)},t.prototype.updateFullNode=function(t,e,n){var i;if(e.isLeafNode()||e.isEmpty())i=Ut.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){i=Ut.EMPTY_NODE.withIndex(this.index_);var r=void 0;r=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var s=0;r.hasNext()&&s<this.limit_;){var o=r.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;i=i.updateImmediateChild(o.name,o.node),s++}}else{i=(i=e.withIndex(this.index_)).updatePriority(Ut.EMPTY_NODE);var a=void 0,l=void 0,c=void 0;if(r=void 0,this.reverse_){r=i.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();var u=this.index_.getCompare();c=function(t,e){return u(e,t)}}else r=i.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();s=0;for(var h=!1;r.hasNext();)o=r.getNext(),!h&&c(a,o)<=0&&(h=!0),h&&s<this.limit_&&c(o,l)<=0?s++:i=i.updateImmediateChild(o.name,Ut.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,i,r){var s;if(this.reverse_){var o=this.index_.getCompare();s=function(t,e){return o(e,t)}}else s=this.index_.getCompare();var l=t;a.assert(l.numChildren()===this.limit_,"");var c=new wt(e,n),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(l.hasChild(e)){for(var d=l.getImmediateChild(e),p=i.getChildAfterChild(this.index_,u,this.reverse_);null!=p&&(p.name===e||l.hasChild(p.name));)p=i.getChildAfterChild(this.index_,p,this.reverse_);var f=null==p?1:s(p,c);if(h&&!n.isEmpty()&&f>=0)return null!=r&&r.trackChildChange(de.childChangedChange(e,n,d)),l.updateImmediateChild(e,n);null!=r&&r.trackChildChange(de.childRemovedChange(e,d));var m=l.updateImmediateChild(e,Ut.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=r&&r.trackChildChange(de.childAddedChange(p.name,p.node)),m.updateImmediateChild(p.name,p.node)):m}return n.isEmpty()?t:h&&s(u,c)>=0?(null!=r&&(r.trackChildChange(de.childRemovedChange(u.name,u.node)),r.trackChildChange(de.childAddedChange(e,n))),l.updateImmediateChild(e,n).updateImmediateChild(u.name,Ut.EMPTY_NODE)):t},t}(),Xe=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=At}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:A},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:T},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return a.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var i=this.viewFrom_;""===i&&(i=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=i}return this.index_!==At&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===At},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new pe(this.getIndex()):this.hasLimit()?new Qe(this):new Ye(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,i={};return this.isDefault()?i:(this.index_===At?e=n.PRIORITY_INDEX:this.index_===Wt?e=n.VALUE_INDEX:this.index_===Et?e=n.KEY_INDEX:(a.assert(this.index_ instanceof $t,"Unrecognized index type!"),e=this.index_.toString()),i[n.ORDER_BY]=a.stringify(e),this.startSet_&&(i[n.START_AT]=a.stringify(this.indexStartValue_),this.startNameSet_&&(i[n.START_AT]+=","+a.stringify(this.indexStartName_))),this.endSet_&&(i[n.END_AT]=a.stringify(this.indexEndValue_),this.endNameSet_&&(i[n.END_AT]+=","+a.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?i[n.LIMIT_TO_FIRST]=this.limit_:i[n.LIMIT_TO_LAST]=this.limit_),i)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),Je=function(t){function e(e,n){if(!(e instanceof Ke))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,Xe.DEFAULT,!1)||this}return o.__extends(e,t),e.prototype.getKey=function(){return a.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return a.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof X||(null===this.path.getFront()?ft("Reference.child",1,t,!1):pt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){a.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){a.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){a.validateArgCount("Reference.set",1,2,arguments.length),mt("Reference.set",this.path),at("Reference.set",1,t,this.path,!1),a.validateCallback("Reference.set",2,e,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(a.validateArgCount("Reference.update",1,2,arguments.length),mt("Reference.update",this.path),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,k("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ct("Reference.update",1,t,this.path,!1),a.validateCallback("Reference.update",2,e,!0);var r=new a.Deferred;return this.repo.update(this.path,t,r.wrapCallback(e)),r.promise},e.prototype.setWithPriority=function(t,e,n){if(a.validateArgCount("Reference.setWithPriority",2,3,arguments.length),mt("Reference.setWithPriority",this.path),at("Reference.setWithPriority",1,t,this.path,!1),ut("Reference.setWithPriority",2,e,!1),a.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var i=new a.Deferred;return this.repo.setWithPriority(this.path,t,e,i.wrapCallback(n)),i.promise},e.prototype.remove=function(t){return a.validateArgCount("Reference.remove",0,1,arguments.length),mt("Reference.remove",this.path),a.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(a.validateArgCount("Reference.transaction",1,3,arguments.length),mt("Reference.transaction",this.path),a.validateCallback("Reference.transaction",1,t,!1),a.validateCallback("Reference.transaction",2,e,!0),yt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var i=new a.Deferred;"function"==typeof e&&i.promise.catch((function(){}));var r=function(t,n,r){t?i.reject(t):i.resolve(new _t(n,r)),"function"==typeof e&&e(t,n,r)};return this.repo.startTransaction(this.path,t,r,n),i.promise},e.prototype.setPriority=function(t,e){a.validateArgCount("Reference.setPriority",1,2,arguments.length),mt("Reference.setPriority",this.path),ut("Reference.setPriority",1,t,!1),a.validateCallback("Reference.setPriority",2,e,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){a.validateArgCount("Reference.push",0,2,arguments.length),mt("Reference.push",this.path),at("Reference.push",1,t,this.path,!0),a.validateCallback("Reference.push",2,e,!0);var n,i=this.repo.serverTime(),r=bt(i),s=this.child(r),o=this.child(r);return n=null!=t?s.set(t,e).then((function(){return o})):Promise.resolve(o),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),s},e.prototype.onDisconnect=function(){return mt("Reference.onDisconnect",this.path),new vt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(Zt);Zt.__referenceConstructor=Je,we.__referenceConstructor=Je;var Ze=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),tn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new Ze),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof X?e:new X(e),i=this,r=n.getFront();null!==r;)i=new t(r,i,a.safeGet(i.node_.children,r)||new Ze),r=(n=n.popFront()).getFront();return i},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){a.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;F(this.node_.children,(function(i,r){e(new t(i,n,r))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new X(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),i=a.contains(this.node_.children,t);n&&i?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||i||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),en=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});Ke.MAX_TRANSACTION_RETRIES_=25,Ke.prototype.transactionsInit_=function(){this.transactionQueueTree_=new tn},Ke.prototype.startTransaction=function(t,e,n,i){this.log_("transaction on "+t);var r=function(){},s=new Je(this,t);s.on("value",r);var o={path:t,update:e,onComplete:n,status:null,order:g(),applyLocally:i,retryCount:0,unwatcher:function(){s.off("value",r)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=this.getLatestState_(t);o.currentInputSnapshot=l;var c=o.update(l.val());if(void 0===c){if(o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete){var u=new Kt(o.currentInputSnapshot,new Je(this,o.path),At);o.onComplete(null,!1,u)}}else{lt("transaction failed: Data returned ",c,o.path),o.status=en.RUN;var h=this.transactionQueueTree_.subTree(t),d=h.getValue()||[];d.push(o),h.setValue(d);var p=void 0;"object"==typeof c&&null!==c&&a.contains(c,".priority")?(p=a.safeGet(c,".priority"),a.assert(ot(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(this.serverSyncTree_.calcCompleteEventCache(t)||Ut.EMPTY_NODE).getPriority().val(),p=p;var f=this.generateServerValues(),m=qt(c,p),y=ne(m,f);o.currentOutputSnapshotRaw=m,o.currentOutputSnapshotResolved=y,o.currentWriteId=this.getNextWriteId_();var v=this.serverSyncTree_.applyUserOverwrite(t,y,o.currentWriteId,o.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,v),this.sendReadyTransactions_()}},Ke.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Ut.EMPTY_NODE},Ke.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);a.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===en.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},Ke.prototype.sendTransactionQueue_=function(t,e){for(var n=this,i=e.map((function(t){return t.currentWriteId})),r=this.getLatestState_(t,i),s=r,o=r.hash(),l=0;l<e.length;l++){var c=e[l];a.assert(c.status===en.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=en.SENT,c.retryCount++;var u=X.relativePath(t,c.path);s=s.updateChild(u,c.currentOutputSnapshotRaw)}var h=s.val(!0),d=t;this.server_.put(d.toString(),h,(function(i){n.log_("transaction put response",{path:d.toString(),status:i});var r=[];if("ok"===i){for(var s=[],o=0;o<e.length;o++){if(e[o].status=en.COMPLETED,r=r.concat(n.serverSyncTree_.ackUserWrite(e[o].currentWriteId)),e[o].onComplete){var a=e[o].currentOutputSnapshotResolved,l=new Je(n,e[o].path),c=new Kt(a,l,At);s.push(e[o].onComplete.bind(null,null,!0,c))}e[o].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,r),o=0;o<s.length;o++)Y(s[o])}else{if("datastale"===i)for(o=0;o<e.length;o++)e[o].status=e[o].status===en.SENT_NEEDS_ABORT?en.NEEDS_ABORT:en.RUN;else for(k("transaction at "+d.toString()+" failed: "+i),o=0;o<e.length;o++)e[o].status=en.NEEDS_ABORT,e[o].abortReason=i;n.rerunTransactions_(t)}}),o)},Ke.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),i=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(i,n),n},Ke.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],i=[],r=t.filter((function(t){return t.status===en.RUN})).map((function(t){return t.currentWriteId})),s=0;s<t.length;s++){var o=t[s],l=X.relativePath(e,o.path),c=!1,u=void 0;if(a.assert(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),o.status===en.NEEDS_ABORT)c=!0,u=o.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(o.currentWriteId,!0));else if(o.status===en.RUN)if(o.retryCount>=Ke.MAX_TRANSACTION_RETRIES_)c=!0,u="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(o.currentWriteId,!0));else{var h=this.getLatestState_(o.path,r);o.currentInputSnapshot=h;var d=t[s].update(h.val());if(void 0!==d){lt("transaction failed: Data returned ",d,o.path);var p=qt(d);"object"==typeof d&&null!=d&&a.contains(d,".priority")||(p=p.updatePriority(h.getPriority()));var f=o.currentWriteId,m=this.generateServerValues(),g=ne(p,m);o.currentOutputSnapshotRaw=p,o.currentOutputSnapshotResolved=g,o.currentWriteId=this.getNextWriteId_(),r.splice(r.indexOf(f),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(o.path,g,o.currentWriteId,o.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(f,!0))}else c=!0,u="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(o.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],c&&(t[s].status=en.COMPLETED,setTimeout(t[s].unwatcher,Math.floor(0)),t[s].onComplete))if("nodata"===u){var y=new Je(this,t[s].path),v=new Kt(t[s].currentInputSnapshot,y,At);n.push(t[s].onComplete.bind(null,null,!1,v))}else n.push(t[s].onComplete.bind(null,new Error(u),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),s=0;s<n.length;s++)Y(n[s]);this.sendReadyTransactions_()}},Ke.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},Ke.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},Ke.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,i=t.getValue();if(null!==i)for(var r=0;r<i.length;r++)e.push(i[r]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},Ke.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var i=0,r=0;r<n.length;r++)n[r].status!==en.COMPLETED&&(n[i]=n[r],i++);n.length=i,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},Ke.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),i=this.transactionQueueTree_.subTree(t);return i.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(i),i.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},Ke.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],i=[],r=-1,s=0;s<e.length;s++)e[s].status===en.SENT_NEEDS_ABORT||(e[s].status===en.SENT?(a.assert(r===s-1,"All SENT items should be at beginning of queue."),r=s,e[s].status=en.SENT_NEEDS_ABORT,e[s].abortReason="set"):(a.assert(e[s].status===en.RUN,"Unexpected transaction status in abort"),e[s].unwatcher(),i=i.concat(this.serverSyncTree_.ackUserWrite(e[s].currentWriteId,!0)),e[s].onComplete&&n.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===r?t.setValue(null):e.length=r+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),i),s=0;s<n.length;s++)Y(n[s])}};var nn,rn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return nn||(nn=new t),nn},t.prototype.interrupt=function(){var t,e,n,i;try{for(var r=o.__values(Object.keys(this.repos_)),s=r.next();!s.done;s=r.next()){var a=s.value;try{for(var l=(n=void 0,o.__values(Object.keys(this.repos_[a]))),c=l.next();!c.done;c=l.next())this.repos_[a][c.value].interrupt()}catch(u){n={error:u}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,i;try{for(var r=o.__values(Object.keys(this.repos_)),s=r.next();!s.done;s=r.next()){var a=s.value;try{for(var l=(n=void 0,o.__values(Object.keys(this.repos_[a]))),c=l.next();!c.done;c=l.next())this.repos_[a][c.value].resume()}catch(u){n={error:u}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n){var i=n||t.options.databaseURL;void 0===i&&S("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=tt(i),s=r.repoInfo,o=void 0;return"undefined"!=typeof process&&(o=process.env.FIREBASE_DATABASE_EMULATOR_HOST),o&&(s=(r=tt(i="http://"+o+"?ns="+s.namespace)).repoInfo),gt("Invalid Firebase Database URL",1,r),r.path.isEmpty()||S("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(s,t,e).database},t.prototype.deleteRepo=function(t){var e=a.safeGet(this.repos_,t.app.name);e&&a.safeGet(e,t.repoInfo_.toURLString())===t||S("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var i=a.safeGet(this.repos_,e.name);i||(this.repos_[e.name]=i={});var r=a.safeGet(i,t.toURLString());return r&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new Ke(t,this.useRestClient_,e,n),i[t.toURLString()]=r,r},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),sn=function(){function t(t){this.repo_=t,t instanceof Ke||S("Don't call new Database() directly - please use firebase.database()."),this.root_=new Je(t,X.Empty),this.INTERNAL=new on(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),a.validateArgCount("database.ref",0,1,arguments.length),t instanceof Je?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),a.validateArgCount(e,1,1,arguments.length);var n=tt(t);gt(e,1,n);var i=n.repoInfo;return i.host!==this.repo_.repoInfo_.host&&S(e+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&S("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){a.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){a.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),on=function(){function t(t){this.database=t}return t.prototype.delete=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.database.checkDeleted_("delete"),rn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),an=Object.freeze({__proto__:null,forceLongPolling:function(){qe.forceDisallow(),Ve.forceAllow()},forceWebSockets:function(){Ve.forceDisallow()},isWebSocketsAvailable:function(){return qe.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),ln=We;We.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},We.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var cn=Object.freeze({__proto__:null,DataConnection:ln,RealTimeConnection:He,hijackHash:function(t){var e=We.prototype.put;return We.prototype.put=function(n,i,r,s){void 0!==s&&(s=t()),e.call(this,n,i,r,s)},function(){We.prototype.put=e}},ConnectionTarget:Z,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){rn.getInstance().forceRestClient(t)}}),un=sn.ServerValue;function hn(e){Ue=e.SDK_VERSION;var n=e.INTERNAL.registerComponent(new c.Component("database",(function(t,e){var n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return rn.getInstance().databaseFromApp(n,i,e)}),"PUBLIC").setServiceProps({Reference:Je,Query:Zt,Database:sn,DataSnapshot:Kt,enableLogging:w,INTERNAL:an,ServerValue:un,TEST_ACCESS:cn}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.5.24"),a.isNodeSdk()&&(t.exports=n)}hn(s),e.DataSnapshot=Kt,e.Database=sn,e.OnDisconnect=vt,e.Query=Zt,e.Reference=Je,e.ServerValue=un,e.enableLogging=w,e.registerDatabase=hn},O1kn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=(i=n("wj3C"))&&"object"==typeof i&&"default"in i?i.default:i;n("fSjL");var s,o=n("mrSG"),a=n("zVF4"),l=n("q/0M"),c=n("S+S0"),u=function(){function t(t,e,n,i){this.client=t,this.storage=e,this.storageCache=n,this.logger=i}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,i=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+i+"."),i},t.prototype.fetch=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,s;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=o.sent(),n=e[0],(i=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return r=o.sent(),s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===r.status&&s.push(this.storage.setLastSuccessfulFetchResponse(r)),[4,Promise.all(s)];case 3:return o.sent(),[2,r]}}))}))},t}(),h=((s={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",s["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",s["registration-api-key"]="Undefined API key. Check Firebase app initialization.",s["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",s["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",s["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",s["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",s["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",s["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",s["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',s["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',s["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",s["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",s),d=new a.ErrorFactory("remoteconfig","Remote Config",h),p=function(){function t(t,e,n,i,r,s){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=i,this.apiKey=r,this.appId=s}return t.prototype.fetch=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,s,a,l,c,u,h,p,f,m,g,y,v;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=o.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",i=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,r={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},s={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(r)},a=fetch(i,s),l=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),o.label=2;case 2:return o.trys.push([2,5,,6]),[4,Promise.race([a,l])];case 3:return o.sent(),[4,a];case 4:return c=o.sent(),[3,6];case 5:throw u=o.sent(),h="fetch-client-network","AbortError"===u.name&&(h="fetch-timeout"),d.create(h,{originalErrorMessage:u.message});case 6:if(p=c.status,f=c.headers.get("ETag")||void 0,200!==c.status)return[3,11];y=void 0,o.label=7;case 7:return o.trys.push([7,9,,10]),[4,c.json()];case 8:return y=o.sent(),[3,10];case 9:throw v=o.sent(),d.create("fetch-client-parse",{originalErrorMessage:v.message});case 10:m=y.entries,g=y.state,o.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===g?p=500:"NO_CHANGE"===g?p=304:"NO_TEMPLATE"!==g&&"EMPTY_CONFIG"!==g||(m={}),304!==p&&200!==p)throw d.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:f,config:m}]}var _}))}))},t}(),f=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),m=["1","true","t","yes","y","on"],g=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&m.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),y=function(){function t(t,e,n,i,r){this.app=t,this._client=e,this._storageCache=n,this._storage=i,this._logger=r,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=l.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=l.LogLevel.SILENT;break;default:this._logger.logLevel=l.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!0,configurable:!0}),t.prototype.activate=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e,n;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return i.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e,n,i=this;return o.__generator(this,(function(r){switch(r.label){case 0:t=new f,setTimeout((function(){return o.__awaiter(i,void 0,void 0,(function(){return o.__generator(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return r.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return r.sent(),[3,6];case 4:return e=r.sent(),n=(s=e)instanceof a.FirebaseError&&-1!==s.code.indexOf("fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw r.sent(),e;case 6:return[2]}var s}))}))},t.prototype.fetchAndActivate=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(o.__assign(o.__assign({},t),e))).reduce((function(t,e){return t[e]=n.getValue(e),t}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new g("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new g("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new g("static"))},t}();function v(t,e){var n=t.target.error||void 0;return d.create(e,{originalErrorMessage:n&&n.message})}var _=function(){function t(t,e,n,i){void 0===i&&(i=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(v(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=i}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return e=i.sent(),[2,new Promise((function(i,r){var s=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),o=n.createCompositeKey(t);try{var a=s.get(o);a.onerror=function(t){r(v(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;i(e?e.value:void 0)}}catch(l){r(d.create("storage-get",{originalErrorMessage:l&&l.message}))}}))]}}))}))},t.prototype.set=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,i=this;return o.__generator(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return n=r.sent(),[2,new Promise((function(r,s){var o=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=i.createCompositeKey(t);try{var l=o.put({compositeKey:a,value:e});l.onerror=function(t){s(v(t,"storage-set"))},l.onsuccess=function(){r()}}catch(c){s(d.create("storage-set",{originalErrorMessage:c&&c.message}))}}))]}}))}))},t.prototype.delete=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return e=i.sent(),[2,new Promise((function(i,r){var s=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),o=n.createCompositeKey(t);try{var a=s.delete(o);a.onerror=function(t){r(v(t,"storage-delete"))},a.onsuccess=function(){i()}}catch(l){r(d.create("storage-delete",{originalErrorMessage:l&&l.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),b=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,r,s;return o.__generator(this,(function(o){switch(o.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(i=o.sent())&&(this.lastFetchStatus=i),[4,e];case 2:return(r=o.sent())&&(this.lastSuccessfulFetchTimestampMillis=r),[4,n];case 3:return(s=o.sent())&&(this.activeConfig=s),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function w(t){var e=1e3*Math.pow(2,t),n=Math.round(.5*e*(Math.random()-.5)*2);return Math.min(144e5,e+n)}function x(t,e){return new Promise((function(n,i){var r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener((function(){clearTimeout(s),i(d.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var C=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,i=e.backoffCount;return o.__awaiter(this,void 0,void 0,(function(){var e,r,s;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,x(t.signal,n)];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=o.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return o.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof a.FirebaseError))return!1;var e=Number(t.httpStatus);return 429===e||500===e||503===e||504===e}(r=o.sent()))throw r;return s={throttleEndTimeMillis:Date.now()+w(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(s)];case 6:return o.sent(),[2,this.attemptFetch(t,s)];case 7:return[2]}}))}))},t}(),E="@firebase/remote-config";function S(t){t.INTERNAL.registerComponent(new c.Component("remoteConfig",(function(e,n){var i=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw d.create("registration-window");var s=i.options,o=s.projectId,a=s.apiKey,c=s.appId;if(!o)throw d.create("registration-project-id");if(!a)throw d.create("registration-api-key");if(!c)throw d.create("registration-app-id");var h=new _(c,i.name,n=n||"firebase"),f=new b(h),m=new l.Logger(E);m.logLevel=l.LogLevel.ERROR;var g=new p(r,t.SDK_VERSION,n,o,a,c),v=new C(g,h),w=new u(v,h,f,m),x=new y(i,w,f,h,m);return x.ensureInitialized(),x}),"PUBLIC").setMultipleInstances(!0)),t.registerVersion(E,"0.1.17")}S(r),e.registerRemoteConfig=S},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG"),r=n("zVF4"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new r.Deferred;this.instancesDeferred.set(e,n);try{var i=this.getOrInitializeService(e);i&&n.resolve(i)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=i.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,r=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(r);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(u){}try{for(var r=i.__values(this.instancesDeferred.entries()),s=r.next();!s.done;s=r.next()){var o=i.__read(s.value,2),a=o[1],l=this.normalizeInstanceIdentifier(o[0]);try{var c=this.getOrInitializeService(l);a.resolve(c)}catch(u){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=s,e.ComponentContainer=a,e.Provider=o},Wcq6:function(t,e,n){"use strict";var i,r=(i=n("wj3C"))&&"object"==typeof i&&"default"in i?i.default:i;r.registerVersion("firebase","7.13.1","app"),t.exports=r},bQlE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=(i=n("wj3C"))&&"object"==typeof i&&"default"in i?i.default:i;n("fSjL");var s,o,a,l,c,u=n("mrSG"),h=n("zVF4"),d=n("q/0M"),p=n("S+S0"),f=((s={})["trace started"]="Trace {$traceName} was started before.",s["trace stopped"]="Trace {$traceName} is not running.",s["no window"]="Window is not available.",s["no app id"]="App id is not available.",s["no project id"]="Project id is not available.",s["no api key"]="Api key is not available.",s["invalid cc log"]="Attempted to queue invalid cc event",s["FB not default"]="Performance can only start when Firebase app instance is the default one.",s["RC response not ok"]="RC response is not ok",s["invalid attribute name"]="Attribute name {$attributeName} is invalid.",s["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",s["invalide custom metric name"]="Custom metric name {$customMetricName} is invalid",s),m=new h.ErrorFactory("performance","Performance",f),g=function(){function t(t){if(this.window=t,!t)throw m.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!!(fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,i=t.getEntries();n<i.length;n++)e(i[n])})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===o&&(o=new t(a)),o},t}(),y=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw m.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw m.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw m.create("no api key");return t},t.getInstance=function(){return void 0===l&&(l=new t),l},t}();function v(){return c}var _=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}({}),b=["firebase_","google_","ga_"],w=new RegExp("^[a-zA-Z]\\w*$");function x(){var t=g.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function C(){switch(g.getInstance().document.visibilityState){case"visible":return _.VISIBLE;case"hidden":return _.HIDDEN;default:return _.UNKNOWN}}function E(){var t=g.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var S=new d.Logger("Performance");function k(t){if(!t)return t;var e=y.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=I(e.tracesSamplingRate),e.logNetworkAfterSampling=I(e.networkRequestsSamplingRate),t}function I(t){return Math.random()<=t}S.logLevel=d.LogLevel.INFO;var A,T=1;function O(){return T=2,A=A||function(){var t=g.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}().then((function(){return(t=y.getInstance().installationsService.getId()).then((function(t){c=t})),t;var t})).then((function(t){return function(t){var e=function(){var t=g.getInstance().localStorage;if(t){var e=t.getItem("@firebase/performance/configexpire");if(e&&Number(e)>Date.now()){var n=t.getItem("@firebase/performance/config");if(n)try{return JSON.parse(n)}catch(s){return}}}}();return e?(k(e),Promise.resolve()):function(t){return(e=y.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+y.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+y.getInstance().getApiKey(),i=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:y.getInstance().getAppId(),app_version:"0.2.36",sdk_version:"0.0.1"})});return fetch(i).then((function(t){if(t.ok)return t.json();throw m.create("RC response not ok")}))})).catch((function(){S.info("Could not fetch config, will use default configs")}));var e}(t).then((function(t){return k(t)})).then((function(t){return function(t){var e=g.getInstance().localStorage;t&&e&&(e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*y.getInstance().configTimeToLive*60*1e3)))}(t)}),(function(){}))}(t)})).then((function(){return D()}),(function(){return D()}))}function D(){T=3}var R,N=3,P=[],F=!1;function M(t){if(!t.eventTime||!t.message)throw m.create("invalid cc log");P=u.__spreadArrays(P,[t])}function L(t,e){R||(R=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=t.apply(void 0,e);M({message:i,eventTime:Date.now()})}}(U)),R(t,e)}function V(t){var e=y.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&g.getInstance().requiredApisAvailable()&&(t.isAuto&&C()!==_.VISIBLE||e.loggingEnabled&&e.logTraceAfterSampling&&(3===T?j(t):O().then((function(){return j(t)}),(function(){return j(t)}))))}function j(t){v()&&setTimeout((function(){return L(t,1)}),0)}function U(t,e){return 0===e?(i={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},r={application_info:B(),network_request_metric:i},JSON.stringify(r)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var i={application_info:B(),trace_metric:e};return JSON.stringify(i)}(t);var n,i,r}function B(){return{google_app_id:y.getInstance().getAppId(),app_instance_id:v(),web_app_info:{sdk_version:"0.2.36",page_url:g.getInstance().getUrl(),service_worker_status:x(),visibility_state:C(),effective_connection_type:E()},application_process_state:0}}var q=["_fp","_fcp","_fid"],z=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=g.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw m.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw m.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),V(this)},t.prototype.record=function(t,e,n){if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=u.__assign({},n.attributes)),n&&n.metrics)for(var i=0,r=Object.keys(n.metrics);i<r.length;i++){var s=r[i];isNaN(Number(n.metrics[s]))||(this.counters[s]=Number(Math.floor(n.metrics[s])))}V(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]&&this.putMetric(t,0),this.counters[t]+=e},t.prototype.putMetric=function(t,e){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&q.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw m.create("invalide custom metric name",{customMetricName:t});this.counters[t]=e},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=function(t){return!(0===t.length||t.length>40||b.some((function(e){return t.startsWith(e)}))||!t.match(w))}(t),i=function(t){return 0!==t.length&&t.length<=100}(e);if(n&&i)this.customAttributes[t]=e;else{if(!n)throw m.create("invalid attribute name",{attributeName:t});if(!i)throw m.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return u.__assign({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,i){var r=g.getInstance().getUrl();if(r){var s=new t("_wt_"+r,!0),o=Math.floor(1e3*g.getInstance().getTimeOrigin());if(s.setStartTime(o),e&&e[0]&&(s.setDuration(Math.floor(1e3*e[0].duration)),s.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),s.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),s.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var a=n.find((function(t){return"first-paint"===t.name}));a&&a.startTime&&s.putMetric("_fp",Math.floor(1e3*a.startTime));var l=n.find((function(t){return"first-contentful-paint"===t.name}));l&&l.startTime&&s.putMetric("_fcp",Math.floor(1e3*l.startTime)),i&&s.putMetric("_fid",Math.floor(1e3*i))}V(s)}},t.createUserTimingTrace=function(e){V(new t(e,!1,e))},t}();function H(t){var e,n,i=t;if(i&&void 0!==i.responseStart){var r=g.getInstance().getTimeOrigin(),s=Math.floor(1e3*(i.startTime+r)),o=i.responseStart?Math.floor(1e3*(i.responseStart-i.startTime)):void 0,a=Math.floor(1e3*(i.responseEnd-i.startTime));e={url:i.name&&i.name.split("?")[0],responsePayloadBytes:i.transferSize,startTimeUs:s,timeToResponseInitiatedUs:o,timeToResponseCompletedUs:a},(n=y.getInstance()).instrumentationEnabled&&e.url!==n.logEndPointUrl.split("?")[0]&&n.loggingEnabled&&n.logNetworkAfterSampling&&setTimeout((function(){return L(e,0)}),0)}}function G(){v()&&(setTimeout((function(){return function(){var t=g.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var i=setTimeout((function(){z.createOobTrace(e,n),i=void 0}),5e3);t.onFirstInputDelay((function(t){i&&(clearTimeout(i),z.createOobTrace(e,n,t))}))}else z.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=g.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)H(n[e]);t.setupObserver("resource",H)}()}),0),setTimeout((function(){return function(){for(var t=g.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)W(n[e]);t.setupObserver("measure",W)}()}),0))}function W(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&z.createUserTimingTrace(e)}var $=function(){function t(t){this.app=t,g.getInstance().requiredApisAvailable()?(F||(function t(e){setTimeout((function(){if(0!==N){if(!P.length)return t(1e4);var e=u.__spreadArrays(P);P=[];var n=e.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}})),i={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:y.getInstance().logSource,log_event:n};fetch(y.getInstance().logEndPointUrl,{method:"POST",body:JSON.stringify(i)}).then((function(t){return t.ok||S.info("Call to Firebase backend failed."),t.json()})).then((function(e){var n=Number(e.next_request_wait_millis),i=isNaN(n)?1e4:Math.max(1e4,n);N=3,t(i)})).catch((function(){P=u.__spreadArrays(e,P),N--,S.info("Tries left: "+N+"."),t(1e4)}))}}),e)}(5500),F=!0),O().then(G,G)):S.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled.")}return t.prototype.trace=function(t){return new z(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return y.getInstance().instrumentationEnabled},set:function(t){y.getInstance().instrumentationEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return y.getInstance().dataCollectionEnabled},set:function(t){y.getInstance().dataCollectionEnabled=t},enumerable:!0,configurable:!0}),t}();function K(t){t.INTERNAL.registerComponent(new p.Component("performance",(function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw m.create("FB not default");if("undefined"==typeof window)throw m.create("no window");return function(t){a=t}(window),y.getInstance().firebaseAppInstance=t,y.getInstance().installationsService=e,new $(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC")),t.registerVersion("@firebase/performance","0.2.36")}K(r),e.registerPerformance=K},fSjL:function(t,e,n){"use strict";n.r(e),n.d(e,"registerInstallations",(function(){return $}));var i,r=n("wj3C"),s=n.n(r),o=n("S+S0"),a=n("mrSG"),l=n("zVF4"),c=n("nbvr"),u=((i={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',i["not-registered"]="Firebase Installation is not registered.",i["installation-not-found"]="Firebase Installation not found.",i["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',i["app-offline"]="Could not process request. Application offline.",i["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",i),h=new l.ErrorFactory("installations","Installations",u);function d(t){return t instanceof l.FirebaseError&&t.code.includes("request-failed")}function p(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function f(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function m(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.json()];case 1:return n=r.sent(),[2,h.create("request-failed",{requestName:t,serverCode:(i=n.error).code,serverMessage:i.message,serverStatus:i.status})]}}))}))}function g(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function y(t,e){var n=e.refreshToken,i=g(t);return i.append("Authorization",function(t){return"FIS_v2 "+t}(n)),i}function v(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function _(t,e){var n=e.fid;return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,i,r,s,o;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return e=p(t),i=g(t),r={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.6"})},[4,v((function(){return fetch(e,r)}))];case 1:return(s=a.sent()).ok?[4,s.json()]:[3,3];case 2:return[2,{fid:(o=a.sent()).fid||n,registrationStatus:2,refreshToken:o.refreshToken,authToken:f(o.authToken)}];case 3:return[4,m("Create Installation",s)];case 4:throw a.sent()}}))}))}function b(t){return new Promise((function(e){setTimeout(e,t)}))}var w=/^[cdef][\w-]{21}$/;function x(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(a.__spread)(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return w.test(e)?e:""}catch(i){return""}}function C(t){return t.appName+"!"+t.appId}var E=new Map;function S(t,e){var n=C(t);k(n,e),function(t,e){var n=A();n&&n.postMessage({key:t,fid:e}),T()}(n,e)}function k(t,e){var n,i,r=E.get(t);if(r)try{for(var s=Object(a.__values)(r),o=s.next();!o.done;o=s.next())(0,o.value)(e)}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}}var I=null;function A(){return!I&&"BroadcastChannel"in self&&((I=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){k(t.data.key,t.data.fid)}),I}function T(){0===E.size&&I&&(I.close(),I=null)}var O="firebase-installations-store",D=null;function R(){return D||(D=Object(c.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(O)}}))),D}function N(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i,r,s,o;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return n=C(t),[4,R()];case 1:return i=a.sent(),r=i.transaction(O,"readwrite"),[4,(s=r.objectStore(O)).get(n)];case 2:return o=a.sent(),[4,s.put(e,n)];case 3:return a.sent(),[4,r.complete];case 4:return a.sent(),o&&o.fid===e.fid||S(t,e.fid),[2,e]}}))}))}function P(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return e=C(t),[4,R()];case 1:return n=r.sent(),[4,(i=n.transaction(O,"readwrite")).objectStore(O).delete(e)];case 2:return r.sent(),[4,i.complete];case 3:return r.sent(),[2]}}))}))}function F(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i,r,s,o,l;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return n=C(t),[4,R()];case 1:return i=a.sent(),r=i.transaction(O,"readwrite"),[4,(s=r.objectStore(O)).get(n)];case 2:return o=a.sent(),void 0!==(l=e(o))?[3,4]:[4,s.delete(n)];case 3:return a.sent(),[3,6];case 4:return[4,s.put(l,n)];case 5:a.sent(),a.label=6;case 6:return[4,r.complete];case 7:return a.sent(),!l||o&&o.fid===l.fid||S(t,l.fid),[2,l]}}))}))}function M(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,F(t,(function(n){var i=function(t){return j(t||{fid:x(),registrationStatus:0})}(n),r=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(h.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,_(t,e)];case 1:return n=r.sent(),[2,N(t,n)];case 2:return d(i=r.sent())&&409===i.serverCode?[4,P(t)]:[3,4];case 3:return r.sent(),[3,6];case 4:return[4,N(t,{fid:e.fid,registrationStatus:0})];case 5:r.sent(),r.label=6;case 6:throw i;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:L(t)}:{installationEntry:e}}(t,i);return e=r.registrationPromise,r.installationEntry}))];case 1:return""!==(n=r.sent()).fid?[3,3]:(i={},[4,e]);case 2:return[2,(i.installationEntry=r.sent(),i)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function L(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,i,r;return Object(a.__generator)(this,(function(s){switch(s.label){case 0:return[4,V(t)];case 1:e=s.sent(),s.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,b(100)];case 3:return s.sent(),[4,V(t)];case 4:return e=s.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,M(t)];case 6:return n=s.sent(),i=n.installationEntry,(r=n.registrationPromise)?[2,r]:[2,i];case 7:return[2,e]}}))}))}function V(t){return F(t,(function(t){if(!t)throw h.create("installation-not-found");return j(t)}))}function j(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function U(t,e){var n=t.appConfig,i=t.platformLoggerProvider;return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,r,s,o,l;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return t=function(t,e){var n=e.fid;return p(t)+"/"+n+"/authTokens:generate"}(n,e),r=y(n,e),(s=i.getImmediate({optional:!0}))&&r.append("x-firebase-client",s.getPlatformInfoString()),o={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:"w:0.4.6"}})},[4,v((function(){return fetch(t,o)}))];case 1:return(l=a.sent()).ok?[4,l.json()]:[3,3];case 2:return[2,f(a.sent())];case 3:return[4,m("Generate Auth Token",l)];case 4:throw a.sent()}}))}))}function B(t,e){return void 0===e&&(e=!1),Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i,r;return Object(a.__generator)(this,(function(s){switch(s.label){case 0:return[4,F(t.appConfig,(function(i){if(!z(i))throw h.create("not-registered");var r,s=i.authToken;if(!e&&2===(r=s).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(r))return i;if(1===s.requestStatus)return n=function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,q(t.appConfig)];case 1:n=r.sent(),r.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,b(100)];case 3:return r.sent(),[4,q(t.appConfig)];case 4:return n=r.sent(),[3,2];case 5:return 0===(i=n.authToken).requestStatus?[2,B(t,e)]:[2,i]}}))}))}(t,e),i;if(!navigator.onLine)throw h.create("app-offline");var o=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(a.__assign)(Object(a.__assign)({},t),{authToken:e})}(i);return n=function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i,r;return Object(a.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,U(t,e)];case 1:return n=s.sent(),r=Object(a.__assign)(Object(a.__assign)({},e),{authToken:n}),[4,N(t.appConfig,r)];case 2:return s.sent(),[2,n];case 3:return!d(i=s.sent())||401!==i.serverCode&&404!==i.serverCode?[3,5]:[4,P(t.appConfig)];case 4:return s.sent(),[3,7];case 5:return r=Object(a.__assign)(Object(a.__assign)({},e),{authToken:{requestStatus:0}}),[4,N(t.appConfig,r)];case 6:s.sent(),s.label=7;case 7:throw i;case 8:return[2]}}))}))}(t,o),o}))];case 1:return i=s.sent(),n?[4,n]:[3,3];case 2:return r=s.sent(),[3,4];case 3:r=i.authToken,s.label=4;case 4:return[2,r]}}))}))}function q(t){return F(t,(function(t){if(!z(t))throw h.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object(a.__assign)(Object(a.__assign)({},t),{authToken:{requestStatus:0}}):t}))}function z(t){return void 0!==t&&2===t.registrationStatus}function H(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return[4,M(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function G(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i,r,s;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return n=function(t,e){var n=e.fid;return p(t)+"/"+n}(t,e),i=y(t,e),r={method:"DELETE",headers:i},[4,v((function(){return fetch(n,r)}))];case 1:return(s=o.sent()).ok?[3,3]:[4,m("Delete Installation",s)];case 2:throw o.sent();case 3:return[2]}}))}))}function W(t){return h.create("missing-app-config-values",{valueName:t})}function $(t){t.INTERNAL.registerComponent(new o.Component("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw W("App Configuration");if(!t.name)throw W("App Name");try{for(var i=Object(a.__values)(["projectId","apiKey","appId"]),r=i.next();!r.done;r=i.next()){var s=r.value;if(!t.options[s])throw W(s)}}catch(o){e={error:o}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,M(t.appConfig)];case 1:return e=r.sent(),n=e.installationEntry,(i=e.registrationPromise)?i.catch(console.error):B(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return[4,H(t.appConfig)];case 1:return n.sent(),[4,B(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,F(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=i.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw h.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw h.create("app-offline");case 3:return[4,G(e,n)];case 4:return i.sent(),[4,P(e)];case 5:i.sent(),i.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){A();var n=C(t),i=E.get(n);i||(i=new Set,E.set(n,i)),i.add(e)}(n,e),function(){!function(t,e){var n=C(t),i=E.get(n);i&&(i.delete(e),0===i.size&&E.delete(n),T())}(n,e)}}(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.6")}$(s.a)},gHGA:function(t,e,n){"use strict";n.r(e);var i,r=n("wj3C"),s=n.n(r),o=(n("fSjL"),n("S+S0")),a=n("mrSG"),l=n("zVF4"),c=n("nbvr"),u=((i={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',i["only-available-in-window"]="This method is available in a Window context.",i["only-available-in-sw"]="This method is available in a service worker context.",i["permission-default"]="The notification permission was not granted and dismissed instead.",i["permission-blocked"]="The notification permission was not granted and blocked instead.",i["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",i["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",i["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$errorInfo}",i["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",i["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$errorInfo}",i["token-update-failed"]="A problem occured while updating the user from FCM: {$errorInfo}",i["token-update-no-token"]="FCM returned no token when updating the user to push.",i["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",i["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",i["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",i["invalid-vapid-key"]="The public VAPID key must be a string.",i["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",i),h=new l.ErrorFactory("messaging","Messaging",u);function d(t){return h.create("missing-app-config-values",{valueName:t})}function p(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(a.__spread)(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function f(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n=this;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!i.sent().map((function(t){return t.name})).includes("fcm_token_details_db"))return[2,null];i.label=2;case 2:return e=null,[4,Object(c.openDb)("fcm_token_details_db",5,(function(i){return Object(a.__awaiter)(n,void 0,void 0,(function(){var n,r,s,o;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return i.oldVersion<2?[2]:i.objectStoreNames.contains("fcm_token_object_Store")?[4,(n=i.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return r=a.sent(),[4,n.clear()];case 2:if(a.sent(),!r)return[2];if(2===i.oldVersion){if(!(s=r).auth||!s.p256dh||!s.endpoint)return[2];e={token:s.fcmToken,createTime:null!==(o=s.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:s.auth,p256dh:s.p256dh,endpoint:s.endpoint,swScope:s.swScope,vapidKey:"string"==typeof s.vapidKey?s.vapidKey:p(s.vapidKey)}}}else 3===i.oldVersion?e={token:(s=r).fcmToken,createTime:s.createTime,subscriptionOptions:{auth:p(s.auth),p256dh:p(s.p256dh),endpoint:s.endpoint,swScope:s.swScope,vapidKey:p(s.vapidKey)}}:4===i.oldVersion&&(e={token:(s=r).fcmToken,createTime:s.createTime,subscriptionOptions:{auth:p(s.auth),p256dh:p(s.p256dh),endpoint:s.endpoint,swScope:s.swScope,vapidKey:p(s.vapidKey)}});return[2]}}))}))}))];case 3:return i.sent().close(),[4,Object(c.deleteDb)("fcm_token_details_db")];case 4:return i.sent(),[4,Object(c.deleteDb)("fcm_vapid_details_db")];case 5:return i.sent(),[4,Object(c.deleteDb)("undefined")];case 6:return i.sent(),[2,m(e)?e:null]}}))}))}function m(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var g="firebase-messaging-store",y=null;function v(){return y||(y=Object(c.openDb)("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(g)}}))),y}function _(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return e=x(t),[4,v()];case 1:return[4,r.sent().transaction(g).objectStore(g).get(e)];case 2:return(n=r.sent())?[2,n]:[3,3];case 3:return[4,f(t.appConfig.senderId)];case 4:return(i=r.sent())?[4,b(t,i)]:[3,6];case 5:return r.sent(),[2,i];case 6:return[2]}}))}))}function b(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i,r;return Object(a.__generator)(this,(function(s){switch(s.label){case 0:return n=x(t),[4,v()];case 1:return i=s.sent(),[4,(r=i.transaction(g,"readwrite")).objectStore(g).put(e,n)];case 2:return s.sent(),[4,r.complete];case 3:return s.sent(),[2,e]}}))}))}function w(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return e=x(t),[4,v()];case 1:return n=r.sent(),[4,(i=n.transaction(g,"readwrite")).objectStore(g).delete(e)];case 2:return r.sent(),[4,i.complete];case 3:return r.sent(),[2]}}))}))}function x(t){return t.appConfig.appId}var C="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";function E(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i,r,s,o;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return[4,A(t)];case 1:n=a.sent(),i=T(e),r={method:"POST",headers:n,body:JSON.stringify(i)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(I(t.appConfig),r)];case 3:return[4,a.sent().json()];case 4:return s=a.sent(),[3,6];case 5:throw o=a.sent(),h.create("token-subscribe-failed",{errorInfo:o});case 6:if(s.error)throw h.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw h.create("token-subscribe-no-token");return[2,s.token]}}))}))}function S(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i,r,s,o;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return[4,A(t)];case 1:n=a.sent(),i=T(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(i)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(I(t.appConfig)+"/"+e.token,r)];case 3:return[4,a.sent().json()];case 4:return s=a.sent(),[3,6];case 5:throw o=a.sent(),h.create("token-update-failed",{errorInfo:o});case 6:if(s.error)throw h.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw h.create("token-update-no-token");return[2,s.token]}}))}))}function k(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i,r,s;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return[4,A(t)];case 1:n=o.sent(),i={method:"DELETE",headers:n},o.label=2;case 2:return o.trys.push([2,5,,6]),[4,fetch(I(t.appConfig)+"/"+e,i)];case 3:return[4,o.sent().json()];case 4:if((r=o.sent()).error)throw h.create("token-unsubscribe-failed",{errorInfo:r.error.message});return[3,6];case 5:throw s=o.sent(),h.create("token-unsubscribe-failed",{errorInfo:s});case 6:return[2]}}))}))}function I(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function A(t){var e=t.appConfig,n=t.installations;return Object(a.__awaiter)(this,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return t=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function T(t){var e=t.vapidKey,n={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return e!==C&&(n.web.applicationPubKey=e),n}function O(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var i,r,s,o;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw h.create("permission-blocked");return[4,P(e,n)];case 1:return i=a.sent(),[4,_(t)];case 2:return r=a.sent(),s={vapidKey:n,swScope:e.scope,endpoint:i.endpoint,auth:p(i.getKey("auth")),p256dh:p(i.getKey("p256dh"))},r?[3,3]:[2,N(t,s)];case 3:if(u=(c=s).endpoint===(l=r.subscriptionOptions).endpoint,c.vapidKey===l.vapidKey&&u&&c.auth===l.auth&&c.p256dh===l.p256dh)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,k(t,r.token)];case 5:return a.sent(),[3,7];case 6:return o=a.sent(),console.warn(o),[3,7];case 7:return[2,N(t,s)];case 8:return Date.now()>=r.createTime+6048e5?[2,R({token:r.token,createTime:Date.now(),subscriptionOptions:s},t,e)]:[2,r.token];case 9:return[2]}var l,c,u}))}))}function D(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,_(t)];case 1:return(n=r.sent())?[4,k(t,n.token)]:[3,4];case 2:return r.sent(),[4,w(t)];case 3:r.sent(),r.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(i=r.sent())?[2,i.unsubscribe()]:[2,!0]}}))}))}function R(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var i,r,s;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,5]),[4,S(e,t)];case 1:return i=o.sent(),r=Object(a.__assign)({token:i,createTime:Date.now()},t),[4,b(e,r)];case 2:return o.sent(),[2,i];case 3:return s=o.sent(),[4,D(e,n)];case 4:throw o.sent(),s;case 5:return[2]}}))}))}function N(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,E(t,e)];case 1:return n=r.sent(),i={token:n,createTime:Date.now(),subscriptionOptions:e},[4,b(t,i)];case 2:return r.sent(),[2,i.token]}}))}))}function P(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=i.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})]}}))}))}var F=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function M(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}var L=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!0,configurable:!0}),t.prototype.getToken=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return this.vapidKey||(this.vapidKey=C),[4,this.getServiceWorkerRegistration()];case 1:return t=e.sent(),"default"!==Notification.permission?[3,3]:[4,Notification.requestPermission()];case 2:e.sent(),e.label=3;case 3:if("granted"!==Notification.permission)throw h.create("permission-blocked");return[2,O(this.firebaseDependencies,t,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return t=e.sent(),[2,D(this.firebaseDependencies,t)]}}))}))},t.prototype.requestPermission=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw h.create("denied"===t?"permission-blocked":"permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw h.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw h.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw h.create("invalid-sw-registration");if(this.swRegistration)throw h.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback="function"==typeof t?t:t.next,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw h.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.getServiceWorkerRegistration=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:if(this.swRegistration)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 2:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,4];case 3:throw e=n.sent(),h.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 4:return[2,this.swRegistration]}}))}))},t.prototype.messageEventListener=function(t){var e;return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i,r,s;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return(null===(e=t.data)||void 0===e?void 0:e.firebaseMessaging)?(i=(n=t.data.firebaseMessaging).type,r=n.payload,this.onMessageCallback&&i===F.PUSH_RECEIVED&&this.onMessageCallback(r),M(s=r.data)&&"1"===s["google.c.a.e"]?[4,this.logEvent(i,s)]:[3,2]):[2];case 1:o.sent(),o.label=2;case 2:return[2]}}))}))},t.prototype.logEvent=function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return n=function(t){switch(t){case F.NOTIFICATION_CLICKED:return"notification_open";case F.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}(),V=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!0,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(!t||"function"!=typeof t)throw h.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.getToken=function(){var t,e;return Object(a.__awaiter)(this,void 0,void 0,(function(){var n;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,_(this.firebaseDependencies)];case 1:n=i.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:C,i.label=2;case 2:return[2,O(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return D(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw h.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw h.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw h.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw h.create("only-available-in-window")},t.prototype.onMessage=function(){throw h.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw h.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,B()]:[2];case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=r.sent())?[2,U(n,e)]:(i=function(t){var e;if(t&&"object"==typeof t.notification){var n=Object(a.__assign)({},t.notification);return n.data=Object(a.__assign)(Object(a.__assign)({},t.notification.data),((e={}).FCM_MSG=t,e)),n}}(e))?[4,z(i)]:[3,3];case 2:return r.sent(),[3,5];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(e)]:[3,5];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return Object(a.__awaiter)(this,void 0,void 0,(function(){var i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return t.newSubscription?[3,2]:[4,D(this.firebaseDependencies,self.registration)];case 1:return r.sent(),[2];case 2:return[4,_(this.firebaseDependencies)];case 3:return i=r.sent(),[4,D(this.firebaseDependencies,self.registration)];case 4:return r.sent(),[4,O(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==i?void 0:i.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:C)];case 5:return r.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return Object(a.__awaiter)(this,void 0,void 0,(function(){var i,r,s,o;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return(i=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(r=function(t){var e,n,i;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(i=t.notification)||void 0===i?void 0:i.click_action)||(M(t.data)?self.location.origin:null)}(i))?[4,j(r)]:[2]):[2];case 1:return(s=a.sent())?[3,4]:[4,self.clients.openWindow(r)];case 2:return s=a.sent(),[4,new Promise((function(t){setTimeout(t,3e3)}))];case 3:return a.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=a.sent(),a.label=6;case 6:return s?(o=q(F.NOTIFICATION_CLICKED,i),[2,s.postMessage(o)]):[2]}}))}))},t}();function j(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,i,r,s,o,l;return Object(a.__generator)(this,(function(c){switch(c.label){case 0:return e=new URL(t,self.location.href).href,[4,B()];case 1:n=c.sent();try{for(i=Object(a.__values)(n),r=i.next();!r.done;r=i.next())if(s=r.value,new URL(s.url,self.location.href).href===e)return[2,s]}catch(u){o={error:u}}finally{try{r&&!r.done&&(l=i.return)&&l.call(i)}finally{if(o)throw o.error}}return[2,null]}}))}))}function U(t,e){var n,i,r=q(F.PUSH_RECEIVED,e);try{for(var s=Object(a.__values)(t),o=s.next();!o.done;o=s.next())o.value.postMessage(r)}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}}function B(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function q(t,e){return{firebaseMessaging:{type:t,payload:e}}}function z(t){var e,n=null!==(e=t.title)&&void 0!==e?e:"",i=t.actions,r=Notification.maxActions;return i&&r&&i.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(n,t)}var H={isSupported:G};function G(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}s.a.INTERNAL.registerComponent(new o.Component("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw d("App Configuration Object");if(!t.name)throw d("App Name");var i=t.options;try{for(var r=Object(a.__values)(["projectId","apiKey","appId","messagingSenderId"]),s=r.next();!s.done;s=r.next()){var o=s.value;if(!i[o])throw d(o)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!G())throw h.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new V(n):new L(n)}),"PUBLIC").setServiceProps(H))},iqUP:function(t,e,n){"use strict";var i,r=(i=n("wj3C"))&&"object"==typeof i&&"default"in i?i.default:i;n("t6oF"),n("NSPt"),n("6Joi"),n("ABqa"),n("gHGA"),n("LmZi"),n("bQlE"),n("3Kre"),n("O1kn"),r.registerVersion("firebase","7.13.1","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),r.registerVersion("firebase","7.13.1"),t.exports=r},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return r})),n.d(e,"__assign",(function(){return s})),n.d(e,"__rest",(function(){return o})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return u})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return f})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return x})),n.d(e,"__importDefault",(function(){return C})),n.d(e,"__classPrivateFieldGet",(function(){return E})),n.d(e,"__classPrivateFieldSet",(function(){return S}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function a(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function l(t,e){return function(n,i){e(n,i,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{l(i.next(t))}catch(e){s(e)}}function a(t){try{l(i.throw(t))}catch(e){s(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))}function h(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){s.push([t,e,n,i])>1||a(t,e)}))})}function a(t,e){try{(n=r[t](e)).value instanceof y?Promise.resolve(n.value.v).then(l,c):u(s[0][2],n)}catch(i){u(s[0][3],i)}var n}function l(t){a("next",t)}function c(t){a("throw",t)}function u(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function _(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:y(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},nbvr:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function i(t,e,i){var r,s=new Promise((function(s,o){n(r=t[e].apply(t,i)).then(s,o)}));return s.request=r,s}function r(t,e,n){var r=i(t,e,n);return r.then((function(t){if(t)return new u(t,r.request)}))}function s(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function o(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function a(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})}))}function l(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function c(t){this._index=t}function u(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function d(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function p(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new d(n)}function f(t){this._db=t}s(c,"_index",["name","keyPath","multiEntry","unique"]),o(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),l(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),s(u,"_cursor",["direction","key","primaryKey","value"]),o(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(u.prototype[t]=function(){var e=this,i=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,i),n(e._request).then((function(t){if(t)return new u(t,e._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},s(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),l(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},s(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},s(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},s(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[h,c].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),i=n[n.length-1],r=this._store||this._index,s=r[t].apply(r,n.slice(0,-1));s.onsuccess=function(){i(s.result)}})}))})),[c,h].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,i=[];return new Promise((function(r){n.iterateCursor(t,(function(t){t?(i.push(t.value),void 0===e||i.length!=e?t.continue():r(i)):r(i)}))}))})})),t.openDb=function(t,e,n){var r=i(indexedDB,"open",[t,e]),s=r.request;return s&&(s.onupgradeneeded=function(t){n&&n(new p(s.result,t.oldVersion,s.transaction))}),r.then((function(t){return new f(t)}))},t.deleteDb=function(t){return i(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},"q/0M":function(t,e,n){"use strict";function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}var r;n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return d})),n.d(e,"setUserLogHandler",(function(){return p}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},l=o.INFO,c=((r={})[o.DEBUG]="log",r[o.VERBOSE]="log",r[o.INFO]="info",r[o.WARN]="warn",r[o.ERROR]="error",r),u=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,i(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=l,this._logHandler=u,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.DEBUG],t)),this._logHandler.apply(this,i([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.VERBOSE],t)),this._logHandler.apply(this,i([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.INFO],t)),this._logHandler.apply(this,i([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.WARN],t)),this._logHandler.apply(this,i([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.ERROR],t)),this._logHandler.apply(this,i([this,o.ERROR],t))},t}();function d(t){var e="string"==typeof t?a[t]:t;s.forEach((function(t){t.logLevel=e}))}function p(t,e){for(var n=function(n){var i=null;e&&e.level&&(i=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var a=r.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:r,type:e.name})}},i=0,r=s;i<r.length;i++)n(r[i])}},t6oF:function(t,e,n){"use strict";n.r(e);var i=n("wj3C"),r=n.n(i);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function s(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,i){if(i){var r=n;t=t.split(".");for(var s=0;s<t.length-1;s++){var o=t[s];o in r||(r[o]={}),r=r[o]}(i=i(s=r[t=t[t.length-1]]))!=s&&null!=i&&e(r,t,{configurable:!0,writable:!0,value:i})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function i(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;i.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=n.setTimeout;i.prototype.c=function(t){o(t,0)},i.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(i){this.f(i)}}}this.a=null},i.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new i;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(i){n.reject(i)}},e.prototype.then=function(t,n){function i(t,e){return"function"==typeof t?function(e){try{r(t(e))}catch(n){s(n)}}:e}var r,s,o=new e((function(t,e){r=t,s=e}));return this.Oa(i(t,r),i(n,s)),o},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(i.b){case 1:t(i.c);break;case 2:e(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=s(t),o=i.next();!o.done;o=i.next())r(o.value).Oa(e,n)}))},e.all=function(t){var n=s(t),i=n.next();return i.done?r([]):new e((function(t,e){function s(e){return function(n){o[e]=n,0==--a&&t(o)}}var o=[],a=0;do{o.push(void 0),a++,r(i.value).Oa(s(o.length-1),e),i=n.next()}while(!i.done)}))},e}));var o=o||{},a=this||self,l=/^[\w+/_-]+[=]{0,2}$/,c=null;function u(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==h(t)}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,g)&&t[g]||(t[g]=++y)}var g="closure_uid_"+(1e9*Math.random()>>>0),y=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:_).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var x=Date.now||function(){return+new Date};function C(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t,e,n){this.code=I+t,this.message=e||A[t]||"",this.a=n||null}function S(t){var e=t&&t.code;return e?new E(e.substring(I.length),t.message,t.serverResponse):null}C(E,Error),E.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},E.prototype.toJSON=function(){return this.v()};var k,I="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},T={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function O(t){for(var e in T)if(T[e].id===t)return{firebaseEndpoint:(t=T[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function D(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function R(t){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function N(t,e){for(var n="",i=(t=t.split("%s")).length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");R.call(this,n+t[i])}function P(t,e){throw new N("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function F(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function M(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function L(){this.b=this.a=null}k=O("__EID__")?"__EID__":void 0,C(R,Error),R.prototype.name="CustomError",C(N,R),N.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new F((function(){return new U}),(function(t){t.reset()}));function j(){var t=ge,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function U(){this.next=this.b=this.a=null}L.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},U.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},q=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,s=0;s<i;s++)s in r&&e.call(n,r[s],s,t)},z=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=[],r=0,s="string"==typeof t?t.split(""):t,o=0;o<n;o++)if(o in s){var a=s[o];e.call(void 0,a,o,t)&&(i[r++]=a)}return i},H=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),r="string"==typeof t?t.split(""):t,s=0;s<n;s++)s in r&&(i[s]=e.call(void 0,r[s],s,t));return i},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t))return!0;return!1};function W(t,e){return 0<=B(t,e)}function $(t,e){var n;return(n=0<=(e=B(t,e)))&&Array.prototype.splice.call(t,e,1),n}function K(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(t,(function(n,i){e.call(void 0,n,i,t)&&Array.prototype.splice.call(t,i,1)}))}function Y(t){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}var X,J=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Z=/&/g,tt=/</g,et=/>/g,nt=/"/g,it=/'/g,rt=/\x00/g,st=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:t>e?1:0}t:{var lt=a.navigator;if(lt){var ct=lt.userAgent;if(ct){X=ct;break t}}X=""}function ut(t){return ot(X,t)}function ht(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function dt(t){for(var e in t)return!1;return!0}function pt(t){var e,n={};for(e in t)n[e]=t[e];return n}var ft="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var s=0;s<ft.length;s++)n=ft[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function gt(t,e){t:{try{var n=t&&t.ownerDocument,i=n&&(n.defaultView||n.parentWindow);if((i=i||a).Element&&i.Location){var r=i;break t}}catch(o){}r=null}if(r&&void 0!==r[e]&&(!t||!(t instanceof r[e])&&(t instanceof r.Location||t instanceof r.Element))){if(f(t))try{var s=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(o){s="<object could not be stringified>"}else s=void 0===t?"undefined":null===t?"null":typeof t;P("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,s)}}function yt(t,e){this.a=t===bt&&e||"",this.b=_t}function vt(t){return t instanceof yt&&t.constructor===yt&&t.b===_t?t.a:(P("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.ra=!0,yt.prototype.qa=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var _t={},bt={},wt=new yt(bt,"");function xt(t,e){this.a=t===At&&e||"",this.b=It}function Ct(t){return t instanceof xt&&t.constructor===xt&&t.b===It?t.a:(P("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function Et(t,e){var n=vt(t);if(!kt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(St,(function(t,i){if(!Object.prototype.hasOwnProperty.call(e,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[i])instanceof yt?vt(t):encodeURIComponent(String(t))})),new xt(At,t)}xt.prototype.ra=!0,xt.prototype.qa=function(){return this.a.toString()},xt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var St=/%{(\w+)}/g,kt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,It={},At={};function Tt(t,e){this.a=t===Pt&&e||"",this.b=Nt}function Ot(t){return t instanceof Tt&&t.constructor===Tt&&t.b===Nt?t.a:(P("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}Tt.prototype.ra=!0,Tt.prototype.qa=function(){return this.a.toString()},Tt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Dt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Rt(t){return t instanceof Tt?t:(t="object"==typeof t&&t.ra?t.qa():String(t),Dt.test(t)||(t="about:invalid#zClosurez"),new Tt(Pt,t))}var Nt={},Pt={};function Ft(){this.a="",this.b=Lt}function Mt(t){return t instanceof Ft&&t.constructor===Ft&&t.b===Lt?t.a:(P("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}Ft.prototype.ra=!0,Ft.prototype.qa=function(){return this.a.toString()},Ft.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Lt={};function Vt(t){var e=new Ft;return e.a=t,e}Vt("<!DOCTYPE html>");var jt=Vt("");function Ut(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}function Bt(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Z,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(tt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(et,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(nt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(it,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function qt(t){return qt[" "](t),t}Vt("<br>"),qt[" "]=u;var zt,Ht,Gt=ut("Opera"),Wt=ut("Trident")||ut("MSIE"),$t=ut("Edge"),Kt=$t||Wt,Yt=ut("Gecko")&&!(ot(X.toLowerCase(),"webkit")&&!ut("Edge"))&&!(ut("Trident")||ut("MSIE"))&&!ut("Edge"),Qt=ot(X.toLowerCase(),"webkit")&&!ut("Edge");function Xt(){var t=a.document;return t?t.documentMode:void 0}t:{var Jt="",Zt=(Ht=X,Yt?/rv:([^\);]+)(\)|;)/.exec(Ht):$t?/Edge\/([\d\.]+)/.exec(Ht):Wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ht):Qt?/WebKit\/(\S+)/.exec(Ht):Gt?/(?:Version)[ \/]?(\S+)/.exec(Ht):void 0);if(Zt&&(Jt=Zt?Zt[1]:""),Wt){var te=Xt();if(null!=te&&te>parseFloat(Jt)){zt=String(te);break t}}zt=Jt}var ee,ne={};function ie(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=J(String(zt)).split("."),i=J(String(t)).split("."),r=Math.max(n.length,i.length),s=0;0==e&&s<r;s++){var o=n[s]||"",a=i[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=at(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||at(0==o[2].length,0==a[2].length)||at(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}ee=a.document&&Wt?Xt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Ht){}var re=!Wt||9<=Number(ee);function se(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function oe(t,e){ht(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ce.hasOwnProperty(n)?t.setAttribute(ce[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ae,le,ce={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ue(t,e,n){function i(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var r=2;r<n.length;r++){var s=n[r];!d(s)||f(s)&&0<s.nodeType?i(s):q(de(s)?Q(s):s,i)}}function he(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function de(t){if(t&&"number"==typeof t.length){if(f(t))return"function"==typeof t.item||"string"==typeof t.item;if(p(t))return"function"==typeof t.item}return!1}function pe(t){a.setTimeout((function(){throw t}),0)}function fe(t,e){le||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);le=function(){t.then(ye)}}else le=function(){var t=ye;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!ut("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ae||(ae=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ut("Presto")&&(t=function(){var t=he(document,"IFRAME");t.style.display="none",function(t){var e=new xt(At,vt(wt));gt(t,"HTMLIFrameElement"),t.src=Ct(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Mt(jt)),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!ut("Trident")&&!ut("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){i.next={Db:t},i=i.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),ae(t)):a.setImmediate(t)}}(),me||(le(),me=!0),ge.add(t,e)}var me=!1,ge=new L;function ye(){for(var t;t=j();){try{t.a.call(t.b)}catch(e){pe(e)}M(V,t)}me=!1}function ve(t,e){if(this.a=_e,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=u)try{var n=this;t.call(e,(function(t){De(n,be,t)}),(function(t){if(!(t instanceof Ve))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}De(n,we,t)}))}catch(i){De(this,we,i)}}var _e=0,be=2,we=3;function xe(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}xe.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ce=new F((function(){return new xe}),(function(t){t.reset()}));function Ee(t,e,n){var i=Ce.get();return i.g=t,i.b=e,i.f=n,i}function Se(t){if(t instanceof ve)return t;var e=new ve(u);return De(e,be,t),e}function ke(t){return new ve((function(e,n){n(t)}))}function Ie(t,e,n){Re(t,e,n,null)||fe(w(e,t))}function Ae(t){return new ve((function(e){var n=t.length,i=[];if(n)for(var r=function(t,r,s){n--,i[t]=r?{Mb:!0,value:s}:{Mb:!1,reason:s},0==n&&e(i)},s=0;s<t.length;s++)Ie(t[s],w(r,s,!0),w(r,s,!1));else e(i)}))}function Te(t,e){t.b||t.a!=be&&t.a!=we||Ne(t),t.f?t.f.next=e:t.b=e,t.f=e}function Oe(t,e,n,i){var r=Ee(null,null,null);return r.a=new ve((function(t,s){r.g=e?function(n){try{var r=e.call(i,n);t(r)}catch(o){s(o)}}:t,r.b=n?function(e){try{var r=n.call(i,e);void 0===r&&e instanceof Ve?s(e):t(r)}catch(o){s(o)}}:s})),r.a.c=t,Te(t,r),r.a}function De(t,e,n){t.a==_e&&(t===n&&(e=we,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Re(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Ne(t),e!=we||n instanceof Ve||function(t,e){t.g=!0,fe((function(){t.g&&Le.call(null,e)}))}(t,n)))}function Re(t,e,n,i){if(t instanceof ve)return Te(t,Ee(e||u,n||null,i)),!0;if(D(t))return t.then(e,n,i),!0;if(f(t))try{var r=t.then;if(p(r))return function(t,e,n,i,r){function s(t){o||(o=!0,i.call(r,t))}var o=!1;try{e.call(t,(function(t){o||(o=!0,n.call(r,t))}),s)}catch(a){s(a)}}(t,r,e,n,i),!0}catch(s){return n.call(i,s),!0}return!1}function Ne(t){t.h||(t.h=!0,fe(t.ec,t))}function Pe(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,i){if(n==we&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Me(e,n,i);else try{e.c?e.g.call(e.f):Me(e,n,i)}catch(r){Le.call(null,r)}M(Ce,e)}function Me(t,e,n){e==be?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ve.prototype.then=function(t,e,n){return Oe(this,p(t)?t:null,p(e)?e:null,n)},ve.prototype.$goog_Thenable=!0,(t=ve.prototype).ma=function(t,e){return(t=Ee(t,t,e)).c=!0,Te(this,t),this},t.o=function(t,e){return Oe(this,null,t,e)},t.cancel=function(t){if(this.a==_e){var e=new Ve(t);fe((function(){!function t(e,n){if(e.a==_e)if(e.c){var i=e.c;if(i.b){for(var r=0,s=null,o=null,a=i.b;a&&(a.c||(r++,a.a==e&&(s=a),!(s&&1<r)));a=a.next)s||(o=a);s&&(i.a==_e&&1==r?t(i,n):(o?((r=o).next==i.f&&(i.f=r),r.next=r.next.next):Pe(i),Fe(i,s,we,n)))}e.c=null}else De(e,we,n)}(this,e)}),this)}},t.Yc=function(t){this.a=_e,De(this,be,t)},t.Zc=function(t){this.a=_e,De(this,we,t)},t.ec=function(){for(var t;t=Pe(this);)Fe(this,t,this.a,this.i);this.h=!1};var Le=pe;function Ve(t){R.call(this,t)}function je(){0!=Ue&&(Be[m(this)]=this),this.wa=this.wa,this.na=this.na}C(Ve,R),Ve.prototype.name="cancel";var Ue=0,Be={};function qe(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=Ue)){var e=m(t);if(0!=Ue&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Be[e]}}je.prototype.wa=!1,je.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var ze=Object.freeze||function(t){return t},He=!Wt||9<=Number(ee),Ge=Wt&&!ie("9"),We=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",u,e),a.removeEventListener("test",u,e)}catch(n){}return t}();function $e(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ke(t,e){if($e.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Yt){t:{try{qt(e.nodeName);var r=!0;break t}catch(s){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ye[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}$e.prototype.preventDefault=function(){this.defaultPrevented=!0},C(Ke,$e);var Ye=ze({2:"touch",3:"pen",4:"mouse"});Ke.prototype.preventDefault=function(){Ke.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ge)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ke.prototype.f=function(){return this.a};var Qe="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function Je(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.Ta=r,this.key=++Xe,this.ua=this.Na=!1}function Ze(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function tn(t){this.src=t,this.a={},this.b=0}function en(t,e){var n=e.type;n in t.a&&$(t.a[n],e)&&(Ze(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function nn(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.ua&&s.listener==e&&s.capture==!!n&&s.Ta==i)return r}return-1}tn.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=nn(t,e,i,r);return-1<o?(e=t[o],n||(e.Na=!1)):((e=new Je(e,this.src,s,!!i,r)).Na=n,t.push(e)),e};var rn="closure_lm_"+(1e6*Math.random()|0),sn={};function on(t,e,n,i,r){if(i&&i.once)ln(t,e,n,i,r);else if(Array.isArray(e))for(var s=0;s<e.length;s++)on(t,e[s],n,i,r);else n=yn(n),t&&t[Qe]?_n(t,e,n,f(i)?!!i.capture:!!i,r):an(t,e,n,!1,i,r)}function an(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=f(r)?!!r.capture:!!r,a=mn(t);if(a||(t[rn]=a=new tn(t)),!(n=a.add(e,n,i,o,s)).proxy)if(i=function(){var t=fn,e=He?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)We||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(hn(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}}function ln(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)ln(t,e[s],n,i,r);else n=yn(n),t&&t[Qe]?bn(t,e,n,f(i)?!!i.capture:!!i,r):an(t,e,n,!0,i,r)}function cn(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)cn(t,e[s],n,i,r);else i=f(i)?!!i.capture:!!i,n=yn(n),t&&t[Qe]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=nn(s=t.a[e],n,i,r))&&(Ze(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=mn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=nn(e,n,i,r)),(n=-1<t?e[t]:null)&&un(n))}function un(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Qe])en(e.u,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(hn(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=mn(e))?(en(n,t),0==n.b&&(n.src=null,e[rn]=null)):Ze(t)}}}function hn(t){return t in sn?sn[t]:sn[t]="on"+t}function dn(t,e,n,i){var r=!0;if((t=mn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var s=e[t];s&&s.capture==n&&!s.ua&&(s=pn(s,i),r=r&&!1!==s)}return r}function pn(t,e){var n=t.listener,i=t.Ta||t.src;return t.Na&&un(t),n.call(i,e)}function fn(t,e){if(t.ua)return!0;if(!He){if(!e)t:{e=["window","event"];for(var n=a,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new Ke(i=e,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){t:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(o){r=!0}(r||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=e.b;r;r=r.parentNode)i.push(r);for(t=t.type,r=i.length-1;0<=r;r--){e.b=i[r];var s=dn(i[r],t,!0,e);n=n&&s}for(r=0;r<i.length;r++)e.b=i[r],s=dn(i[r],t,!1,e),n=n&&s}return n}return pn(t,new Ke(e,this))}function mn(t){return(t=t[rn])instanceof tn?t:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return p(t)?t:(t[gn]||(t[gn]=function(e){return t.handleEvent(e)}),t[gn])}function vn(){je.call(this),this.u=new tn(this),this.Yb=this,this.eb=null}function _n(t,e,n,i,r){t.u.add(String(e),n,!1,i,r)}function bn(t,e,n,i,r){t.u.add(String(e),n,!0,i,r)}function wn(t,e,n,i){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ua&&o.capture==n){var a=o.listener,l=o.Ta||o.src;o.Na&&en(t.u,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}function xn(t,e,n){if(p(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Cn(t){var e=null;return new ve((function(n,i){-1==(e=xn((function(){n(void 0)}),t))&&i(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function En(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function Sn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(d(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function kn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof kn)for(n=t.X(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function In(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];An(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)An(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function An(t,e){return Object.prototype.hasOwnProperty.call(t,e)}C(vn,je),vn.prototype[Qe]=!0,vn.prototype.addEventListener=function(t,e,n,i){on(this,t,e,n,i)},vn.prototype.removeEventListener=function(t,e,n,i){cn(this,t,e,n,i)},vn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var i=t.type||t;if("string"==typeof t)t=new $e(t,n);else if(t instanceof $e)t.target=t.target||n;else{var r=t;mt(t=new $e(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.b=e[s];r=wn(o,i,!0,t)&&r}if(r=wn(o=t.b=n,i,!0,t)&&r,r=wn(o,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=wn(o=t.b=e[s],i,!1,t)&&r;return r},vn.prototype.Ba=function(){if(vn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)Ze(n[i]);delete e.a[t],e.b--}}this.eb=null},(t=kn.prototype).V=function(){In(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return In(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return An(this.b,t)?this.b[t]:e},t.set=function(t,e){An(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);t.call(e,s,r,this)}};var Tn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function On(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof On?(this.h=void 0!==e?e:t.h,Dn(this,t.f),this.i=t.i,this.b=t.b,Rn(this,t.l),this.c=t.c,Nn(this,Jn(t.a)),this.g=t.g):t&&(n=String(t).match(Tn))?(this.h=!!e,Dn(this,n[1]||"",!0),this.i=Vn(n[2]||""),this.b=Vn(n[3]||"",!0),Rn(this,n[4]),this.c=Vn(n[5]||"",!0),Nn(this,n[6]||"",!0),this.g=Vn(n[7]||"")):(this.h=!!e,this.a=new Wn(null,this.h))}function Dn(t,e,n){t.f=n?Vn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Rn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Nn(t,e,n){e instanceof Wn?(t.a=e,function(t,e){e&&!t.f&&($n(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Yn(this,e),Xn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=jn(e,Hn)),t.a=new Wn(e,t.h))}function Pn(t,e,n){t.a.set(e,n)}function Fn(t,e){return t.a.get(e)}function Mn(t){return t instanceof On?new On(t):new On(t,void 0)}function Ln(t,e){var n=new On(null,void 0);return Dn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Vn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Un),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Un(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}On.prototype.toString=function(){var t=[],e=this.f;e&&t.push(jn(e,Bn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(jn(e,Bn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(jn(n,"/"==n.charAt(0)?zn:qn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",jn(n,Gn)),t.join("")},On.prototype.resolve=function(t){var e=new On(this),n=!!t.f;n?Dn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var i=t.c;if(n)Rn(e,t.l);else if(n=!!t.c){if("/"!=i.charAt(0))if(this.b&&!this.c)i="/"+i;else{var r=e.c.lastIndexOf("/");-1!=r&&(i=e.c.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(ot(r,"./")||ot(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var s=[],o=0;o<r.length;){var a=r[o++];"."==a?i&&o==r.length&&s.push(""):".."==a?((1<s.length||1==s.length&&""!=s[0])&&s.pop(),i&&o==r.length&&s.push("")):(s.push(a),i=!0)}i=s.join("/")}else i=r}return n?e.c=i:n=""!==t.a.toString(),n?Nn(e,Jn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Bn=/[#\/\?@]/g,qn=/[#\?:]/g,zn=/[#\?]/g,Hn=/[#\?@]/g,Gn=/#/g;function Wn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function $n(t){t.a||(t.a=new kn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Kn(t){var e=Sn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Wn(null,void 0);t=En(t);for(var i=0;i<e.length;i++){var r=e[i],s=t[i];Array.isArray(s)?Xn(n,r,s):n.add(r,s)}return n}function Yn(t,e){$n(t),e=Zn(t,e),An(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,An((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&In(t)))}function Qn(t,e){return $n(t),e=Zn(t,e),An(t.a.b,e)}function Xn(t,e,n){Yn(t,e),0<n.length&&(t.c=null,t.a.set(Zn(t,e),Q(n)),t.b+=n.length)}function Jn(t){var e=new Wn;return e.c=t.c,t.a&&(e.a=new kn(t.a),e.b=t.b),e}function Zn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function ti(t){var e=[];return function t(e,n,i){if(null==n)i.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var r=n;n=r.length,i.push("[");for(var s="",o=0;o<n;o++)i.push(s),t(e,r[o],i),s=",";return void i.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(r in i.push("{"),s="",n)Object.prototype.hasOwnProperty.call(n,r)&&"function"!=typeof(o=n[r])&&(i.push(s),ri(r,i),i.push(":"),t(e,o,i),s=",");return void i.push("}")}n=n.valueOf()}switch(typeof n){case"string":ri(n,i);break;case"number":i.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":i.push(String(n));break;case"function":i.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new ei,t,e),e.join("")}function ei(){}(t=Wn.prototype).add=function(t,e){$n(this),this.c=null,t=Zn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){$n(this),this.a.forEach((function(n,i){q(n,(function(n){t.call(e,n,i,this)}),this)}),this)},t.X=function(){$n(this);for(var t=this.a.V(),e=this.a.X(),n=[],i=0;i<e.length;i++)for(var r=t[i],s=0;s<r.length;s++)n.push(e[i]);return n},t.V=function(t){$n(this);var e=[];if("string"==typeof t)Qn(this,t)&&(e=Y(e,this.a.get(Zn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=Y(e,t[n])}return e},t.set=function(t,e){return $n(this),this.c=null,Qn(this,t=Zn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.V(i);for(var s=0;s<i.length;s++){var o=r;""!==i[s]&&(o+="="+encodeURIComponent(String(i[s]))),t.push(o)}}return this.c=t.join("&")};var ni={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ii=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ri(t,e){e.push('"',t.replace(ii,(function(t){var e=ni[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ni[t]=e),e})),'"')}function si(){var t=Ci();return Wt&&!!ee&&11==ee||/Edge\/\d+/.test(t)}function oi(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function ai(t,e){e=e||a.window;var n="about:blank";t&&(n=Ot(Rt(t))),e.location.href=n}function li(t){return!!((t=(t||Ci()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function ci(t){t=t||a.window;try{t.close()}catch(e){}}function ui(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,s=(window.screen.availWidth-e)/2;for(o in e={width:e,height:n,top:0<r?r:0,left:0<s?s:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ci().toLowerCase(),i&&(e.target=i,ot(n,"crios/")&&(e.target="_blank")),bi(Ci())==_i&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof Tt?n:Rt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,r=[],t)switch(o){case"width":case"height":case"top":case"left":r.push(o+"="+t[o]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(o+"="+(t[o]?1:0))}var o=r.join(",");if((ut("iPhone")&&!ut("iPod")&&!ut("iPad")||ut("iPad")||ut("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(gt(o=he(document,"A"),"HTMLAnchorElement"),e instanceof Tt||e instanceof Tt||(e="object"==typeof e&&e.ra?e.qa():String(e),Dt.test(e)||(e="about:invalid#zClosurez"),e=new Tt(Pt,e)),o.href=Ot(e),o.setAttribute("target",n),t.noreferrer&&o.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),o.dispatchEvent(t),o={}):t.noreferrer?(o=i.open("",n,o),t=Ot(e),o&&(Kt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),o.opener=null,t=Vt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Bt(t)+'">'),i=o.document)&&(i.write(Mt(t)),i.close())):(o=i.open(Ot(e),n,o))&&t.noopener&&(o.opener=null),o)try{o.focus()}catch(a){}return o}var hi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,di=/^[^@]+@[^@]+$/;function pi(){var t=null;return new ve((function(e){"complete"==a.document.readyState?e():(t=function(){e()},ln(window,"load",t))})).o((function(e){throw cn(window,"load",t),e}))}function fi(t){return t=t||Ci(),!("file:"!==Ai()&&"ionic:"!==Ai()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function mi(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function gi(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function yi(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":gi()?"Worker":"Browser"}function vi(){var t=yi();return"ReactNative"===t||"Node"===t}var _i="Firefox";function bi(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?_i:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var wi={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function xi(t,e){e=e||[];var n,i=[],r={};for(n in wi)r[wi[n]]=!0;for(n=0;n<e.length;n++)void 0!==r[e[n]]&&(delete r[e[n]],i.push(e[n]));return i.sort(),(e=i).length||(e=["FirebaseCore-web"]),"Browser"===(i=yi())?i=bi(r=Ci()):"Worker"===i&&(i=bi(r=Ci())+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function Ci(){return a.navigator&&a.navigator.userAgent||""}function Ei(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Si(){try{var t=a.localStorage,e=Ni();if(t)return t.setItem(e,"1"),t.removeItem(e),!si()||!!a.indexedDB}catch(n){return gi()&&!!a.indexedDB}return!1}function ki(){return(Ii()||"chrome-extension:"===Ai()||fi())&&!vi()&&Si()&&!gi()}function Ii(){return"http:"===Ai()||"https:"===Ai()}function Ai(){return a.location&&a.location.protocol||null}function Ti(t){return!li(t=t||Ci())&&bi(t)!=_i}function Oi(t){return void 0===t?null:ti(t)}function Di(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Ri(t){if(null!==t)return JSON.parse(t)}function Ni(t){return t||Math.floor(1e9*Math.random()).toString()}function Pi(t){return"Safari"!=bi(t=t||Ci())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Fi(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Mi(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ci(),e=yi(),this.b=li(t)||"ReactNative"===e}function Li(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Vi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function ji(){return!(!Ei("fireauth.oauthhelper",a)&&!Ei("fireauth.iframe",a))}Mi.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Ii()&&"chrome-extension:"!==Ai()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Ui,Bi={};function qi(t){Bi[t]||(Bi[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var zi={};Object.defineProperty(zi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(zi,"abcd",{configurable:!0,enumerable:!0,value:2}),Ui=2==zi.abcd}catch(Ht){Ui=!1}function Hi(t,e,n){Ui?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Gi(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Hi(t,n,e[n])}function Wi(t){var e={};return Gi(e,t),e}function $i(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Hi(e,n,$i(t[n]));return e}function Ki(t){var e=t&&(t[Zi]?"phone":null);if(!(e&&t&&t[Ji]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");Hi(this,"uid",t[Ji]),Hi(this,"displayName",t[Qi]||null);var n=null;t[Xi]&&(n=new Date(t[Xi]).toUTCString()),Hi(this,"enrollmentTime",n),Hi(this,"factorId",e)}function Yi(t){try{var e=new tr(t)}catch(n){e=null}return e}Ki.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Qi="displayName",Xi="enrolledAt",Ji="mfaEnrollmentId",Zi="phoneInfo";function tr(t){Ki.call(this,t),Hi(this,"phoneNumber",t[Zi])}function er(t){var e={},n=t[sr],i=t[ar],r=t[lr];if(t=Yi(t[or]),!r||r!=ir&&r!=rr&&!n||r==rr&&!i||r==nr&&!t)throw Error("Invalid checkActionCode response!");r==rr?(e[ur]=n||null,e[dr]=n||null,e[cr]=i):(e[ur]=i||null,e[dr]=i||null,e[cr]=n||null),e[hr]=t||null,Hi(this,fr,r),Hi(this,pr,$i(e))}C(tr,Ki),tr.prototype.v=function(){var t=tr.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var nr="REVERT_SECOND_FACTOR_ADDITION",ir="EMAIL_SIGNIN",rr="VERIFY_AND_CHANGE_EMAIL",sr="email",or="mfaInfo",ar="newEmail",lr="requestType",cr="email",ur="fromEmail",hr="multiFactorInfo",dr="previousEmail",pr="data",fr="operation";function mr(t){var e=Fn(t=Mn(t),gr)||null,n=Fn(t,yr)||null,i=Fn(t,br)||null;if(i=i&&xr[i]||null,!e||!n||!i)throw new E("argument-error",gr+", "+yr+"and "+br+" are required in a valid action code URL.");Gi(this,{apiKey:e,operation:i,code:n,continueUrl:Fn(t,vr)||null,languageCode:Fn(t,_r)||null,tenantId:Fn(t,wr)||null})}var gr="apiKey",yr="oobCode",vr="continueUrl",_r="languageCode",br="mode",wr="tenantId",xr={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:nr,signIn:ir,verifyAndChangeEmail:rr,verifyEmail:"VERIFY_EMAIL"};function Cr(t){try{return new mr(t)}catch(e){return null}}function Er(t){var e=t[Tr];if(void 0===e)throw new E("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new E("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Sr];if(n&&"object"==typeof n){e=n[Rr];var i=n[Or];if(n=n[Dr],"string"==typeof e&&e.length){if(this.a=e,void 0!==i&&"boolean"!=typeof i)throw new E("argument-error",Or+" property must be a boolean when specified.");if(this.g=!!i,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new E("argument-error",Dr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new E("argument-error",Rr+" property must be a non empty string when specified.");if(void 0!==i||void 0!==n)throw new E("missing-android-pkg-name")}}else if(void 0!==n)throw new E("argument-error",Sr+" property must be a non null object when specified.");if(this.f=null,(e=t[Ar])&&"object"==typeof e){if("string"==typeof(e=e[Nr])&&e.length)this.f=e;else if(void 0!==e)throw new E("argument-error",Nr+" property must be a non empty string when specified.")}else if(void 0!==e)throw new E("argument-error",Ar+" property must be a non null object when specified.");if(void 0!==(e=t[Ir])&&"boolean"!=typeof e)throw new E("argument-error",Ir+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[kr])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new E("argument-error",kr+" property must be a non empty string when specified.");this.i=t||null}var Sr="android",kr="dynamicLinkDomain",Ir="handleCodeInApp",Ar="iOS",Tr="url",Or="installApp",Dr="minimumVersion",Rr="packageName",Nr="bundleId";function Pr(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Fr=null;function Mr(t){var e=Vr(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,x(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Lr(t){try{return new Mr(t)}catch(e){return null}}function Vr(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),r=Fr[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Fr){Fr={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var i=t.concat(e[n].split("")),r=0;r<i.length;r++){var s=i[r];void 0===Fr[s]&&(Fr[s]=r)}}}();for(var i=0;;){var r=n(-1),s=n(0),o=n(64),a=n(64);if(64===a&&-1===r)break;e(r<<2|s>>4),64!=o&&(e(s<<4&240|o>>2),64!=a&&e(o<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(i){}return null}Mr.prototype.S=function(){return this.f},Mr.prototype.i=function(){return this.b},Mr.prototype.toString=function(){return this.g};var jr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ur=["client_id","response_type","scope","redirect_uri","state"],Br={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Ur},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Ur},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Ur},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:jr},gd:{Ha:"locale",ta:600,sa:600,ea:"apple.com",Va:[]}};function qr(t){for(var e in Br)if(Br[e].ea==t)return Br[e];return null}function zr(t){var e={};e["facebook.com"]=Kr,e["google.com"]=Qr,e["github.com"]=Yr,e["twitter.com"]=Xr;var n=t&&t[Gr];try{if(n)return e[n]?new e[n](t):new $r(t);if(void 0!==t[Hr])return new Wr(t)}catch(i){}return null}var Hr="idToken",Gr="providerId";function Wr(t){var e=t[Gr];if(!e&&t[Hr]){var n=Lr(t[Hr]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Hi(this,"providerId",e),Hi(this,"isNewUser",n)}function $r(t){Wr.call(this,t),Hi(this,"profile",$i((t=Ri(t.rawUserInfo||"{}"))||{}))}function Kr(t){if($r.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Yr(t){if($r.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Hi(this,"username",this.profile&&this.profile.login||null)}function Qr(t){if($r.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Xr(t){if($r.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Hi(this,"username",t.screenName||null)}function Jr(t){var e=Mn(t),n=Fn(e,"link"),i=Fn(Mn(n),"link");return e=Fn(e,"deep_link_id"),Fn(Mn(e),"link")||e||i||n||t}function Zr(t,e){if(!t&&!e)throw new E("internal-error","Internal assert: no raw session string available");if(t&&e)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ts:es}C($r,Wr),C(Kr,$r),C(Yr,$r),C(Qr,$r),C(Xr,$r);var ts="enroll",es="signin";function ns(){}function is(t,e){return t.then((function(t){if(t[zo]){var n=Lr(t[zo]);if(!n||e!=n.h)throw new E("user-mismatch");return t}throw new E("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==I+"user-not-found"?new E("user-mismatch"):t}))}function rs(t,e){if(!e)throw new E("internal-error","failed to construct a credential");this.a=e,Hi(this,"providerId",t),Hi(this,"signInMethod",t)}function ss(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function os(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new rs(t.providerId,t.pendingToken)}catch(e){}return null}function as(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Hi(this,"idToken",e.idToken),e.accessToken&&Hi(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Hi(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");Hi(this,"accessToken",e.oauthToken),Hi(this,"secret",e.oauthTokenSecret)}Hi(this,"providerId",t),Hi(this,"signInMethod",n)}function ls(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Kn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function cs(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new as(t.providerId,e,t.signInMethod)}catch(n){}}return null}function us(t,e){this.Oc=e||[],Gi(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(qr(t)||{}).Ha||null,this.kb=null}function hs(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');us.call(this,t,[])}function ds(t){us.call(this,t,Ur),this.a=[]}function ps(){ds.call(this,"facebook.com")}function fs(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return f(t)&&(e=t.accessToken),(new ps).credential({accessToken:e})}function ms(){ds.call(this,"github.com")}function gs(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return f(t)&&(e=t.accessToken),(new ms).credential({accessToken:e})}function ys(){ds.call(this,"google.com"),this.Aa("profile")}function vs(t,e){var n=t;return f(t)&&(n=t.idToken,e=t.accessToken),(new ys).credential({idToken:n,accessToken:e})}function _s(){us.call(this,"twitter.com",jr)}function bs(t,e){var n=t;if(f(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new as("twitter.com",n,"twitter.com")}function ws(t,e,n){this.a=t,this.f=e,Hi(this,"providerId","password"),Hi(this,"signInMethod",n===Cs.EMAIL_LINK_SIGN_IN_METHOD?Cs.EMAIL_LINK_SIGN_IN_METHOD:Cs.EMAIL_PASSWORD_SIGN_IN_METHOD)}function xs(t){return t&&t.email&&t.password?new ws(t.email,t.password,t.signInMethod):null}function Cs(){Gi(this,{providerId:"password",isOAuthProvider:!1})}function Es(t,e){if(!(e=Ss(e)))throw new E("argument-error","Invalid email link!");return new ws(t,e.code,Cs.EMAIL_LINK_SIGN_IN_METHOD)}function Ss(t){return(t=Cr(t=Jr(t)))&&t.operation===ir?t:null}function ks(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new E("internal-error");this.a=t,Hi(this,"providerId","phone"),this.ea="phone",Hi(this,"signInMethod","phone")}function Is(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new ks(e)}return null}function As(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Ts(t){try{this.a=t||r.a.auth()}catch(e){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Gi(this,{providerId:"phone",isOAuthProvider:!1})}function Os(t,e){if(!t)throw new E("missing-verification-id");if(!e)throw new E("missing-verification-code");return new ks({bb:t,ab:e})}function Ds(t){if(t.temporaryProof&&t.phoneNumber)return new ks({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret,r=t&&t.nonce,s=t&&t.oauthIdToken,o=t&&t.pendingToken;try{switch(e){case"google.com":return vs(s,n);case"facebook.com":return fs(n);case"github.com":return gs(n);case"twitter.com":return bs(n,i);default:return n||i||s||o?o?0==e.indexOf("saml.")?new rs(e,o):new as(e,{pendingToken:o,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new ds(e).credential({idToken:s,accessToken:n,rawNonce:r}):null}}catch(a){return null}}function Rs(t){if(!t.isOAuthProvider)throw new E("invalid-oauth-provider")}function Ns(t,e,n,i,r,s,o){if(this.c=t,this.b=e||null,this.g=n||null,this.f=i||null,this.i=s||null,this.h=o||null,this.a=r||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function Ps(t){return(t=t||{}).type?new Ns(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&S(t.error),t.postBody,t.tenantId):null}function Fs(){this.b=null,this.a=[]}Zr.prototype.Fa=function(){return Se(this.a?this.a:this.b)},Zr.prototype.v=function(){return this.type==ts?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ns.prototype.ia=function(){},ns.prototype.b=function(){},ns.prototype.c=function(){},ns.prototype.v=function(){},rs.prototype.ia=function(t){return la(t,ss(this))},rs.prototype.b=function(t,e){var n=ss(this);return n.idToken=e,ca(t,n)},rs.prototype.c=function(t,e){return is(ua(t,ss(this)),e)},rs.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},as.prototype.ia=function(t){return la(t,ls(this))},as.prototype.b=function(t,e){var n=ls(this);return n.idToken=e,ca(t,n)},as.prototype.c=function(t,e){return is(ua(t,ls(this)),e)},as.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},us.prototype.Ia=function(t){return this.Fb=pt(t),this},C(hs,us),C(ds,us),ds.prototype.Aa=function(t){return W(this.a,t)||this.a.push(t),this},ds.prototype.Nb=function(){return Q(this.a)},ds.prototype.credential=function(t,e){var n;if(!(n=f(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new as(this.providerId,n,this.providerId)},C(ps,ds),Hi(ps,"PROVIDER_ID","facebook.com"),Hi(ps,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),C(ms,ds),Hi(ms,"PROVIDER_ID","github.com"),Hi(ms,"GITHUB_SIGN_IN_METHOD","github.com"),C(ys,ds),Hi(ys,"PROVIDER_ID","google.com"),Hi(ys,"GOOGLE_SIGN_IN_METHOD","google.com"),C(_s,us),Hi(_s,"PROVIDER_ID","twitter.com"),Hi(_s,"TWITTER_SIGN_IN_METHOD","twitter.com"),ws.prototype.ia=function(t){return this.signInMethod==Cs.EMAIL_LINK_SIGN_IN_METHOD?Ga(t,va,{email:this.a,oobCode:this.f}):Ga(t,Ua,{email:this.a,password:this.f})},ws.prototype.b=function(t,e){return this.signInMethod==Cs.EMAIL_LINK_SIGN_IN_METHOD?Ga(t,_a,{idToken:e,email:this.a,oobCode:this.f}):Ga(t,Ra,{idToken:e,email:this.a,password:this.f})},ws.prototype.c=function(t,e){return is(this.ia(t),e)},ws.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Gi(Cs,{PROVIDER_ID:"password"}),Gi(Cs,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Gi(Cs,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),ks.prototype.ia=function(t){return t.cb(As(this))},ks.prototype.b=function(t,e){var n=As(this);return n.idToken=e,Ga(t,qa,n)},ks.prototype.c=function(t,e){var n=As(this);return n.operation="REAUTH",is(t=Ga(t,za,n),e)},ks.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Ts.prototype.cb=function(t,e){var n=this.a.b;return Se(e.verify()).then((function(i){if("string"!=typeof i)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var r=f(t)?t.session:null,s=f(t)?t.phoneNumber:t;return(r&&r.type==ts?r.Fa().then((function(t){return function(t,e){return Ga(t,Pa,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:i}})})):r&&r.type==es?r.Fa().then((function(e){return function(t,e){return Ga(t,Fa,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:i}})})):function(t,e){return Ga(t,Oa,e)}(n,{phoneNumber:s,recaptchaToken:i})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Gi(Ts,{PROVIDER_ID:"phone"}),Gi(Ts,{PHONE_SIGN_IN_METHOD:"phone"}),Ns.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Ns.prototype.S=function(){return this.h},Ns.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Ms,Ls=null;function Vs(t){var e="unauthorized-domain",n=void 0,i=Mn(t);t=i.b,"chrome-extension"==(i=i.f)?n=Ut("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=Ut("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",E.call(this,e,n)}function js(t,e,n){E.call(this,t,n),(t=e||{}).Gb&&Hi(this,"email",t.Gb),t.da&&Hi(this,"phoneNumber",t.da),t.credential&&Hi(this,"credential",t.credential),t.Wb&&Hi(this,"tenantId",t.Wb)}function Us(t){if(t.code){var e=t.code||"";0==e.indexOf(I)&&(e=e.substring(I.length));var n={credential:Ds(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new E(e,t.message||void 0);return new js(e,n,t.message)}return null}function Bs(){}function qs(){}function zs(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(r){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Hs(){}function Gs(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.oc,this),this.a.onerror=b(this.Pb,this),this.a.onprogress=b(this.pc,this),this.a.ontimeout=b(this.tc,this)}function Ws(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function $s(t,e,n){this.reset(t,e,n,void 0,void 0)}function Ks(t){this.f=t,this.b=this.c=this.a=null}function Ys(t,e){this.name=t,this.value=e}C(Vs,E),C(js,E),js.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&mt(t,e),t},js.prototype.toJSON=function(){return this.v()},Bs.prototype.c=null,C(qs,Bs),qs.prototype.a=function(){var t=zs(this);return t?new ActiveXObject(t):new XMLHttpRequest},qs.prototype.b=function(){var t={};return zs(this)&&(t[0]=!0,t[1]=!0),t},Ms=new qs,C(Hs,Bs),Hs.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Gs;throw Error("Unsupported browser")},Hs.prototype.b=function(){return{}},(t=Gs.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ws(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",Ws(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,Ws(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},$s.prototype.a=null,$s.prototype.reset=function(t,e,n,i,r){i||x(),delete this.a},Ys.prototype.toString=function(){return this.name};var Qs=new Ys("SEVERE",1e3),Xs=new Ys("WARNING",900),Js=new Ys("CONFIG",700),Zs=new Ys("FINE",500);Ks.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(P("Root logger has no level set."),null)}(this).value)for(p(e)&&(e=e()),t=new $s(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var to={},eo=null;function no(t){var e;if(eo||(eo=new Ks(""),to[""]=eo,eo.c=Js),!(e=to[t])){e=new Ks(t);var n=t.lastIndexOf("."),i=t.substr(n+1);(n=no(t.substr(0,n))).b||(n.b={}),n.b[i]=e,e.a=n,to[t]=e}return e}function io(t,e){t&&t.log(Zs,e,void 0)}function ro(t){this.f=t}function so(t){vn.call(this),this.s=t,this.readyState=oo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=no("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}C(ro,Bs),ro.prototype.a=function(){return new so(this.f)},ro.prototype.b=function(t){return function(){return t}}({}),C(so,vn);var oo=0;function ao(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function lo(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,co(t)}function co(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function uo(t){vn.call(this),this.headers=new kn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=ho,this.w=this.R=!1}(t=so.prototype).open=function(t,e){if(this.readyState!=oo)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,co(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,lo(this,!1)),this.readyState=oo},t.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,co(this)),this.a&&(this.readyState=3,co(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,ao(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},t.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?lo(this,!0):co(this),3==this.readyState&&ao(this)}},t.rc=function(t){this.a&&(this.response=this.responseText=t,lo(this,!0))},t.qc=function(t){this.a&&(this.response=t,lo(this,!0))},t.Sa=function(t){var e=this.h;e&&e.log(Xs,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&lo(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Xs,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Xs,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},C(uo,vn);var ho="";uo.prototype.b=no("goog.net.XhrIo");var po=/^https?$/i,fo=["POST","PUT"];function mo(t){return"content-type"==t.toLowerCase()}function go(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,yo(t),_o(t)}function yo(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function vo(t){if(t.c&&void 0!==o)if(t.B[1]&&4==wo(t)&&2==xo(t))io(t.b,Co(t,"Local request error detected and ignored"));else if(t.i&&4==wo(t))xn(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==wo(t)){io(t.b,Co(t,"Request complete")),t.c=!1;try{var e,n=xo(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var s=String(t.l).match(Tn)[1]||null;if(!s&&a.self&&a.self.location){var l=a.self.location.protocol;s=l.substr(0,l.length-1)}r=!po.test(s?s.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<wo(t)?t.a.statusText:""}catch(u){io(t.b,"Can not get status: "+u.message),c=""}t.h=c+" ["+xo(t)+"]",yo(t)}}finally{_o(t)}}}function _o(t,e){if(t.a){bo(t);var n=t.a,i=t.B[0]?u:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){(t=t.b)&&t.log(Qs,"Problem encountered resetting onreadystatechange: "+r.message,void 0)}}}function bo(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function wo(t){return t.a?t.a.readyState:0}function xo(t){try{return 2<wo(t)?t.a.status:-1}catch(e){return-1}}function Co(t,e){return e+" ["+t.P+" "+t.l+" "+xo(t)+"]"}function Eo(t){var e=Fo;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function So(t,e,n){t.a=!0,t.c=n,t.f=!e,To(t)}function ko(t){if(t.a){if(!t.u)throw new Oo(t);t.u=!1}}function Io(t,e,n,i){t.g.push([e,n,i]),t.a&&To(t)}function Ao(t){return G(t.g,(function(t){return p(t[1])}))}function To(t){if(t.h&&t.a&&Ao(t)){var e=t.h,n=No[e];n&&(a.clearTimeout(n.a),delete No[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var i=n=!1;t.g.length&&!t.i;){var r=t.g.shift(),s=r[0],o=r[1];if(r=r[2],s=t.f?o:s)try{var l=s.call(r||t.s,e);void 0!==l&&(t.f=t.f&&(l==e||l instanceof Error),t.c=e=l),(D(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(i=!0,t.i=!0)}catch(c){e=c,t.f=!0,Ao(t)||(n=!0)}}t.c=e,i&&(l=b(t.m,t,!0),i=b(t.m,t,!1),e instanceof Eo?(Io(e,l,i),e.B=!0):e.then(l,i)),n&&(e=new Ro(e),No[e.a]=e,t.h=e.a)}function Oo(){R.call(this)}function Do(){R.call(this)}function Ro(t){this.a=a.setTimeout(b(this.c,this),0),this.b=t}(t=uo.prototype).Ka=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",io(this.b,Co(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(io(this.b,Co(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),_o(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),_o(this,!0)),uo.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?vo(this):this.Hc())},t.Hc=function(){vo(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ho:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Qs,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return io(this.b,"Can not get response: "+e.message),null}},Eo.prototype.cancel=function(t){if(this.a)this.c instanceof Eo&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Do(this),ko(this),So(this,!1,t))}},Eo.prototype.m=function(t,e){this.i=!1,So(this,t,e)},Eo.prototype.then=function(t,e,n){var i,r,s=new ve((function(t,e){i=t,r=e}));return Io(this,i,(function(t){t instanceof Do?s.cancel():r(t)})),s.then(t,e,n)},Eo.prototype.$goog_Thenable=!0,C(Oo,R),Oo.prototype.message="Deferred has already fired",Oo.prototype.name="AlreadyCalledError",C(Do,R),Do.prototype.message="Deferred was canceled",Do.prototype.name="CanceledError",Ro.prototype.c=function(){throw delete No[this.a],this.b};var No={};function Po(t){var e={},n=e.document||document,i=Ct(t).toString(),r=he(document,"SCRIPT"),s={Tb:r,Ka:void 0},o=new Eo(s),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){Mo(r,!0);var t=new jo(Vo,"Timeout reached for loading script "+i);ko(o),So(o,!1,t)}),h),s.Ka=u),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Mo(r,e.ud||!1,u),ko(o),So(o,!0,null))},r.onerror=function(){Mo(r,!0,u);var t=new jo(Lo,"Error while loading script "+i);ko(o),So(o,!1,t)},mt(s=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),oe(r,s),function(t,e){gt(t,"HTMLScriptElement"),t.src=Ct(e),null===c&&(c=(e=(e=a.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&l.test(e)?e:""),(e=c)&&t.setAttribute("nonce",e)}(r,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(r),o}function Fo(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Mo(t,!0,this.Ka)}}function Mo(t,e,n){null!=n&&a.clearTimeout(n),t.onload=u,t.onerror=u,t.onreadystatechange=u,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Lo=0,Vo=1;function jo(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),R.call(this,n),this.code=t}function Uo(t){this.f=t}function Bo(t,e,n){if(this.c=t,this.u=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ho,this.g=pt(t.secureTokenHeaders||Go),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Wo,this.a=pt(t.firebaseHeaders||$o),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==yi(),!(n=a.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!gi())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=gi()?new ro(self):vi()?new Uo(n):new Hs,this.b=null}C(jo,R),C(Uo,Bs),Uo.prototype.a=function(){return new this.f},Uo.prototype.b=function(){return{}};var qo,zo="idToken",Ho=new Mi(3e4,6e4),Go={"Content-Type":"application/x-www-form-urlencoded"},Wo=new Mi(3e4,6e4),$o={"Content-Type":"application/json"};function Ko(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Yo(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Qo(t,e,n,i,r,s,o){(function(){var t=Ci();return!((t="Chrome"!=bi(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Wt&&ee&&!(9<ee))})()||gi()?t=b(t.w,t):(qo||(qo=new ve((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[Jo]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Io(t,null,e,void 0)}(Po(Et(Xo,{onload:Jo})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=b(t.s,t)),t(e,n,i,r,s,o)}Bo.prototype.S=function(){return this.b},Bo.prototype.w=function(t,e,n,i,r,s){if(gi()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var o=new uo(this.f);if(s){o.g=Math.max(0,s);var l=setTimeout((function(){o.dispatchEvent("timeout")}),s)}_n(o,"complete",(function(){l&&clearTimeout(l);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return io(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),bn(o,"ready",(function(){l&&clearTimeout(l),qe(this)})),bn(o,"timeout",(function(){l&&clearTimeout(l),qe(this),e&&e(null)})),function(t,e,n,i,r){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():Ms.a(),t.B=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Ms),t.a.onreadystatechange=b(t.Sb,t);try{io(t.b,Co(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(o){return io(t.b,Co(t,"Error opening Xhr: "+o.message)),void go(t,o)}e=i||"";var s=new kn(t.headers);r&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)q(t,e,void 0);else for(var n=Sn(t),i=En(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}(r,(function(t,e){s.set(e,t)})),r=function(t){t:{for(var e=mo,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(s.X()),i=a.FormData&&e instanceof a.FormData,!W(fo,n)||r||i||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{bo(t),0<t.g&&(t.w=function(t){return Wt&&ie(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),io(t.b,Co(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ka,t)):t.s=xn(t.Ka,t.g,t)),io(t.b,Co(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(o){io(t.b,Co(t,"Send error: "+o.message)),go(t,o)}}(o,t,n,i,r)};var Xo=new yt(bt,"https://apis.google.com/js/client.js?onload=%{onload}"),Jo="__fcb"+Math.floor(1e6*Math.random()).toString();function Zo(t){if("string"!=typeof(t=t.email)||!di.test(t))throw new E("invalid-email")}function ta(t){"email"in t&&Zo(t)}function ea(t){if(!t[zo]){if(t.mfaPendingCredential)throw new E("multi-factor-auth-required",null,pt(t));throw new E("internal-error")}}function na(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new E("internal-error")}else{if(!t.sessionInfo)throw new E("missing-verification-id");if(!t.code)throw new E("missing-verification-code")}}Bo.prototype.s=function(t,e,n,i,r){var s=this;qo.then((function(){window.gapi.client.setApiKey(s.c);var o=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(o),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Bo.prototype.vb=function(){return Ga(this,Na,{})},Bo.prototype.xb=function(t,e){return Ga(this,Da,{idToken:t,email:e})},Bo.prototype.yb=function(t,e){return Ga(this,Ra,{idToken:t,password:e})};var ia={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ra(t){if(!t.phoneVerificationInfo)throw new E("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new E("missing-verification-code")}function sa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new E("internal-error")}function oa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Qn(t=new Wn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function aa(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Us(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Us(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Us(t)):t.errorMessage&&(e=Wa(t.errorMessage)),e)throw e;ea(t)}function la(t,e){return e.returnIdpCredential=!0,Ga(t,Ma,e)}function ca(t,e){return e.returnIdpCredential=!0,Ga(t,Va,e)}function ua(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ga(t,La,e)}function ha(t){if(!t.oobCode)throw new E("invalid-action-code")}(t=Bo.prototype).zb=function(t,e){var n={idToken:t},i=[];return ht(ia,(function(t,r){var s=e[r];null===s?i.push(t):r in e&&(n[r]=s)})),i.length&&(n.deleteAttribute=i),Ga(this,Da,n)},t.rb=function(t,e){return mt(t={requestType:"PASSWORD_RESET",email:t},e),Ga(this,ka,t)},t.sb=function(t,e){return mt(t={requestType:"EMAIL_SIGNIN",email:t},e),Ga(this,Ca,t)},t.qb=function(t,e){return mt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ga(this,Ea,t)},t.Ab=function(t,e,n){return mt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Ga(this,Sa,t)},t.cb=function(t){return Ga(this,Ba,t)},t.jb=function(t,e){return Ga(this,Ta,{oobCode:t,newPassword:e})},t.Pa=function(t){return Ga(this,pa,{oobCode:t})},t.fb=function(t){return Ga(this,da,{oobCode:t})};var da={endpoint:"setAccountInfo",A:ha,Y:"email",C:!0},pa={endpoint:"resetPassword",A:ha,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new E("internal-error")},C:!0},fa={endpoint:"signupNewUser",A:function(t){if(Zo(t),!t.password)throw new E("weak-password")},G:ea,U:!0,C:!0},ma={endpoint:"createAuthUri",C:!0},ga={endpoint:"deleteAccount",M:["idToken"]},ya={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=h(t.deleteProvider))throw new E("internal-error")}},va={endpoint:"emailLinkSignin",M:["email","oobCode"],A:Zo,G:ea,U:!0,C:!0},_a={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:Zo,G:ea,U:!0},ba={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:ra,G:ea,C:!0,La:!0},wa={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:ra,G:ea,C:!0,La:!0},xa={endpoint:"getAccountInfo"},Ca={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new E("internal-error");Zo(t)},Y:"email",C:!0},Ea={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new E("internal-error")},Y:"email",C:!0},Sa={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new E("internal-error")},Y:"email",C:!0},ka={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new E("internal-error");Zo(t)},Y:"email",C:!0},Ia={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Aa={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new E("internal-error")}},Ta={endpoint:"resetPassword",A:ha,Y:"email",C:!0},Oa={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Da={endpoint:"setAccountInfo",M:["idToken"],A:ta,U:!0},Ra={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(ta(t),!t.password)throw new E("weak-password")},G:ea,U:!0},Na={endpoint:"signupNewUser",G:ea,U:!0,C:!0},Pa={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new E("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new E("internal-error")},C:!0,La:!0},Fa={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new E("internal-error")},C:!0,La:!0},Ma={endpoint:"verifyAssertion",A:sa,Wa:oa,G:aa,U:!0,C:!0},La={endpoint:"verifyAssertion",A:sa,Wa:oa,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new E("user-not-found");if(t.errorMessage)throw Wa(t.errorMessage);ea(t)},U:!0,C:!0},Va={endpoint:"verifyAssertion",A:function(t){if(sa(t),!t.idToken)throw new E("internal-error")},Wa:oa,G:aa,U:!0},ja={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new E("invalid-custom-token")},G:ea,U:!0,C:!0},Ua={endpoint:"verifyPassword",A:function(t){if(Zo(t),!t.password)throw new E("wrong-password")},G:ea,U:!0,C:!0},Ba={endpoint:"verifyPhoneNumber",A:na,G:ea,C:!0},qa={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new E("internal-error");na(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Us(t);ea(t)}},za={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:na,G:ea,C:!0},Ha={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[zo]^!!t.refreshToken)throw new E("internal-error")},C:!0,La:!0};function Ga(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(null==i||""===i)return!1}return!0}(n,e.M))return ke(new E("internal-error"));var i,r=!!e.La,s=e.Rb||"POST";return Se(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,i,r,s,o){var a=Mn(e+n);Pn(a,"key",t.c),o&&Pn(a,"cb",x().toString());var l="GET"==i;if(l)for(var c in r)r.hasOwnProperty(c)&&Pn(a,c,r[c]);return new ve((function(e,n){Qo(t,a.toString(),(function(t){t?t.error?n($a(t,s||{})):e(t):n(new E("network-request-failed"))}),i,l?void 0:ti(Di(r)),t.a,t.i.get())}))}(t,r?t.l:t.h,e.endpoint,s,n,e.Eb,e.hb||!1)})).then((function(t){return i=t,e.Wa?e.Wa(n,i):i})).then(e.G).then((function(){if(!e.Y)return i;if(!(e.Y in i))throw new E("internal-error");return i[e.Y]}))}function Wa(t){return $a({error:{errors:[{message:t}],code:400,message:t}})}function $a(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new E(i[n]):null)return n;for(var r in n=t.error&&t.error.message||"",mt(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===n.indexOf(r))return new E(i[r],e);return!e&&t&&(e=Oi(t)),new E("internal-error",e)}function Ka(t){this.b=t,this.a=null,this.nb=function(t){return(Ja||(Ja=new ve((function(t,e){function n(){Fi(),Ei("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Fi(),e(Error("Network Error"))},timeout:Qa.get()})}if(Ei("gapi.iframes.Iframe"))t();else if(Ei("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[i]=function(){Ei("gapi.load")?n():e(Error("Network Error"))},Se(Po(i=Et(Ya,{onload:i}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw Ja=null,t})))).then((function(){return new ve((function(e,n){Ei("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ei("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(i){function r(){clearTimeout(s),e()}t.a=i,t.a.restyle({setHideOnLeave:!1});var s=setTimeout((function(){n(Error("Network Error"))}),Xa.get());i.ping(r).then(r,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Ya=new yt(bt,"https://apis.google.com/js/api.js?onload=%{onload}"),Qa=new Mi(3e4,6e4),Xa=new Mi(5e3,15e3),Ja=null;function Za(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Ln(this.i,"/__/auth/iframe"),Pn(this.a,"apiKey",this.g),Pn(this.a,"appName",this.h),this.b=null,this.c=[]}function tl(t,e,n,i,r){this.s=t,this.m=e,this.c=n,this.u=i,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function el(t){try{return r.a.app(t).auth().Ea()}catch(e){return[]}}function nl(t,e,n,i,r){this.u=t,this.f=e,this.b=n,this.c=i||null,this.h=r||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function il(t){var e=oi();return function(t){return Ga(t,Ia,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Mn(e),i=n.f;n=n.b;for(var r=0;r<t.length;r++){var s=t[r],o=n,a=i;if(0==s.indexOf("chrome-extension://")?o=Mn(s).b==o&&"chrome-extension"==a:"http"!=a&&"https"!=a?o=!1:hi.test(s)?o=o==s:(s=s.split(".").join("\\."),o=new RegExp("^(.+\\."+s+"|"+s+")$","i").test(o)),o){t=!0;break t}}t=!1}if(!t)throw new Vs(oi())}))}function rl(t){return t.l?t.l:(t.l=pi().then((function(){if(!t.s){var e=t.c,n=t.h,i=el(t.b),r=new Za(t.u,t.f,t.b);r.f=e,r.b=n,r.c=Q(i||[]),t.s=r.toString()}t.i=new Ka(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,Ei("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=Ps(e.authEvent),n=0;n<t.g.length;n++)i=t.g[n](e)||i;return(n={}).status=i?"ACK":"ERROR",Se(n)}return n.status="ERROR",Se(n)}))}(t)})),t.l)}function sl(t){return t.m||(t.w=t.c?xi(t.c,el(t.b)):null,t.m=new Bo(t.f,O(t.h),t.w)),t.m}function ol(t,e,n,i,r,s,o,a,l,c,u){return(t=new tl(t,e,n,i,r)).l=s,t.g=o,t.i=a,t.b=pt(l||null),t.f=c,t.ub(u).toString()}function al(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ll(t){this.b=t,this.a={},this.f=b(this.c,this)}Za.prototype.toString=function(){return this.f?Pn(this.a,"v",this.f):Yn(this.a.a,"v"),this.b?Pn(this.a,"eid",this.b):Yn(this.a.a,"eid"),this.c.length?Pn(this.a,"fw",this.c.join(",")):Yn(this.a.a,"fw"),this.a.toString()},tl.prototype.ub=function(t){return this.h=t,this},tl.prototype.toString=function(){var t=Ln(this.s,"/__/auth/handler");if(Pn(t,"apiKey",this.m),Pn(t,"appName",this.c),Pn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().ja()}catch(l){n=null}for(var i in e.kb=n,Pn(t,"providerId",this.a.providerId),n=Di((e=this.a).Fb))n[i]=n[i].toString();i=e.Oc,n=pt(n);for(var s=0;s<i.length;s++){var o=i[s];o in n&&delete n[o]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),dt(n)||Pn(t,"customParameters",Oi(n))}if("function"==typeof this.a.Nb&&(e=this.a.Nb()).length&&Pn(t,"scopes",e.join(",")),this.l?Pn(t,"redirectUrl",this.l):Yn(t.a,"redirectUrl"),this.g?Pn(t,"eventId",this.g):Yn(t.a,"eventId"),this.i?Pn(t,"v",this.i):Yn(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Fn(t,a)&&Pn(t,a,this.b[a]);return this.h?Pn(t,"tid",this.h):Yn(t.a,"tid"),this.f?Pn(t,"eid",this.f):Yn(t.a,"eid"),(a=el(this.c)).length&&Pn(t,"fw",a.join(",")),t.toString()},(t=nl.prototype).Lb=function(t,e,n){var i=new E("popup-closed-by-user"),r=new E("web-storage-unsupported"),s=this,o=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return rl(t).then((function(){return function(t,e){return t.nb.then((function(){return new ve((function(n){t.a.send(e.type,e,n,Ei("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(s).then((function(n){n||(t&&ci(t),e(r),o=!0)}))})).o((function(){})).then((function(){if(!o)return function(t){return new ve((function(e){return function n(){Cn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!o)return Cn(n).then((function(){e(i)}))}))},t.Ub=function(){var t=Ci();return!Ti(t)&&!Pi(t)},t.Qb=function(){return!1},t.Jb=function(t,e,n,i,r,s,o,a){if(!t)return ke(new E("popup-blocked"));if(o&&!Ti())return this.ka().o((function(e){ci(t),r(e)})),i(),Se();this.a||(this.a=il(sl(this)));var l=this;return this.a.then((function(){var e=l.ka().o((function(e){throw ci(t),r(e),e}));return i(),e})).then((function(){Rs(n),o||ai(ol(l.u,l.f,l.b,e,n,null,s,l.c,void 0,l.h,a),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(l.a=null),t}))},t.Kb=function(t,e,n,i){this.a||(this.a=il(sl(this)));var r=this;return this.a.then((function(){Rs(e),ai(ol(r.u,r.f,r.b,t,e,oi(),n,r.c,void 0,r.h,i))})).o((function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t}))},t.ka=function(){var t=this;return rl(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new E("network-request-failed")}))},t.Xb=function(){return!0},t.Ca=function(t){this.g.push(t)},t.Qa=function(t){K(this.g,(function(e){return e==t}))},(t=al.prototype).get=function(t){return Se(this.a.getItem(t)).then((function(t){return t&&Ri(t)}))},t.set=function(t,e){return Se(this.a.setItem(t,Oi(e)))},t.T=function(t){return Se(this.a.removeItem(t))},t.ba=function(){},t.ha=function(){};var cl,ul=[];function hl(t,e,n){dt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function dl(t){this.a=t}function pl(t){this.c=t,this.b=!1,this.a=[]}function fl(t,e,n,i){var r,s,o,a,l=n||{},c=null;if(t.b)return ke(Error("connection_unavailable"));var u=i?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ve((function(n,i){h?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),o=setTimeout((function(){i(Error("unsupported_event"))}),u),t.a.push(c={messageChannel:h,onMessage:s=function(t){t.data.eventId===r&&("ack"===t.data.status?(clearTimeout(o),a=setTimeout((function(){i(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):i(Error("unknown_error"))):(clearTimeout(o),clearTimeout(a),i(Error("invalid_response"))))}}),h.port1.addEventListener("message",s),t.c.postMessage({eventType:e,eventId:r,data:l},[h.port2])):i(Error("connection_unavailable"))})).then((function(e){return ml(t,c),e})).o((function(e){throw ml(t,c),e}))}function ml(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),K(t.a,(function(t){return t==e}))}}function gl(){if(!vl())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=a.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;gi()&&self?(this.l=function(){var t=gi()?self:null;if(q(ul,(function(n){n.b==t&&(e=n)})),!e){var e=new ll(t);ul.push(e)}return e}(),hl(this.l,"keyChanged",(function(e,n){return Cl(t).then((function(e){return 0<e.length&&q(t.a,(function(t){t(e)})),{keyProcessed:W(e,n.key)}}))})),hl(this.l,"ping",(function(){return Se(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?Se().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Se(null)}().then((function(e){(t.h=e)&&(t.g=new pl(new dl(e)),fl(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&W(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function yl(t){return t.m||(t.m=function t(e){return new ve((function(n,i){var r=e.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}i(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){i(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(r):function(t){return new ve((function(e,n){var i=t.u.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){e()},i.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).o((function(t){i(t)}))}}))}(t)),t.m}function vl(){try{return!!a.indexedDB}catch(Ht){return!1}}function _l(t){return t.objectStore("firebaseLocalStorage")}function bl(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function wl(t){return new ve((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function xl(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?fl(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Se()}function Cl(t){return yl(t).then((function(t){var e=_l(bl(t,!1));return e.getAll?wl(e.getAll()):new ve((function(t,n){var i=[],r=e.openCursor();r.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},r.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},i=[];if(0==t.b){for(i=0;i<e.length;i++)n[e[i].fbase_key]=e[i].value;i=function t(e,n){var i,r=[];for(i in e)i in n?typeof e[i]!=typeof n[i]?r.push(i):"object"==typeof e[i]&&null!=e[i]&&null!=n[i]?0<t(e[i],n[i]).length&&r.push(i):e[i]!==n[i]&&r.push(i):r.push(i);for(i in n)i in e||r.push(i);return r}(t.c,n),t.c=n}return i}))}function El(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Sl(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Se().then((function(){if(vl()){var t=Ni(),i="__sak"+t;return cl||(cl=new gl),(n=cl).set(i,t).then((function(){return n.get(i)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(i)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){q(e.a,(function(e){e(t)}))})),t}))}function kl(){this.a={},this.type="inMemory"}function Il(){if(!function(){var t="Node"==yi();if(!(t=Al()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==yi())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Al()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Al(){try{var t=a.localStorage,e=Ni();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Tl(){this.type="nullStorage"}function Ol(){if(!function(){var t="Node"==yi();if(!(t=Dl()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==yi())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Dl()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Dl(){try{var t=a.sessionStorage,e=Ni();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Rl(){var t={};t.Browser=Fl,t.Node=Ml,t.ReactNative=Ll,t.Worker=Vl,this.a=t[yi()]}ll.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,i=this.a[e];if(i&&0<i.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var r=[];q(i,(function(e){r.push(Se().then((function(){return e(t.origin,t.data.data)})))})),Ae(r).then((function(i){var r=[];q(i,(function(t){r.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),q(r,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:r})}))}},dl.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},pl.prototype.close=function(){for(;0<this.a.length;)ml(this,this.a[0]);this.b=!0},(t=gl.prototype).set=function(t,e){var n,i=!1,r=this;return yl(this).then((function(e){return wl((e=_l(bl(n=e,!0))).get(t))})).then((function(s){var o=_l(bl(n,!0));return s?(s.value=e,wl(o.put(s))):(r.b++,i=!0,(s={}).fbase_key=t,s.value=e,wl(o.add(s)))})).then((function(){return r.c[t]=e,xl(r,t)})).ma((function(){i&&r.b--}))},t.get=function(t){return yl(this).then((function(e){return wl(_l(bl(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return yl(this).then((function(i){return e=!0,n.b++,wl(_l(bl(i,!0)).delete(t))})).then((function(){return delete n.c[t],xl(n,t)})).ma((function(){e&&n.b--}))},t.ba=function(t){0==this.a.length&&function(t){El(t),function e(){t.f=setTimeout((function(){t.i=Cl(t).then((function(e){0<e.length&&q(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ha=function(t){K(this.a,(function(e){return e==t})),0==this.a.length&&El(this)},(t=Sl.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ba=function(t){this.a.push(t)},t.ha=function(t){K(this.a,(function(e){return e==t}))},(t=kl.prototype).get=function(t){return Se(this.a[t])},t.set=function(t,e){return this.a[t]=e,Se()},t.T=function(t){return delete this.a[t],Se()},t.ba=function(){},t.ha=function(){},(t=Il.prototype).get=function(t){var e=this;return Se().then((function(){return Ri(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var i=Oi(e);null===i?n.T(t):n.a.setItem(t,i)}))},t.T=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ba=function(t){a.window&&on(a.window,"storage",t)},t.ha=function(t){a.window&&cn(a.window,"storage",t)},(t=Tl.prototype).get=function(){return Se(null)},t.set=function(){return Se()},t.T=function(){return Se()},t.ba=function(){},t.ha=function(){},(t=Ol.prototype).get=function(t){var e=this;return Se().then((function(){return Ri(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var i=Oi(e);null===i?n.T(t):n.a.setItem(t,i)}))},t.T=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ba=function(){},t.ha=function(){};var Nl,Pl,Fl={F:Il,$a:Ol},Ml={F:Il,$a:Ol},Ll={F:al,$a:Tl},Vl={F:Il,$a:Tl},jl={od:"local",NONE:"none",qd:"session"};function Ul(){var t=!(Pi(Ci())||!mi()),e=Ti(),n=Si();this.m=t,this.h=e,this.l=n,this.a={},Nl||(Nl=new Rl),t=Nl;try{this.g=!si()&&ji()||!a.indexedDB?new t.a.F:new Sl(gi()?new kl:new t.a.F)}catch(i){this.g=new kl,this.h=!0}try{this.i=new t.a.$a}catch(i){this.i=new kl}this.u=new kl,this.f=b(this.Vb,this),this.b={}}function Bl(){return Pl||(Pl=new Ul),Pl}function ql(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function zl(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Hl(t,e,n){return n=zl(e,n),"local"==e.F&&(t.b[n]=null),ql(t,e.F).T(n)}function Gl(t){t.c&&(clearInterval(t.c),t.c=null)}function Wl(t){this.a=t,this.b=Bl()}(t=Ul.prototype).get=function(t,e){return ql(this,t.F).get(zl(t,e))},t.set=function(t,e,n){var i=zl(t,n),r=this,s=ql(this,t.F);return s.set(i,e).then((function(){return s.get(i)})).then((function(e){"local"==t.F&&(r.b[i]=e)}))},t.addListener=function(t,e,n){t=zl(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),dt(this.a)&&(ql(this,"local").ba(this.f),this.h||(si()||!ji())&&a.indexedDB||!this.l||function(t){Gl(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),i=t.b[e];n!=i&&(t.b[e]=n,n=new Ke({type:"storage",key:e,target:window,oldValue:i,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=zl(t,e),this.a[t]&&(K(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),dt(this.a)&&(ql(this,"local").ha(this.f),Gl(this))},t.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var i=this.b[n];void 0===i&&(i=null);var r=a.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?ql(this,"local").ha(this.f):Gl(this),this.m)if(n=a.localStorage.getItem(e),(i=t.a.newValue)!==n)null!==i?a.localStorage.setItem(e,i):a.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var s=this;n=function(){void 0===t.a.a&&s.b[e]===a.localStorage.getItem(e)||(s.b[e]=a.localStorage.getItem(e),s.ib(e))},Wt&&ee&&10==ee&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else q(t,b(this.ib,this))},t.ib=function(t){this.a[t]&&q(this.a[t],(function(t){t()}))};var $l,Kl={name:"authEvent",F:"local"};function Yl(){this.a=Bl()}function Ql(t,e){this.b=Xl,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===$l&&($l=a.Int32Array?new Int32Array(rc):rc),this.reset()}C(Ql,(function(){this.b=-1}));for(var Xl=64,Jl=Xl-1,Zl=[],tc=0;tc<Jl;tc++)Zl[tc]=0;var ec=Y(128,Zl);function nc(t){for(var e=t.f,n=t.l,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;64>e;e++){var s=(0|n[e-16])+(((r=0|n[e-15])>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,o=(0|n[e-7])+(((i=0|n[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=s+o|0}i=0|t.a[0],r=0|t.a[1];var a=0|t.a[2],l=0|t.a[3],c=0|t.a[4],u=0|t.a[5],h=0|t.a[6];for(s=0|t.a[7],e=0;64>e;e++){var d=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&a^r&a)|0;o=(s=s+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((o=(o=c&u^~c&h)+(0|$l[e])|0)+(0|n[e])|0)|0,s=h,h=u,u=c,c=l+o|0,l=a,a=r,r=i,i=o+d|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+l|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+u|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+s|0}function ic(t,e,n){void 0===n&&(n=e.length);var i=0,r=t.c;if("string"==typeof e)for(;i<n;)t.f[r++]=e.charCodeAt(i++),r==t.b&&(nc(t),r=0);else{if(!d(e))throw Error("message must be string or array");for(;i<n;){var s=e[i++];if(!("number"==typeof s&&0<=s&&255>=s&&s==(0|s)))throw Error("message must be a byte array");t.f[r++]=s,r==t.b&&(nc(t),r=0)}}t.c=r,t.g+=n}Ql.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Q(this.h)};var rc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function sc(){Ql.call(this,8,oc)}C(sc,Ql);var oc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function ac(t,e,n,i,r){this.u=t,this.i=e,this.l=n,this.m=i||null,this.s=r||null,this.h=e+":"+n,this.w=new Yl,this.g=new Wl(this.h),this.f=null,this.b=[],this.a=this.c=null}function lc(t){return new E("invalid-cordova-configuration",t)}function cc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(i){}}function uc(t){return t.f||(t.f=t.ka().then((function(){return new ve((function(e){t.Ca((function n(i){return e(i),t.Qa(n),!1})),function(t){function e(e){i=!0,r&&r.cancel(),hc(t).then((function(i){var r=n;if(i&&e&&e.url){var s=null;-1!=(r=Jr(e.url)).indexOf("/__/auth/callback")&&(s=(s="object"==typeof(s=Ri(Fn(s=Mn(r),"firebaseError")||null))?S(s):null)?new Ns(i.c,i.b,null,null,s,null,i.S()):new Ns(i.c,i.b,r,i.f,null,null,i.S())),r=s||n}cc(t,r)}))}var n=new Ns("unknown",null,null,null,new E("no-auth-event")),i=!1,r=Cn(500).then((function(){return hc(t).then((function(){i||cc(t,n)}))})),s=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ei("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof s)try{s(t)}catch(n){console.error(n)}},Ls||(Ls=new Fs),function(t){var e=Ls;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Ei("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function hc(t){var e=null;return function(t){return t.b.get(Kl,t.a).then((function(t){return Ps(t)}))}(t.g).then((function(n){return e=n,Hl((n=t.g).b,Kl,n.a)})).then((function(){return e}))}function dc(t){this.a=t,this.b=Bl()}(t=ac.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(fi(void 0)?pi().then((function(){return new ve((function(t,e){var n=a.document,i=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(i),t()}),!1)}))})):ke(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Ei("universalLinks.subscribe",a))throw lc("cordova-universal-links-plugin-fix is not installed");if(void 0===Ei("BuildInfo.packageName",a))throw lc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ei("cordova.plugins.browsertab.openUrl",a))throw lc("cordova-plugin-browsertab is not installed");if("function"!=typeof Ei("cordova.InAppBrowser.open",a))throw lc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new E("cordova-not-ready")}))},t.Lb=function(t,e){return e(new E("operation-not-supported-in-this-environment")),Se()},t.Jb=function(){return ke(new E("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(t,e,n,i){if(this.c)return ke(new E("redirect-operation-pending"));var r=this,s=a.document,o=null,l=null,c=null,u=null;return this.c=Se().then((function(){return Rs(e),uc(r)})).then((function(){return function(t,e,n,i,r){var s=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),o=new Ns(e,i,null,s,new E("no-auth-event"),null,r),l=Ei("BuildInfo.packageName",a);if("string"!=typeof l)throw new E("invalid-cordova-configuration");var c=Ei("BuildInfo.displayName",a),u={};if(Ci().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=l;else{if(!Ci().toLowerCase().match(/android/))return ke(new E("operation-not-supported-in-this-environment"));u.apn=l}c&&(u.appDisplayName=c),s=function(t){var e=new sc;ic(e,t),t=[];var n=8*e.g;ic(e,ec,56>e.c?56-e.c:e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(nc(e),i=n=0;i<e.i;i++)for(var r=24;0<=r;r-=8)t[n++]=e.a[i]>>r&255;return function(t){return H(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(s),u.sessionId=s;var h=ol(t.u,t.i,t.l,e,n,null,i,t.m,u,t.s,r);return t.ka().then((function(){var e=t.h;return t.w.a.set(Kl,o.v(),e)})).then((function(){var e=Ei("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new E("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Ei("cordova.plugins.browsertab.openUrl",a)))throw new E("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Ei("cordova.InAppBrowser.open",a)))throw new E("invalid-cordova-configuration");e=Ci(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(r,t,e,n,i)})).then((function(){return new ve((function(t,e){l=function(){var e=Ei("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.Ca(l),u=function(){Li()&&c()},s.addEventListener("resume",c=function(){o||(o=Cn(2e3).then((function(){e(new E("redirect-cancelled-by-user"))})))},!1),Ci().toLowerCase().match(/android/)||s.addEventListener("visibilitychange",u,!1)})).o((function(t){return hc(r).then((function(){throw t}))}))})).ma((function(){c&&s.removeEventListener("resume",c,!1),u&&s.removeEventListener("visibilitychange",u,!1),o&&o.cancel(),l&&r.Qa(l),r.c=null}))},t.Ca=function(t){this.b.push(t),uc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Ns("unknown",null,null,null,new E("no-auth-event")),t(e))}))},t.Qa=function(t){K(this.b,(function(e){return e==t}))};var pc={name:"pendingRedirect",F:"session"};function fc(t){return Hl(t.b,pc,t.a)}function mc(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Tc,this.B=new Pc,this.g=new dc(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=gc(this.D,this.u,this.m,k)}function gc(t,e,n,i){var s=r.a.SDK_VERSION||null;return fi()?new ac(t,e,n,s,i):new nl(t,e,n,s,i)}function yc(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function vc(t){t.a.Ub()&&yc(t).o((function(e){var n=new Ns("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Ec(e)&&t.s(n)})),t.a.Qb()||Oc(t.b)}function _c(t,e){W(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(pc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?fc(t.g).then((function(){yc(t).o((function(e){var n=new Ns("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Ec(e)&&t.s(n)}))})):vc(t)})).o((function(){vc(t)}))}function bc(t,e){K(t.h,(function(t){return t==e}))}mc.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=gc(this.D,this.u,this.m),this.i={}},mc.prototype.s=function(t){if(!t)throw new E("invalid-auth-event");if(6e5<=x()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,i),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=x())),e=!0;break}}return Oc(this.b),e};var wc=new Mi(2e3,1e4),xc=new Mi(3e4,6e4);function Cc(t,e,n,i,r,s,o){return t.a.Jb(e,n,i,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),r,s,o)}function Ec(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Sc(t,e,n,i,r){var s;return function(t){return t.b.set(pc,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,i,r).o((function(e){if(Ec(e))throw new E("operation-not-supported-in-this-environment");return s=e,fc(t.g).then((function(){throw s}))})).then((function(){return t.a.Xb()?new ve((function(){})):fc(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function kc(t,e,n,i,r){return t.a.Lb(i,(function(t){e.la(n,null,t,r)}),wc.get())}mc.prototype.pa=function(){return this.b.pa()};var Ic={};function Ac(t,e,n){var i=e+":"+n;return Ic[i]||(Ic[i]=new mc(t,e,n)),Ic[i]}function Tc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Oc(t){t.g||(t.g=!0,Nc(t,!1,null,null))}function Dc(t){t.g&&!t.i&&Nc(t,!1,null,null)}function Rc(t,e){if(t.b=function(){return Se(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Nc(t,e,n,i){e?i?function(t,e){if(t.b=function(){return ke(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,i):Rc(t,n):Rc(t,{user:null}),t.f=[],t.c=[]}function Pc(){}function Fc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function Mc(t,e){this.a=e,Hi(this,"verificationId",t)}function Lc(t,e,n,i){return new Ts(t).cb(e,n).then((function(t){return new Mc(t,i)}))}function Vc(t){var e=Vr(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Gi(this,{token:t,expirationTime:Vi(1e3*e.exp),authTime:Vi(1e3*e.auth_time),issuedAtTime:Vi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function jc(t,e,n){var i=e&&e[Bc];if(!i)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=pt(e),this.g=n,this.c=new Zr(null,i),this.b=[];var r=this;q(e[Uc]||[],(function(t){(t=Yi(t))&&r.b.push(t)})),Hi(this,"auth",this.a),Hi(this,"session",this.c),Hi(this,"hints",this.b)}Tc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Tc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,i=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,s=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!r&&!s),"unknown"!=n||r||s?t.a?(Nc(this,!0,null,t.a),Se()):e.Da(n,i)?function(t,e,n){n=n.Da(e.c,e.b);var i=e.g,r=e.f,s=e.i,o=e.S(),a=!!e.c.match(/Redirect$/);n(i,r,o,s).then((function(e){Nc(t,a,e,null)})).o((function(e){Nc(t,a,null,e)}))}(this,t,e):ke(new E("invalid-auth-event")):(Nc(this,!1,null,null),Se())}else ke(new E("invalid-auth-event"))},Tc.prototype.pa=function(){var t=this;return new ve((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new E("timeout");t.a&&t.a.cancel(),t.a=Cn(xc.get()).then((function(){t.b||(t.g=!0,Nc(t,!0,null,e))}))}(t))}))},Pc.prototype.h=function(t,e){if(t){var n=t.c,i=t.b;t.a?(e.la(t.c,null,t.a,t.b),Se()):e.Da(n,i)?function(t,e){var n=t.b,i=t.c;e.Da(i,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(i,t,null,n)})).o((function(t){e.la(i,null,t,n)}))}(t,e):ke(new E("invalid-auth-event"))}else ke(new E("invalid-auth-event"))},Mc.prototype.confirm=function(t){return t=Os(this.verificationId,t),this.a(t)};var Uc="mfaInfo",Bc="mfaPendingCredential";function qc(t,e,n,i){E.call(this,"multi-factor-auth-required",i,e),this.b=new jc(t,e,n),Hi(this,"resolver",this.b)}function zc(t,e,n){if(t&&f(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new qc(e,t.serverResponse,n,t.message)}catch(i){}return null}function Hc(){}function Gc(t){Hi(this,"factorId",t.ea),this.a=t}function Wc(t){if(Gc.call(this,t),this.a.ea!=Ts.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function $c(t,e){for(var n in $e.call(this,t),e)this[n]=e[n]}function Kc(t,e){this.a=t,this.b=[],this.c=b(this.wc,this),on(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&q(e.multiFactor.enrolledFactors,(function(t){var e=null,i={};if(t){t.uid&&(i[Ji]=t.uid),t.displayName&&(i[Qi]=t.displayName),t.enrollmentTime&&(i[Xi]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(i[Zi]=t.phoneNumber);try{e=new tr(i)}catch(r){}t=e}else t=null;t&&n.push(t)})),Yc(this,n)}function Yc(t,e){t.b=e,Hi(t,"enrolledFactors",e)}function Qc(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Xc(t){this.c=t,this.b=this.a=null}function Jc(t){return t.b&&1e3*t.b.c||0}function Zc(t,e){var n=e.refreshToken;t.b=Lr(e[zo]||""),t.a=n}function tu(t,e){this.a=t||null,this.b=e||null,Gi(this,{lastSignInTime:Vi(e||null),creationTime:Vi(t||null)})}function eu(t,e,n,i,r,s){Gi(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:s||null,providerId:e})}function nu(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=r.a.SDK_VERSION?xi(r.a.SDK_VERSION):null,this.a=new Bo(this.l,O(k),t),this.b=new Xc(this.a),cu(this,e[zo]),Zc(this.b,e),Hi(this,"refreshToken",this.b.a),du(this,n||{}),vn.call(this),this.P=!1,this.s&&ki()&&(this.i=Ac(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new Qc((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=Jc(t.b)-x()-3e5;return 0<e?e:0}))}(this),this.Z=b(this.Ma,this);var i=this;this.oa=null,this.za=function(t){i.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){ru(i,t.c)},this.$=null,this.O=new Kc(this,n),Hi(this,"multiFactor",this.O)}function iu(t,e){t.aa&&cn(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&on(e,"languageCodeChanged",t.za)}function ru(t,e){t.W=e,Yo(t.a,r.a.SDK_VERSION?xi(r.a.SDK_VERSION,t.W):null)}function su(t,e){t.$&&cn(t.$,"frameworkChanged",t.ya),(t.$=e)&&on(e,"frameworkChanged",t.ya)}function ou(t){try{return r.a.app(t.m).auth()}catch(e){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function au(t){t.D||t.B.b||(t.B.start(),cn(t,"tokenChanged",t.Z),on(t,"tokenChanged",t.Z))}function lu(t){cn(t,"tokenChanged",t.Z),t.B.stop()}function cu(t,e){t.xa=e,Hi(t,"_lat",e)}function uu(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Ae(e).then((function(){return t}))}function hu(t){t.i&&!t.P&&(t.P=!0,_c(t.i,t))}function du(t,e){Gi(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new tu(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function pu(){}function fu(t){return Se().then((function(){if(t.D)throw new E("app-deleted")}))}function mu(t){return H(t.providerData,(function(t){return t.providerId}))}function gu(t,e){e&&(yu(t,e.providerId),t.providerData.push(e))}function yu(t,e){K(t.providerData,(function(t){return t.providerId==e}))}function vu(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Hi(t,e,n)}function _u(t,e){t!=e&&(Gi(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Hi(t,"metadata",e.metadata?function(t){return new tu(t.a,t.b)}(e.metadata):new tu),q(e.providerData,(function(e){gu(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Hi(t,"refreshToken",t.b.a),Yc(t.O,e.O.b))}function bu(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Ga(t.a,xa,{idToken:e}).then(b(t.Ic,t))}(t,e).then((function(){return n||vu(t,"isAnonymous",!1),e}))}))}function wu(t,e){e[zo]&&t.xa!=e[zo]&&(Zc(t.b,e),t.dispatchEvent(new $c("tokenChanged")),cu(t,e[zo]),vu(t,"refreshToken",t.b.a))}function xu(t,e){return bu(t).then((function(){if(W(mu(t),e))return uu(t).then((function(){throw new E("provider-already-linked")}))}))}function Cu(t,e,n){return Wi({user:t,credential:Ds(e),additionalUserInfo:e=zr(e),operationType:n})}function Eu(t,e){return wu(t,e),t.reload().then((function(){return t}))}function Su(t,e,n,i,s){if(!ki())return ke(new E("operation-not-supported-in-this-environment"));if(t.h&&!s)return ke(t.h);var o=qr(n.providerId),a=Ni(t.uid+":::"),l=null;(!Ti()||mi())&&t.s&&n.isOAuthProvider&&(l=ol(t.s,t.l,t.m,e,n,null,a,r.a.SDK_VERSION||null,null,null,t.tenantId));var c=ui(l,o&&o.ta,o&&o.sa);return i=i().then((function(){if(Iu(t),!s)return t.I().then((function(){}))})).then((function(){return Cc(t.i,c,e,n,a,!!l,t.tenantId)})).then((function(){return new ve((function(n,i){t.la(e,null,new E("cancelled-popup-request"),t.g||null),t.f=n,t.w=i,t.g=a,t.c=kc(t.i,t,e,c,a)}))})).then((function(t){return c&&ci(c),t?Wi(t):null})).o((function(t){throw c&&ci(c),t})),Au(t,i,s)}function ku(t,e,n,i,r){if(!ki())return ke(new E("operation-not-supported-in-this-environment"));if(t.h&&!r)return ke(t.h);var s=null,o=Ni(t.uid+":::");return i=i().then((function(){if(Iu(t),!r)return t.I().then((function(){}))})).then((function(){return t.fa=o,uu(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(Du,t.v(),e.a)),e})).then((function(){return Sc(t.i,e,n,o,t.tenantId)})).o((function(e){if(s=e,t.ga)return Ru(t.ga);throw s})).then((function(){if(s)throw s})),Au(t,i,r)}function Iu(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new E("internal-error");throw new E("auth-domain-config-required")}}function Au(t,e,n){var i=function(t,e,n){return t.h&&!n?(e.cancel(),ke(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new $c("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(i),i.ma((function(){$(t.N,i)})),i.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=zc(e.v(),ou(t),b(t.hc,t))),n||e}))}function Tu(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[zo]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var i=new nu(e,n,t);return t.providerData&&q(t.providerData,(function(t){t&&gu(i,Wi(t))})),t.redirectEventId&&(i.fa=t.redirectEventId),i}function Ou(t){this.a=t,this.b=Bl()}jc.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=pt(e.f);return delete n[Uc],delete n[Bc],mt(n,t),e.g(n)}))},C(qc,E),Hc.prototype.ob=function(t,e,n){return e.type==ts?function(t,e,n,i){return n.Fa().then((function(n){return n={idToken:n},void 0!==i&&(n.displayName=i),mt(n,{phoneVerificationInfo:As(t.a)}),Ga(e,ba,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return mt(n={mfaPendingCredential:n},{phoneVerificationInfo:As(t.a)}),Ga(e,wa,n)}))}(this,t,e)},C(Gc,Hc),C(Wc,Gc),C($c,$e),(t=Kc.prototype).wc=function(t){Yc(this,function(t){var e=[];return q(t.mfaInfo||[],(function(t){(t=Yi(t))&&e.push(t)})),e}(t.ed))},t.Ob=function(){return this.a.I().then((function(t){return new Zr(t,null)}))},t.dc=function(t,e){var n=this,i=this.a.a;return this.Ob().then((function(n){return t.ob(i,n,e)})).then((function(t){return wu(n.a,t),n.a.reload()}))},t.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,i=this.a.a;return this.a.I().then((function(t){return Ga(i,Ha,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var i=z(e.b,(function(t){return t.uid!=n}));return Yc(e,i),wu(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.v=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(t){return t.v()}))}}},Qc.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=Cn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=a.document,e=null;return Li()||!t?Se():new ve((function(n){e=function(){Li()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},Qc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Xc.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:Jc(this)}},Xc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?ke(new E("user-token-expired")):t||!this.b||x()>Jc(this)-3e4?this.a?function(t,e){return function(t,e){return new ve((function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Qo(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?i($a(t)):t.access_token&&t.refresh_token?n(t):i(new E("internal-error")):i(new E("network-request-failed"))}),"POST",Kn(e).toString(),t.g,t.m.get()):i(new E("internal-error"))}))}(t.c,e).then((function(e){return t.b=Lr(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Se(null):Se({accessToken:this.b.toString(),refreshToken:this.a})},tu.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},C(nu,vn),nu.prototype.va=function(t){this.oa=t,Ko(this.a,t)},nu.prototype.ja=function(){return this.oa},nu.prototype.Ea=function(){return Q(this.W)},nu.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Hi(nu.prototype,"providerId","firebase"),(t=nu.prototype).reload=function(){var t=this;return Au(this,fu(this).then((function(){return bu(t).then((function(){return uu(t)})).then(pu)})))},t.mc=function(t){return this.I(t).then((function(t){return new Vc(t)}))},t.I=function(t){var e=this;return Au(this,fu(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new E("internal-error");return t.accessToken!=e.xa&&(cu(e,t.accessToken),e.dispatchEvent(new $c("tokenChanged"))),vu(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Ic=function(t){if(!(t=t.users)||!t.length)throw new E("internal-error");du(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?H(t,(function(t){return new eu(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)gu(this,e[n]);vu(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new $c("userReloaded",{ed:t}))},t.Jc=function(t){return qi("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Au(this,t.c(this.a,this.uid).then((function(t){return wu(e,t),n=Cu(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Ac=function(t){return qi("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},t.mb=function(t){var e=this,n=null;return Au(this,xu(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Cu(e,t,"link"),Eu(e,t)})).then((function(){return n})))},t.Bc=function(t,e){var n=this;return Au(this,xu(this,"phone").then((function(){return Lc(ou(n),t,e,b(n.mb,n))})))},t.Kc=function(t,e){var n=this;return Au(this,Se().then((function(){return Lc(ou(n),t,e,b(n.pb,n))})),!0)},t.xb=function(t){var e=this;return Au(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return wu(e,t),e.reload()})))},t.cd=function(t){var e=this;return Au(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return wu(e,t),e.reload()})))},t.yb=function(t){var e=this;return Au(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return wu(e,t),e.reload()})))},t.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return fu(this);var e=this;return Au(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return wu(e,t),vu(e,"displayName",t.displayName||null),vu(e,"photoURL",t.photoUrl||null),q(e.providerData,(function(t){"password"===t.providerId&&(Hi(t,"displayName",e.displayName),Hi(t,"photoURL",e.photoURL))})),uu(e)})).then(pu))},t.ad=function(t){var e=this;return Au(this,bu(this).then((function(n){return W(mu(e),t)?function(t,e,n){return Ga(t,ya,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return q(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),q(mu(e),(function(t){n[t]||yu(e,t)})),n[Ts.PROVIDER_ID]||Hi(e,"phoneNumber",null),uu(e)})):uu(e).then((function(){throw new E("no-such-provider")}))})))},t.delete=function(){var t=this;return Au(this,this.I().then((function(e){return Ga(t.a,ga,{idToken:e})})).then((function(){t.dispatchEvent(new $c("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");iu(t,null),su(t,null),t.N=[],t.D=!0,lu(t),Hi(t,"refreshToken",null),t.i&&bc(t.i,t)}))},t.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},t.la=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?b(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?b(this.Ib,this):null},t.Cc=function(t){var e=this;return Su(this,"linkViaPopup",t,(function(){return xu(e,t.providerId).then((function(){return uu(e)}))}),!1)},t.Lc=function(t){return Su(this,"reauthViaPopup",t,(function(){return Se()}),!0)},t.Dc=function(t){var e=this;return ku(this,"linkViaRedirect",t,(function(){return xu(e,t.providerId)}),!1)},t.Mc=function(t){return ku(this,"reauthViaRedirect",t,(function(){return Se()}),!0)},t.Hb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var s=null;return Au(this,this.I().then((function(n){return ca(r.a,{requestUri:t,postBody:i,sessionId:e,idToken:n})})).then((function(t){return s=Cu(r,t,"link"),Eu(r,t)})).then((function(){return s})))},t.Ib=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var s=null;return Au(this,Se().then((function(){return is(ua(r.a,{requestUri:t,sessionId:e,postBody:i,tenantId:n}),r.uid)})).then((function(t){return s=Cu(r,t,"reauthenticate"),wu(r,t),r.h=null,r.reload()})).then((function(){return s})),!0)},t.qb=function(t){var e=this,n=null;return Au(this,this.I().then((function(e){return n=e,void 0===t||dt(t)?{}:Pr(new Er(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Ab=function(t,e){var n=this,i=null;return Au(this,this.I().then((function(t){return i=t,void 0===e||dt(e)?{}:Pr(new Er(e))})).then((function(e){return n.a.Ab(i,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.hc=function(t){var e=null,n=this;return Au(this,t=is(Se(t),n.uid).then((function(t){return e=Cu(n,t,"reauthenticate"),wu(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.v()},t.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&mt(t,this.metadata.v()),q(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),mt(t,this.O.v()),t};var Du={name:"redirectUser",F:"session"};function Ru(t){return Hl(t.b,Du,t.a)}function Nu(t){this.a=t,this.b=Bl(),this.c=null,this.f=function(t){var e=Mu("local"),n=Mu("session"),i=Mu("none");return function(t,e,n){var i=zl(e,n),r=ql(t,e.F);return t.get(e,n).then((function(s){var o=null;try{o=Ri(a.localStorage.getItem(i))}catch(l){}if(o&&!s)return a.localStorage.removeItem(i),t.set(e,o,n);o&&s&&"localStorage"!=r.type&&a.localStorage.removeItem(i)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(r){return r?n:t.b.get(i,t.a).then((function(n){return n?i:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Fu,t.a).then((function(t){return t?Mu(t):e}))}))}))})).then((function(e){return t.c=e,Pu(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Mu("local"),this.a,b(this.g,this))}function Pu(t,e){var n,i=[];for(n in jl)jl[n]!==e&&i.push(Hl(t.b,Mu(jl[n]),t.a));return i.push(Hl(t.b,Fu,t.a)),function(t){return new ve((function(e,n){var i=t.length,r=[];if(i)for(var s=function(t,n){i--,r[t]=n,0==i&&e(r)},o=function(t){n(t)},a=0;a<t.length;a++)Ie(t[a],w(s,a),o);else e(r)}))}(i)}Nu.prototype.g=function(){var t=this,e=Mu("local");Uu(this,(function(){return Se().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Pu(t,"local").then((function(){t.c=e}))}))}))};var Fu={name:"persistence",F:"session"};function Mu(t){return{name:"authUser",F:t}}function Lu(t,e){return Uu(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function Vu(t){return Uu(t,(function(){return Hl(t.b,t.c,t.a)}))}function ju(t,e){return Uu(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Tu(t||{})}))}))}function Uu(t,e){return t.f=t.f.then(e,e),t.f}function Bu(t){if(this.l=!1,Hi(this,"settings",new Fc),Hi(this,"app",t),!Ku(this).options||!Ku(this).options.apiKey)throw new E("invalid-api-key");t=r.a.SDK_VERSION?xi(r.a.SDK_VERSION):null,this.b=new Bo(Ku(this).options&&Ku(this).options.apiKey,O(k),t),this.P=[],this.m=[],this.O=[],this.$b=r.a.INTERNAL.createSubscribe(b(this.xc,this)),this.W=void 0,this.ac=r.a.INTERNAL.createSubscribe(b(this.yc,this)),Wu(this,null),this.i=new Nu(Ku(this).options.apiKey+":"+Ku(this).name),this.B=new Ou(Ku(this).options.apiKey+":"+Ku(this).name),this.Z=Ju(this,function(t){var e=Ku(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Du,t.a).then((function(t){return t&&e&&(t.authDomain=e),Tu(t||{})}))}(t.B,Ku(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),Ru(t.B)}));return Ju(t,e)}(t).then((function(){return ju(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return Lu(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Vu(t.i)}))):null})).then((function(e){Wu(t,e||null)}));return Ju(t,n)}(this)),this.h=Ju(this,function(t){return t.Z.then((function(){return Gu(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Mu("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=b(this.Xc,this),this.Ma=b(this.ca,this),this.xa=b(this.jc,this),this.ya=b(this.uc,this),this.za=b(this.vc,this),this.a=null,function(t){var e=Ku(t).options.authDomain,n=Ku(t).options.apiKey;e&&ki()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=Ac(e,n,Ku(t).name),_c(t.a,t),Yu(t)&&hu(Yu(t)),t.D){hu(t.D);var i=t.D;i.va(t.ja()),iu(i,t),ru(i=t.D,t.N),su(i,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Ec,this),this.s=0,vn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function qu(t){$e.call(this,"languageCodeChanged"),this.g=t}function zu(t){$e.call(this,"frameworkChanged"),this.c=t}function Hu(t){return t.Zb||ke(new E("auth-domain-config-required"))}function Gu(t){if(!ki())return ke(new E("operation-not-supported-in-this-environment"));var e=Hu(t).then((function(){return t.a.pa()})).then((function(t){return t?Wi(t):null}));return Ju(t,e)}function Wu(t,e){Yu(t)&&(function(t,e){K(t.R,(function(t){return t==e}))}(Yu(t),t.Ma),cn(Yu(t),"tokenChanged",t.xa),cn(Yu(t),"userDeleted",t.ya),cn(Yu(t),"userInvalidated",t.za),lu(Yu(t))),e&&(e.R.push(t.Ma),on(e,"tokenChanged",t.xa),on(e,"userDeleted",t.ya),on(e,"userInvalidated",t.za),0<t.s&&au(e)),Hi(t,"currentUser",e),e&&(e.va(t.ja()),iu(e,t),ru(e,t.N),su(e,t))}function $u(t,e){var n=null,i=null;return Ju(t,e.then((function(e){return n=Ds(e),i=zr(e),function(t,e){var n={};return n.apiKey=Ku(t).options.apiKey,n.authDomain=Ku(t).options.authDomain,n.appName=Ku(t).name,t.Z.then((function(){return function(t,e,n,i){var r=new nu(t,e);return n&&(r.ga=n),i&&ru(r,i),r.reload().then((function(){return r}))}(n,e,t.B,t.Ea())})).then((function(e){return Yu(t)&&e.uid==Yu(t).uid?(_u(Yu(t),e),t.ca(e)):(Wu(t,e),hu(e),t.ca(e))})).then((function(){Xu(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=zc(e.v(),t,b(t.ic,t))),n||e})).then((function(){return Wi({user:Yu(t),credential:n,additionalUserInfo:i,operationType:"signIn"})})))}function Ku(t){return t.app}function Yu(t){return t.currentUser}function Qu(t){return Yu(t)&&Yu(t)._lat||null}function Xu(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Qu(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](Qu(t))}}function Ju(t,e){return t.P.push(e),e.ma((function(){$(t.P,e)})),e}function Zu(){}function th(){this.a={},this.b=1e12}Nu.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");t:{for(i in jl)if(jl[i]==t){var i=!0;break t}i=!1}if(!i||"string"!=typeof t)throw e;switch(yi()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!Si()&&"none"!==t)throw n}}(t),Uu(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(i){return e=i,Pu(n,t)})).then((function(){if(n.c=Mu(t),e)return n.b.set(n.c,e,n.a)})):Se()}))},C(Bu,vn),C(qu,$e),C(zu,$e),(t=Bu.prototype).tb=function(t){return Ju(this,t=this.i.tb(t))},t.va=function(t){this.$===t||this.l||(this.$=t,Ko(this.b,this.$),this.dispatchEvent(new qu(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var t=a.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.Ec=function(t){this.N.push(t),Yo(this.b,r.a.SDK_VERSION?xi(r.a.SDK_VERSION,this.N):null),this.dispatchEvent(new zu(this.N))},t.Ea=function(){return Q(this.N)},t.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},t.S=function(){return this.R},t.toJSON=function(){return{apiKey:Ku(this).options.apiKey,authDomain:Ku(this).options.authDomain,appName:Ku(this).name,currentUser:Yu(this)&&Yu(this).v()}},t.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.la=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.gc,this):null},t.gc=function(t,e,n,i){var r=this,s={requestUri:t,postBody:i,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),r.Z.then((function(){return $u(r,la(r.b,s))}))},t.Vc=function(t){if(!ki())return ke(new E("operation-not-supported-in-this-environment"));var e=this,n=qr(t.providerId),i=Ni(),s=null;(!Ti()||mi())&&Ku(this).options.authDomain&&t.isOAuthProvider&&(s=ol(Ku(this).options.authDomain,Ku(this).options.apiKey,Ku(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null,null,null,this.S()));var o=ui(s,n&&n.ta,n&&n.sa);return Ju(this,n=Hu(this).then((function(n){return Cc(n,o,"signInViaPopup",t,i,!!s,e.S())})).then((function(){return new ve((function(t,n){e.la("signInViaPopup",null,new E("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=i,e.c=kc(e.a,e,"signInViaPopup",o,i)}))})).then((function(t){return o&&ci(o),t?Wi(t):null})).o((function(t){throw o&&ci(o),t})))},t.Wc=function(t){if(!ki())return ke(new E("operation-not-supported-in-this-environment"));var e=this;return Ju(this,Hu(this).then((function(){return function(t){return Uu(t,(function(){return t.b.set(Fu,t.c.F,t.a)}))}(e.i)})).then((function(){return Sc(e.a,"signInViaRedirect",t,void 0,e.S())})))},t.pa=function(){var t=this;return Gu(this).then((function(e){return t.a&&Dc(t.a.b),e})).o((function(e){throw t.a&&Dc(t.a.b),e}))},t.bd=function(t){if(!t)return ke(new E("null-user"));if(this.R!=t.tenantId)return ke(new E("tenant-id-mismatch"));var e=this,n={};n.apiKey=Ku(this).options.apiKey,n.authDomain=Ku(this).options.authDomain,n.appName=Ku(this).name;var i=function(t,e,n,i){var r=t.b,s={};return s[zo]=r.b&&r.b.toString(),s.refreshToken=r.a,e=new nu(e||{apiKey:t.l,authDomain:t.s,appName:t.m},s),n&&(e.ga=n),i&&ru(e,i),_u(e,t),e}(t,n,e.B,e.Ea());return Ju(this,this.h.then((function(){if(Ku(e).options.apiKey!=t.l)return i.reload()})).then((function(){return Yu(e)&&t.uid==Yu(e).uid?(_u(Yu(e),t),e.ca(t)):(Wu(e,i),hu(i),e.ca(i))})).then((function(){Xu(e)})))},t.wb=function(){var t=this;return Ju(this,this.h.then((function(){return t.a&&Dc(t.a.b),Yu(t)?(Wu(t,null),Vu(t.i).then((function(){Xu(t)}))):Se()})))},t.Xc=function(){var t=this;return ju(this.i,Ku(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=Yu(t)&&e){n=Yu(t).uid;var i=e.uid;n=null!=n&&""!==n&&null!=i&&""!==i&&n==i}if(n)return _u(Yu(t),e),Yu(t).I();(Yu(t)||e)&&(Wu(t,e),e&&(hu(e),e.ga=t.B),t.a&&_c(t.a,t),Xu(t))}}))},t.ca=function(t){return Lu(this.i,t)},t.jc=function(){Xu(this),this.ca(Yu(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()},t.ic=function(t){var e=this;return this.h.then((function(){return $u(e,Se(t))}))},t.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(Yu(e))}))},t.yc=function(t){var e=this;!function(t,e){t.O.push(e),Ju(t,t.h.then((function(){!t.l&&W(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(Qu(t)))})))}(this,(function(){t.next(Yu(e))}))},t.Gc=function(t,e,n){var i=this;return this.aa&&Promise.resolve().then((function(){p(t)?t(Yu(i)):p(t.next)&&t.next(Yu(i))})),this.$b(t,e,n)},t.Fc=function(t,e,n){var i=this;return this.aa&&Promise.resolve().then((function(){i.W=i.getUid(),p(t)?t(Yu(i)):p(t.next)&&t.next(Yu(i))})),this.ac(t,e,n)},t.kc=function(t){var e=this;return Ju(this,this.h.then((function(){return Yu(e)?Yu(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Rc=function(t){var e=this;return this.h.then((function(){return $u(e,Ga(e.b,ja,{token:t}))})).then((function(t){var n=t.user;return vu(n,"isAnonymous",!1),e.ca(n),t}))},t.Sc=function(t,e){var n=this;return this.h.then((function(){return $u(n,Ga(n.b,Ua,{email:t,password:e}))}))},t.cc=function(t,e){var n=this;return this.h.then((function(){return $u(n,Ga(n.b,fa,{email:t,password:e}))}))},t.Ya=function(t){var e=this;return this.h.then((function(){return $u(e,t.ia(e.b))}))},t.Qc=function(t){return qi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},t.vb=function(){var t=this;return this.h.then((function(){var e=Yu(t);if(e&&e.isAnonymous){var n=Wi({providerId:null,isNewUser:!1});return Wi({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return $u(t,t.b.vb()).then((function(e){var n=e.user;return vu(n,"isAnonymous",!0),t.ca(n),e}))}))},t.getUid=function(){return Yu(this)&&Yu(this).uid||null},t.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&Yu(this)&&au(Yu(this))},t.Nc=function(t){var e=this;q(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&Yu(this)&&lu(Yu(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),Ju(this,this.h.then((function(){e.l||W(e.m,t)&&t(Qu(e))})))},t.removeAuthTokenListener=function(t){K(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Mu("local"),t.a,this.oa),this.a&&(bc(this.a,this),Dc(this.a.b)),Promise.resolve()},t.fc=function(t){return Ju(this,function(t,e){return Ga(t,ma,{identifier:e,continueUri:Ii()?oi():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.zc=function(t){return!!Ss(t)},t.sb=function(t,e){var n=this;return Ju(this,Se().then((function(){var t=new Er(e);if(!t.c)throw new E("argument-error",Ir+" must be true when sending sign in link to email");return Pr(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},t.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},t.jb=function(t,e){return Ju(this,this.b.jb(t,e).then((function(){})))},t.Pa=function(t){return Ju(this,this.b.Pa(t).then((function(t){return new er(t)})))},t.fb=function(t){return Ju(this,this.b.fb(t).then((function(){})))},t.rb=function(t,e){var n=this;return Ju(this,Se().then((function(){return void 0===e||dt(e)?{}:Pr(new Er(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},t.Uc=function(t,e){return Ju(this,Lc(this,t,e,b(this.Ya,this)))},t.Tc=function(t,e){var n=this;return Ju(this,Se().then((function(){var i=e||oi(),r=Es(t,i);if(!(i=Ss(i)))throw new E("argument-error","Invalid email link!");if(i.tenantId!==n.S())throw new E("tenant-id-mismatch");return n.Ya(r)})))},Zu.prototype.render=function(){},Zu.prototype.reset=function(){},Zu.prototype.getResponse=function(){},Zu.prototype.execute=function(){};var eh=null;function nh(t,e){return(e=ih(e))&&t.a[e]||null}function ih(t){return(t=void 0===t?1e12:t)?t.toString():null}function rh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=se(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():on(this.f,"click",this.i)}function sh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function oh(){}function ah(){}th.prototype.render=function(t,e){return this.a[this.b.toString()]=new rh(t,e),this.b++},th.prototype.reset=function(t){var e=nh(this,t);t=ih(t),e&&t&&(e.delete(),delete this.a[t])},th.prototype.getResponse=function(t){return(t=nh(this,t))?t.getResponse():null},th.prototype.execute=function(t){(t=nh(this,t))&&t.execute()},rh.prototype.getResponse=function(){return sh(this),this.b},rh.prototype.execute=function(){sh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(i){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(i){}t.h&&t.execute()}),6e4)}),500))},rh.prototype.delete=function(){sh(this),this.g=!0,clearTimeout(this.a),this.a=null,cn(this.f,"click",this.i)},Hi(oh,"FACTOR_ID","phone"),ah.prototype.g=function(){return eh||(eh=new th),Se(eh)},ah.prototype.c=function(){};var lh=null;function ch(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var uh=new yt(bt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),hh=new Mi(3e4,6e4);ch.prototype.g=function(t){var e=this;return new ve((function(n,i){var r=setTimeout((function(){i(new E("network-request-failed"))}),hh.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var s=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=s(t,n),e.b++,t},clearTimeout(r),n(a.grecaptcha)}else clearTimeout(r),i(new E("internal-error"));delete a[e.a]},Se(Po(Et(uh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(r),i(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(r),n(a.grecaptcha))}))},ch.prototype.c=function(){this.b--};var dh=null;function ph(t,e,n,i,r,s,o){if(Hi(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,o?(lh||(lh=new ah),o=lh):(dh||(dh=new ch),o=dh),this.m=o,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[gh])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[yh],!a.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!se(e)||!this.i&&se(e).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Bo(t,s||null,r||null),this.w=i||function(){return null};var l=this;this.l=[];var c=this.a[fh];this.a[fh]=function(t){if(vh(l,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Ei(c,a);"function"==typeof e&&e(t)}};var u=this.a[mh];this.a[mh]=function(){if(vh(l,null),"function"==typeof u)u();else if("string"==typeof u){var t=Ei(u,a);"function"==typeof t&&t()}}}var fh="callback",mh="expired-callback",gh="sitekey",yh="size";function vh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(i){}}function _h(t,e){return t.h.push(e),e.ma((function(){$(t.h,e)})),e}function bh(t){if(t.D)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function wh(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(a){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var s=this,o=null;try{o=this.b.auth().Ea()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=r.a.SDK_VERSION?xi(r.a.SDK_VERSION,o):null,ph.call(this,n,t,e,(function(){try{var t=s.b.auth().ja()}catch(e){t=null}return t}),o,O(k),i)}function xh(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var r=0,s=!1,o=0;o<e.length;o++)if(e[o].optional)s=!0;else{if(s)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(s=e.length,n.length<r||s<n.length)i="Expected "+(r==s?1==r?"1 argument":r+" arguments":r+"-"+s+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(s=e[r].optional&&void 0===n[r],!e[r].K(n[r])&&!s){if(e=e[r],0>r||r>=Ch.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=Ch[r],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}i=null}}if(i)throw new E("argument-error",t+" failed: "+i)}(t=ph.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=_h(this,Se().then((function(){if(Ii()&&!gi())return pi();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,Ga(t.s,Aa,{})})).then((function(e){t.a[gh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){bh(this);var t=this;return _h(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=se(e);e=function(t,e,n){var i=arguments,r=document,s=String(i[0]),o=i[1];if(!re&&o&&(o.name||o.type)){if(s=["<",s],o.name&&s.push(' name="',Bt(o.name),'"'),o.type){s.push(' type="',Bt(o.type),'"');var a={};mt(a,o),delete a.type,o=a}s.push(">"),s=s.join("")}return s=he(r,s),o&&("string"==typeof o?s.className=o:Array.isArray(o)?s.className=o.join(" "):oe(s,o)),2<i.length&&ue(r,s,i),s}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){bh(this);var t=this;return _h(this,this.render().then((function(e){return new ve((function(n){var i=t.g.getResponse(e);if(i)n(i);else{var r=function(e){e&&(function(t,e){K(t.l,(function(t){return t==e}))}(t,r),n(e))};t.l.push(r),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){bh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){bh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=se(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},C(wh,ph);var Ch="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Eh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Sh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function kh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:f}}function Ih(t,e){return{name:t||"",J:"a function",optional:!!e,K:p}}function Ah(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Th(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ia||t&&e.providerId!==t)}}}function Oh(t,e){return f(t)&&"string"==typeof t.type&&t.type===e&&p(t.Fa)}function Dh(t){return f(t)&&"string"==typeof t.uid}function Rh(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||!p(t.verify))}}}function Nh(t,e,n,i){return{name:n||"",J:t.J+" or "+e.J,optional:!!i,K:function(n){return t.K(n)||e.K(n)}}}function Ph(t,e){for(var n in e){var i=e[n].name;t[i]=Lh(i,t[n],e[n].j)}}function Fh(t,e){for(var n in e){var i=e[n].name;i!==n&&Object.defineProperty(t,i,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,i){xh(t,[n],[i],!0),this[e]=i}),i,n,e[n].gb),enumerable:!0})}}function Mh(t,e,n,i){t[e]=Lh(e,n,i)}function Lh(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return xh(s,n,t),e.apply(this,t)}if(!n)return e;var r,s=function(t){return(t=t.split("."))[t.length-1]}(t);for(r in e)i[r]=e[r];for(r in e.prototype)i.prototype[r]=e.prototype[r];return i}Ph(Bu.prototype,{fb:{name:"applyActionCode",j:[Eh("code")]},Pa:{name:"checkActionCode",j:[Eh("code")]},jb:{name:"confirmPasswordReset",j:[Eh("code"),Eh("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Eh("email"),Eh("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Eh("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Eh("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Nh(kh(),Ih(),"nextOrObserver"),Ih("opt_error",!0),Ih("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Nh(kh(),Ih(),"nextOrObserver"),Ih("opt_error",!0),Ih("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Eh("email"),Nh(kh("opt_actionCodeSettings",!0),Ah(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Eh("email"),kh("actionCodeSettings")]},tb:{name:"setPersistence",j:[Eh("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Th()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Th()]},Rc:{name:"signInWithCustomToken",j:[Eh("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Eh("email"),Eh("password")]},Tc:{name:"signInWithEmailLink",j:[Eh("email"),Eh("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Eh("phoneNumber"),Rh()]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Nh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof nu)}},Ah(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Eh(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Eh("code")]}}),Fh(Bu.prototype,{lc:{name:"languageCode",gb:Nh(Eh(),Ah(),"languageCode")},ti:{name:"tenantId",gb:Nh(Eh(),Ah(),"tenantId")}}),(Bu.Persistence=jl).LOCAL="local",Bu.Persistence.SESSION="session",Bu.Persistence.NONE="none",Ph(nu.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Sh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Sh("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Th()]},mb:{name:"linkWithCredential",j:[Th()]},Bc:{name:"linkWithPhoneNumber",j:[Eh("phoneNumber"),Rh()]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Th()]},pb:{name:"reauthenticateWithCredential",j:[Th()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Eh("phoneNumber"),Rh()]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Nh(kh("opt_actionCodeSettings",!0),Ah(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Eh(null,!0)]},ad:{name:"unlink",j:[Eh("provider")]},xb:{name:"updateEmail",j:[Eh("email")]},yb:{name:"updatePassword",j:[Eh("password")]},cd:{name:"updatePhoneNumber",j:[Th("phone")]},zb:{name:"updateProfile",j:[kh("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Eh("email"),Nh(kh("opt_actionCodeSettings",!0),Ah(null,!0),"opt_actionCodeSettings",!0)]}}),Ph(th.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ph(Zu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ph(ve.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Fh(Fc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Sh("appVerificationDisabledForTesting")}}),Ph(Mc.prototype,{confirm:{name:"confirm",j:[Eh("verificationCode")]}}),Mh(ns,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[cs,xs,Is,os],i=0;i<n.length;i++)if(e=n[i](t))return e;return null}),[Nh(Eh(),kh(),"json")]),Mh(Cs,"credential",(function(t,e){return new ws(t,e)}),[Eh("email"),Eh("password")]),Ph(ws.prototype,{v:{name:"toJSON",j:[Eh(null,!0)]}}),Ph(ps.prototype,{Aa:{name:"addScope",j:[Eh("scope")]},Ia:{name:"setCustomParameters",j:[kh("customOAuthParameters")]}}),Mh(ps,"credential",fs,[Nh(Eh(),kh(),"token")]),Mh(Cs,"credentialWithLink",Es,[Eh("email"),Eh("emailLink")]),Ph(ms.prototype,{Aa:{name:"addScope",j:[Eh("scope")]},Ia:{name:"setCustomParameters",j:[kh("customOAuthParameters")]}}),Mh(ms,"credential",gs,[Nh(Eh(),kh(),"token")]),Ph(ys.prototype,{Aa:{name:"addScope",j:[Eh("scope")]},Ia:{name:"setCustomParameters",j:[kh("customOAuthParameters")]}}),Mh(ys,"credential",vs,[Nh(Eh(),Nh(kh(),Ah()),"idToken"),Nh(Eh(),Ah(),"accessToken",!0)]),Ph(_s.prototype,{Ia:{name:"setCustomParameters",j:[kh("customOAuthParameters")]}}),Mh(_s,"credential",bs,[Nh(Eh(),kh(),"token"),Eh("secret",!0)]),Ph(ds.prototype,{Aa:{name:"addScope",j:[Eh("scope")]},credential:{name:"credential",j:[Nh(Eh(),Nh(kh(),Ah()),"optionsOrIdToken"),Nh(Eh(),Ah(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[kh("customOAuthParameters")]}}),Ph(as.prototype,{v:{name:"toJSON",j:[Eh(null,!0)]}}),Ph(rs.prototype,{v:{name:"toJSON",j:[Eh(null,!0)]}}),Mh(Ts,"credential",Os,[Eh("verificationId"),Eh("verificationCode")]),Ph(Ts.prototype,{cb:{name:"verifyPhoneNumber",j:[Nh(Eh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Oh(t.session,ts)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Oh(t.session,es)&&Dh(t.multiFactorHint):t.session&&t.multiFactorUid?Oh(t.session,es)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Rh()]}}),Ph(ks.prototype,{v:{name:"toJSON",j:[Eh(null,!0)]}}),Ph(E.prototype,{toJSON:{name:"toJSON",j:[Eh(null,!0)]}}),Ph(js.prototype,{toJSON:{name:"toJSON",j:[Eh(null,!0)]}}),Ph(Vs.prototype,{toJSON:{name:"toJSON",j:[Eh(null,!0)]}}),Ph(qc.prototype,{toJSON:{name:"toJSON",j:[Eh(null,!0)]}}),Ph(jc.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Ph(Kc.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Eh("displayName",!0)]},$c:{name:"unenroll",j:[Nh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Dh},Eh(),"multiFactorInfoIdentifier")]}}),Ph(wh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Mh(mr,"parseLink",Cr,[Eh("link")]),Mh(oh,"assertion",(function(t){return new Wc(t)}),[Th("phone")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ir,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:nr,VERIFY_AND_CHANGE_EMAIL:rr,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Bu,AuthCredential:ns,Error:E};Mh(t,"EmailAuthProvider",Cs,[]),Mh(t,"FacebookAuthProvider",ps,[]),Mh(t,"GithubAuthProvider",ms,[]),Mh(t,"GoogleAuthProvider",ys,[]),Mh(t,"TwitterAuthProvider",_s,[]),Mh(t,"OAuthProvider",ds,[Eh("providerId")]),Mh(t,"SAMLAuthProvider",hs,[Eh("providerId")]),Mh(t,"PhoneAuthProvider",Ts,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Bu)}}]),Mh(t,"RecaptchaVerifier",wh,[Nh(Eh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),kh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof r.a.app.App)}}]),Mh(t,"ActionCodeURL",mr,[]),Mh(t,"PhoneMultiFactorGenerator",oh,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Bu(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.kc,t),addAuthTokenListener:b(t.bc,t),removeAuthTokenListener:b(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.14.1"),r.a.INTERNAL.extendNamespace({User:nu})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r,s=n("mrSG"),o=n("zVF4"),a=n("S+S0"),l=n("q/0M"),c=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),u=new o.ErrorFactory("app","Firebase",c),h=((r={})["@firebase/app"]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),d=new l.Logger("@firebase/app"),p=function(){function t(t,e,n){var i,r,l=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return l}),"PUBLIC"));try{for(var c=s.__values(this.firebase_.INTERNAL.components.values()),u=c.next();!u.done;u=c.next())this._addComponent(u.value)}catch(h){i={error:h}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var f=function t(){var e=function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var s=r;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw u.create("bad-app-name",{appName:String(a)});if(o.contains(e,a))throw u.create("duplicate-app",{appName:a});var l=new t(n,s,i);return e[a]=l,l},app:r,registerVersion:function(t,e,n){var i,r=null!==(i=h[t])&&void 0!==i?i:t;n&&(r+="-"+n);var s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var l=['Unable to register library "'+r+'" with version "'+e+'":'];return s&&l.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),s&&o&&l.push("and"),o&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(l.join(" "))}c(new a.Component(r+"-version",(function(){return{library:r,version:e}}),"VERSION"))},setLogLevel:l.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw u.create("invalid-log-argument",{appName:name});l.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.12.0",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function r(t){if(!o.contains(e,t=t||"[DEFAULT]"))throw u.create("no-app",{appName:t});return e[t]}function c(a){var l,c,h=a.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?i[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var p=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[h])throw u.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&o.deepExtend(p,a.serviceProps),i[h]=p,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var f=s.__values(Object.keys(e)),m=f.next();!m.done;m=f.next())e[m.value]._addComponent(a)}catch(g){l={error:g}}finally{try{m&&!m.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}return"PUBLIC"===a.type?i[h]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),r.App=t,i}(p);return e.INTERNAL=s.__assign(s.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){o.deepExtend(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(o.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=f.initializeApp;f.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,t)};var v=f;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.0",void 0),t.registerVersion("fire-js","")}(v),e.default=v,e.firebase=v},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return ai})),n.d(e,"EventType",(function(){return li})),n.d(e,"WebChannel",(function(){return ci})),n.d(e,"XhrIo",(function(){return ui})),n.d(e,"createWebChannelTransport",(function(){return oi}));var i,r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=s||{},o=r;function a(t){return"string"==typeof t}function l(t){return"number"==typeof t}function c(t,e){t=t.split("."),e=e||o;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function u(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){return"array"==h(t)}function p(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function x(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}function C(){this.j=this.j,this.i=this.i}C.prototype.j=!1,C.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[m]||(this[m]=++g))},C.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(a(t))return a(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},S=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=a(t)?t.split(""):t,s=0;s<i;s++)s in r&&e.call(n,r[s],s,t)};function k(t){return Array.prototype.concat.apply([],arguments)}function I(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function A(t){return/^[\s\xa0]*$/.test(t)}var T,O=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function D(t,e){return-1!=t.indexOf(e)}function R(t,e){return t<e?-1:t>e?1:0}t:{var N=o.navigator;if(N){var P=N.userAgent;if(P){T=P;break t}}T=""}function F(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function M(t){var e,n={};for(e in t)n[e]=t[e];return n}var L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var s=0;s<L.length;s++)n=L[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function j(t){return j[" "](t),t}j[" "]=u;var U,B,q=D(T,"Opera"),z=D(T,"Trident")||D(T,"MSIE"),H=D(T,"Edge"),G=H||z,W=D(T,"Gecko")&&!(D(T.toLowerCase(),"webkit")&&!D(T,"Edge"))&&!(D(T,"Trident")||D(T,"MSIE"))&&!D(T,"Edge"),$=D(T.toLowerCase(),"webkit")&&!D(T,"Edge");function K(){var t=o.document;return t?t.documentMode:void 0}t:{var Y="",Q=(B=T,W?/rv:([^\);]+)(\)|;)/.exec(B):H?/Edge\/([\d\.]+)/.exec(B):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(B):$?/WebKit\/(\S+)/.exec(B):q?/(?:Version)[ \/]?(\S+)/.exec(B):void 0);if(Q&&(Y=Q?Q[1]:""),z){var X=K();if(null!=X&&X>parseFloat(Y)){U=String(X);break t}}U=Y}var J,Z={};function tt(t){return function(t,e){var n=Z;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=O(String(U)).split("."),i=O(String(t)).split("."),r=Math.max(n.length,i.length),s=0;0==e&&s<r;s++){var o=n[s]||"",a=i[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=R(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||R(0==o[2].length,0==a[2].length)||R(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var et=o.document;J=et&&z?K()||("CSS1Compat"==et.compatMode?parseInt(U,10):5):void 0;var nt=!z||9<=Number(J),it=z&&!tt("9"),rt=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{o.addEventListener("test",u,e),o.removeEventListener("test",u,e)}catch(n){}return t}();function st(t,e){this.type=t,this.a=this.target=e,this.Ia=!0}function ot(t,e){if(st.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(W){t:{try{j(e.nodeName);var r=!0;break t}catch(s){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=a(t.pointerType)?t.pointerType:at[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}st.prototype.b=function(){this.Ia=!1},x(ot,st);var at={2:"touch",3:"pen",4:"mouse"};ot.prototype.b=function(){ot.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,it)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var lt="closure_listenable_"+(1e6*Math.random()|0),ct=0;function ut(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.da=r,this.key=++ct,this.X=this.Z=!1}function ht(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function dt(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var i,r=t.a[n],s=E(r,e);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ft(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.X&&s.listener==e&&s.capture==!!n&&s.da==i)return r}return-1}dt.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=ft(t,e,i,r);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new ut(e,this.src,s,!!i,r)).Z=n,t.push(e)),e};var mt="closure_lm_"+(1e6*Math.random()|0),gt={};function yt(t,e,n,i,r){if(i&&i.once)return function t(e,n,i,r,s){if(d(n)){for(var o=0;o<n.length;o++)t(e,n[o],i,r,s);return null}return i=Et(i),e&&e[lt]?e.Aa(n,i,f(r)?!!r.capture:!!r,s):vt(e,n,i,!0,r,s)}(t,e,n,i,r);if(d(e)){for(var s=0;s<e.length;s++)yt(t,e[s],n,i,r);return null}return n=Et(n),t&&t[lt]?t.za(e,n,f(i)?!!i.capture:!!i,r):vt(t,e,n,!1,i,r)}function vt(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=f(r)?!!r.capture:!!r;if(o&&!nt)return null;var a=xt(t);if(a||(t[mt]=a=new dt(t)),(n=a.add(e,n,i,o,s)).proxy)return n;if(i=function(){var t=wt,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)rt||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(bt(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function _t(t){if(!l(t)&&t&&!t.X){var e=t.src;if(e&&e[lt])pt(e.c,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(bt(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=xt(e))?(pt(n,t),0==n.b&&(n.src=null,e[mt]=null)):ht(t)}}}function bt(t){return t in gt?gt[t]:gt[t]="on"+t}function wt(t,e){return!!t.X||function(t,e){var n=t.listener,i=t.da||t.src;return t.Z&&_t(t),n.call(i,e)}(t,nt?new ot(e,this):e=new ot(e||c("window.event"),this))}function xt(t){return(t=t[mt])instanceof dt?t:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(t){return"function"==h(t)?t:(t[Ct]||(t[Ct]=function(e){return t.handleEvent(e)}),t[Ct])}function St(){C.call(this),this.c=new dt(this),this.J=this,this.B=null}function kt(t,e,n,i){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.X&&o.capture==n){var a=o.listener,l=o.da||o.src;o.Z&&pt(t.c,o),r=!1!==a.call(l,i)&&r}}return r&&0!=i.Ia}x(St,C),St.prototype[lt]=!0,(i=St.prototype).addEventListener=function(t,e,n,i){yt(this,t,e,n,i)},i.removeEventListener=function(t,e,n,i){!function t(e,n,i,r,s){if(d(n))for(var o=0;o<n.length;o++)t(e,n[o],i,r,s);else r=f(r)?!!r.capture:!!r,i=Et(i),e&&e[lt]?(e=e.c,(n=String(n).toString())in e.a&&-1<(i=ft(o=e.a[n],i,r,s))&&(ht(o[i]),Array.prototype.splice.call(o,i,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=xt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ft(n,i,r,s)),(i=-1<e?n[e]:null)&&_t(i))}(this,t,e,n,i)},i.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var i=t.type||t;if(a(t))t=new st(t,n);else if(t instanceof st)t.target=t.target||n;else{var r=t;V(t=new st(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.a=e[s];r=kt(o,i,!0,t)&&r}if(r=kt(o=t.a=n,i,!0,t)&&r,r=kt(o,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=kt(o=t.a=e[s],i,!1,t)&&r;return r},i.G=function(){if(St.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)ht(n[i]);delete e.a[t],e.b--}}this.B=null},i.za=function(t,e,n,i){return this.c.add(String(t),e,!1,n,i)},i.Aa=function(t,e,n,i){return this.c.add(String(t),e,!0,n,i)};var It=o.JSON.stringify;function At(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Tt(){this.b=this.a=null}At.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Ot,Dt=new At((function(){return new Nt}),(function(t){t.reset()}));function Rt(){var t=Lt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Nt(){this.next=this.b=this.a=null}function Pt(t){o.setTimeout((function(){throw t}),0)}function Ft(t,e){Ot||function(){var t=o.Promise.resolve(void 0);Ot=function(){t.then(Vt)}}(),Mt||(Ot(),Mt=!0),Lt.add(t,e)}Tt.prototype.add=function(t,e){var n=Dt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Nt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Nt.prototype.reset=function(){this.next=this.b=this.a=null};var Mt=!1,Lt=new Tt;function Vt(){for(var t;t=Rt();){try{t.a.call(t.b)}catch(n){Pt(n)}var e=Dt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Mt=!1}function jt(t,e){St.call(this),this.b=t||1,this.a=e||o,this.f=_(this.gb,this),this.g=w()}function Ut(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Bt(t,e,n){if("function"==h(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:o.setTimeout(t,e||0)}function qt(t,e,n){C.call(this),this.f=null!=n?_(t,n):t,this.c=e,this.b=_(this.$a,this),this.a=[]}function zt(t){t.U=Bt(t.b,t.c),t.f.apply(null,t.a)}function Ht(t){C.call(this),this.b=t,this.a={}}x(jt,St),(i=jt.prototype).ba=!1,i.L=null,i.gb=function(){if(this.ba){var t=w()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Ut(this),this.start()))}},i.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},i.G=function(){jt.N.G.call(this),Ut(this),delete this.a},x(qt,C),(i=qt.prototype).ea=!1,i.U=null,i.Ta=function(t){this.a=arguments,this.U?this.ea=!0:zt(this)},i.G=function(){qt.N.G.call(this),this.U&&(o.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},i.$a=function(){this.U=null,this.ea&&(this.ea=!1,zt(this))},x(Ht,C);var Gt=[];function Wt(t,e,n,i){d(n)||(n&&(Gt[0]=n.toString()),n=Gt);for(var r=0;r<n.length;r++){var s=yt(e,n[r],i||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function $t(t){F(t.a,(function(t,e){this.a.hasOwnProperty(e)&&_t(t)}),t),t.a={}}function Kt(){}Ht.prototype.G=function(){Ht.N.G.call(this),$t(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yt=new St;function Qt(t){st.call(this,"serverreachability",t)}function Xt(t){Yt.dispatchEvent(new Qt(Yt,t))}function Jt(t){st.call(this,"statevent",t)}function Zt(t){Yt.dispatchEvent(new Jt(Yt,t))}function te(t){st.call(this,"timingevent",t)}function ee(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return o.setTimeout((function(){t()}),e)}x(Qt,st),x(Jt,st),x(te,st);var ne={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,La:7,TIMEOUT:8,sb:9},ie={jb:"complete",wb:"success",Ma:"error",La:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function re(){}function se(){}re.prototype.a=null;var oe,ae={OPEN:"a",ib:"b",Ma:"c",rb:"d"};function le(){st.call(this,"d")}function ce(){st.call(this,"c")}function ue(){}function he(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Ht(this),this.O=de,this.P=new jt(t=G?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}x(le,st),x(ce,st),x(ue,re),oe=new ue;var de=45e3,pe={},fe={};function me(t,e,n){t.F=1,t.f=Ue(Ne(e)),t.l=n,t.H=!0,ye(t,null)}function ge(t,e,n,i){t.F=1,t.f=Ue(Ne(e)),t.l=null,t.H=n,ye(t,i)}function ye(t,e){t.v=w(),be(t),t.D=Ne(t.f),je(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new qt(_(t.Ja,t,t.a),t.J)),Wt(t.I,t.a,"readystatechange",t.cb),e=t.h?M(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Xt(1)}function ve(t,e,n){for(var i=!0;!t.m&&t.A<n.length;){var r=_e(t,n);if(r==fe){4==e&&(t.c=4,Zt(14),i=!1);break}if(r==pe){t.c=4,Zt(15),i=!1;break}Se(t,r)}4==e&&0==n.length&&(t.c=1,Zt(16),i=!1),t.b=t.b&&i,i||(Ee(t),Ce(t))}function _e(t,e){var n=t.A,i=e.indexOf("\n",n);return-1==i?fe:(n=Number(e.substring(n,i)),isNaN(n)?pe:(i+=1)+n>e.length?fe:(e=e.substr(i,n),t.A=i+n,e))}function be(t){t.R=w()+t.O,we(t,t.O)}function we(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(_(t.ab,t),e)}function xe(t){t.i&&(o.clearTimeout(t.i),t.i=null)}function Ce(t){t.g.Ca()||t.m||t.g.na(t)}function Ee(t){xe(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,Ut(t.P),$t(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Se(t,e){try{t.g.Fa(t,e),Xt(4)}catch(n){}}function ke(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||a(t))S(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(p(t)||a(t)){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(a(t))return t.split("");if(p(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}}function Ie(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Ie)for(n=t.K(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Ae(t,e){Oe(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Te(t))}function Te(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Oe(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)Oe(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function Oe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(i=he.prototype).setTimeout=function(t){this.O=t},i.cb=function(t){t=t.target;var e=this.B;e&&3==Nn(t)?e.Ta():this.Ja(t)},i.Ja=function(t){try{if(t==this.a)t:{var e=Nn(this.a),n=this.a.ya(),i=this.a.T();if(!(3>e||3==e&&!G&&!this.a.aa())){this.m||4!=e||7==n||Xt(8==n||0>=i?3:2),xe(this);var r=this.a.T();this.o=r;var s=this.a.aa();if(this.b=200==r){if(this.S&&!this.s){e:{if(this.a){var o=Pn(this.a,"X-HTTP-Initial-Response");if(o&&!A(o)){var a=o;break e}}a=null}if(!a){this.b=!1,this.c=3,Zt(12),Ee(this),Ce(this);break t}this.s=!0,Se(this,a)}this.H?(ve(this,e,s),G&&this.b&&3==e&&(Wt(this.I,this.P,"tick",this.bb),this.P.start())):Se(this,s),4==e&&Ee(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,be(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.c=3,Zt(12)):(this.c=0,Zt(13)),Ee(this),Ce(this)}}}catch(l){}},i.bb=function(){if(this.a){var t=Nn(this.a),e=this.a.aa();this.A<e.length&&(xe(this),ve(this,t,e),this.b&&4!=t&&be(this))}},i.cancel=function(){this.m=!0,Ee(this)},i.ab=function(){this.i=null;var t=w();0<=t-this.R?(2!=this.F&&(Xt(3),Zt(17)),Ee(this),this.c=2,Ce(this)):we(this,this.R-t)},(i=Ie.prototype).C=function(){Te(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},i.K=function(){return Te(this),this.a.concat()},i.get=function(t,e){return Oe(this.b,t)?this.b[t]:e},i.set=function(t,e){Oe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},i.forEach=function(t,e){for(var n=this.K(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);t.call(e,s,r,this)}};var De=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Re(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Re?(this.h=void 0!==e?e:t.h,Pe(this,t.f),this.j=t.j,Fe(this,t.b),Me(this,t.i),this.a=t.a,Le(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(De))?(this.h=!!e,Pe(this,n[1]||"",!0),this.j=Be(n[2]||""),Fe(this,n[3]||"",!0),Me(this,n[4]),this.a=Be(n[5]||"",!0),Le(this,n[6]||"",!0),this.g=Be(n[7]||"")):(this.h=!!e,this.c=new Ye(null,this.h))}function Ne(t){return new Re(t)}function Pe(t,e,n){t.f=n?Be(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Fe(t,e,n){t.b=n?Be(e,!0):e}function Me(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Le(t,e,n){e instanceof Ye?(t.c=e,function(t,e){e&&!t.f&&(Qe(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xe(this,e),Ze(this,n,t))}),t)),t.f=e}(t.c,t.h)):(n||(e=qe(e,$e)),t.c=new Ye(e,t.h))}function Ve(t,e,n){t.c.set(e,n)}function je(t,e,n){d(n)||(n=[String(n)]),Ze(t.c,e,n)}function Ue(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function Be(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qe(t,e,n){return a(t)?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Re.prototype.toString=function(){var t=[],e=this.f;e&&t.push(qe(e,He,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(qe(e,He,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(qe(n,"/"==n.charAt(0)?We:Ge,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",qe(n,Ke)),t.join("")},Re.prototype.resolve=function(t){var e=Ne(this),n=!!t.f;n?Pe(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Fe(e,t.b):n=null!=t.i;var i=t.a;if(n)Me(e,t.i);else if(n=!!t.a){if("/"!=i.charAt(0))if(this.b&&!this.a)i="/"+i;else{var r=e.a.lastIndexOf("/");-1!=r&&(i=e.a.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(D(r,"./")||D(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var s=[],o=0;o<r.length;){var a=r[o++];"."==a?i&&o==r.length&&s.push(""):".."==a?((1<s.length||1==s.length&&""!=s[0])&&s.pop(),i&&o==r.length&&s.push("")):(s.push(a),i=!0)}i=s.join("/")}else i=r}return n?e.a=i:n=""!==t.c.toString(),n?Le(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var He=/[#\/\?@]/g,Ge=/[#\?:]/g,We=/[#\?]/g,$e=/[#\?@]/g,Ke=/#/g;function Ye(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qe(t){t.a||(t.a=new Ie,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xe(t,e){Qe(t),e=en(t,e),Oe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ae(t.a,e))}function Je(t,e){return Qe(t),e=en(t,e),Oe(t.a.b,e)}function Ze(t,e,n){Xe(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),I(n)),t.b+=n.length)}function tn(t){var e=new Ye;return e.c=t.c,t.a&&(e.a=new Ie(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)Zt(4),e?(Zt(10),Wn(t.a,t,!1)):(Zt(11),Wn(t.a,t,!0));else{t.b=new he(t,void 0,void 0),t.b.h=t.h,e=Xn(e=t.a,e.Y()?t.f:null,t.i),Zt(4),je(e,"TYPE","xmlhttp");var n=t.a.j,i=t.a.I;n&&i&&Ve(e,n,i),ge(t.b,e,!1,t.f)}}function sn(){this.a=this.b=null}function on(){this.a=new Ie}function an(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[m]||(t[m]=++g)):e.charAt(0)+t}function ln(t,e){this.b=t,this.a=e}function cn(t){this.g=t||un,t=o.PerformanceNavigationTiming?0<(t=o.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(o.ka&&o.ka.Da&&o.ka.Da()&&o.ka.Da().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new on),this.b=null,this.c=[]}(i=Ye.prototype).add=function(t,e){Qe(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},i.forEach=function(t,e){Qe(this),this.a.forEach((function(n,i){S(n,(function(n){t.call(e,n,i,this)}),this)}),this)},i.K=function(){Qe(this);for(var t=this.a.C(),e=this.a.K(),n=[],i=0;i<e.length;i++)for(var r=t[i],s=0;s<r.length;s++)n.push(e[i]);return n},i.C=function(t){Qe(this);var e=[];if(a(t))Je(this,t)&&(e=k(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=k(e,t[n])}return e},i.set=function(t,e){return Qe(this),this.c=null,Je(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},i.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.C(i);for(var s=0;s<i.length;s++){var o=r;""!==i[s]&&(o+="="+encodeURIComponent(String(i[s]))),t.push(o)}}return this.c=t.join("&")},x((function(){}),(function(){})),(i=nn.prototype).M=null,i.$=function(t){return this.a.$(t)},i.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},i.Ca=function(){return!1},i.Fa=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Pn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Pn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var i=this.a.ja.a.parse(e)}catch(r){return(e=this.a).m=this.c,void Yn(e,2)}this.f=i[0]}else(e=this.a).m=this.c,Yn(e,2)}else 1==this.M&&(this.g?Zt(6):"11111"==e?(Zt(5),this.g=!0,(!z||10<=Number(J))&&(this.c=200,this.b.cancel(),Zt(11),Wn(this.a,this,!0))):(Zt(7),this.g=!1))},i.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?(Zt(11),Wn(this.a,this,!0)):(Zt(10),Wn(this.a,this,!1)));else{0==this.M?Zt(8):1==this.M&&Zt(9);var t=this.a;t.m=this.c,Yn(t,2)}},i.Y=function(){return this.a.Y()},i.ma=function(){return this.a.ma()},on.prototype.add=function(t){this.a.set(an(t),t)},on.prototype.C=function(){return this.a.C()};var un=10;function hn(t,e){!t.a&&(D(e,"spdy")||D(e,"quic")||D(e,"h2"))&&(t.f=t.g,t.a=new on,t.b&&(mn(t,t.b),t.b=null))}function dn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function pn(t){return t.b?1:t.a?t.a.a.c:0}function fn(t,e){return t.b?t=t.b==e:t.a?(e=an(e),t=Oe(t.a.a.b,e)):t=!1,t}function mn(t,e){t.a?t.a.add(e):t.b=e}function gn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=an(e),n=Oe(t.a.a.b,n)),n&&Ae(t.a.a,an(e)))}function yn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return S(t.a.C(),(function(t){e=e.concat(t.j)})),e}return I(t.c)}function vn(){}function _n(){this.a=new vn}function bn(t,e,n){var i=n||"";try{ke(t,(function(t,n){var r=t;f(t)&&(r=It(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function wn(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}cn.prototype.cancel=function(){this.c=yn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(S(this.a.C(),(function(t){t.cancel()})),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},vn.prototype.stringify=function(t){return o.JSON.stringify(t,void 0)},vn.prototype.parse=function(t){return o.JSON.parse(t,void 0)};var xn=o.JSON.parse;function Cn(t){St.call(this),this.headers=new Ie,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=En,this.D=this.F=!1}x(Cn,St);var En="",Sn=/^https?$/i,kn=["POST","PUT"];function In(t){return"content-type"==t.toLowerCase()}function An(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Tn(t),Dn(t)}function Tn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function On(t){if(t.b&&void 0!==s&&(!t.s[1]||4!=Nn(t)||2!=t.T()))if(t.l&&4==Nn(t))Bt(t.Ea,0,t);else if(t.dispatchEvent("readystatechange"),4==Nn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var a=String(t.A).match(De)[1]||null;if(!a&&o.self&&o.self.location){var l=o.self.location.protocol;a=l.substr(0,l.length-1)}r=!Sn.test(a?a.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<Nn(t)?t.a.statusText:""}catch(u){c=""}t.f=c+" ["+t.T()+"]",Tn(t)}}finally{Dn(t)}}}function Dn(t,e){if(t.a){Rn(t);var n=t.a,i=t.s[0]?u:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){}}}function Rn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(o.clearTimeout(t.m),t.m=null)}function Nn(t){return t.a?t.a.readyState:0}function Pn(t,e){return t.a?t.a.getResponseHeader(e):null}function Fn(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}if(i)return t;if(n=function(t){var e="";return F(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),a(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(i=t.indexOf("?"))||i>n){i=n;var r=""}else r=t.substring(i+1,n);n=(t=[t.substr(0,i),r,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Ve(t,e,n),t}function Mn(t){this.f=[],this.F=new sn,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!c("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=c("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Ra=c("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Pa=c("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=c("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Ka=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new cn(t&&t.concurrentRequestLimit),this.ja=new _n,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Ln(t){if(Vn(t),3==t.u){var e=t.P++,n=Ne(t.B);Ve(n,"SID",t.H),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),qn(t,n),(e=new he(t,e,void 0)).F=2,e.f=Ue(Ne(n)),n=!1,o.navigator&&o.navigator.sendBeacon&&(n=o.navigator.sendBeacon(e.f.toString(),"")),!n&&o.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=w(),be(e)}Qn(t)}function Vn(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(o.clearTimeout(t.l),t.l=null),$n(t),t.b.cancel(),t.h&&(l(t.h)&&o.clearTimeout(t.h),t.h=null)}function jn(t,e){t.f.push(new ln(t.Qa++,e)),3==t.u&&Un(t)}function Un(t){dn(t.b)||t.h||(t.h=!0,Ft(t.Ha,t),t.A=0)}function Bn(t,e){var n;n=e?e.W:t.P++;var i=Ne(t.B);Ve(i,"SID",t.H),Ve(i,"RID",n),Ve(i,"AID",t.O),qn(t,i),t.g&&t.i&&Fn(i,t.g,t.i),n=new he(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=zn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),mn(t.b,n),me(n,i,e)}function qn(t,e){t.c&&ke({},(function(t,n){Ve(e,n,t)}))}function zn(t,e,n){n=Math.min(t.f.length,n);var i=t.c?_(t.c.Sa,t.c,t):null;t:for(var r=t.f,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=r[0].b)):s=0:o.push("ofs="+s);for(var a=!0,l=0;l<n;l++){var c=r[l].b,u=r[l].a;if(0>(c-=s))s=Math.max(0,r[l].b-100),a=!1;else try{bn(u,o,"req"+c+"_")}catch(h){i&&i(u)}}if(a){i=o.join("&");break t}}return t=t.f.splice(0,n),e.j=t,i}function Hn(t){t.a||t.l||(t.S=1,Ft(t.Ga,t),t.v=0)}function Gn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(_(t.Ga,t),Kn(t,t.v)),t.v++,0))}function Wn(t,e,n){var i=e.l;i&&hn(t.b,i),t.ia=t.oa&&n,t.m=e.c,t.B=Xn(t,null,t.ha),Un(t)}function $n(t){null!=t.s&&(o.clearTimeout(t.s),t.s=null)}function Kn(t,e){var n=t.Na+Math.floor(Math.random()*t.Ra);return t.ma()||(n*=2),n*e}function Yn(t,e){if(2==e){var n=null;t.c&&(n=null);var i=_(t.eb,t);n||(n=new Re("//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||Pe(n,"https"),Ue(n)),function(t,e){var n=new Kt;if(o.Image){var i=new Image;i.onload=b(wn,n,i,"TestLoadImage: loaded",!0,e),i.onerror=b(wn,n,i,"TestLoadImage: error",!1,e),i.onabort=b(wn,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=b(wn,n,i,"TestLoadImage: timeout",!1,e),o.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else Zt(2);t.u=0,t.c&&t.c.ta(e),Qn(t),Vn(t)}function Qn(t){t.u=0,t.m=-1,t.c&&(0==yn(t.b).length&&0==t.f.length||(t.b.c.length=0,I(t.f),t.f.length=0),t.c.sa())}function Xn(t,e,n){var i=function(t){return t instanceof Re?Ne(t):new Re(t,void 0)}(n);if(""!=i.b)e&&Fe(i,e+"."+i.b),Me(i,i.i);else{var r=o.location;i=function(t,e,n,i){var r=new Re(null,void 0);return t&&Pe(r,t),e&&Fe(r,e),n&&Me(r,n),i&&(r.a=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.V&&F(t.V,(function(t,e){Ve(i,e,t)})),n=t.I,(e=t.j)&&n&&Ve(i,e,n),Ve(i,"VER",t.wa),qn(t,i),i}function Jn(){}function Zn(){if(z&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function ti(t,e){St.call(this),this.a=new Mn(e),this.g=t,this.m=e&&e.fb?e.fb:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var i,r=arguments[n];0==r.lastIndexOf("/",0)?e=r:((i=""==e)||(i=0<=(i=e.length-1)&&e.indexOf("/",i)==i),e+=i?r:"/"+r)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!A(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!A(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ii(this)}function ei(t){le.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ni(){ce.call(this),this.status=1}function ii(t){this.a=t}(i=Cn.prototype).ca=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:oe),this.a.onreadystatechange=_(this.Ea,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(s){return void An(this,s)}t=n||"";var r=new Ie(this.headers);i&&ke(i,(function(t,e){r.set(e,t)})),i=function(t){t:{for(var e=In,n=t.length,i=a(t)?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:a(t)?t.charAt(e):t[e]}(r.K()),n=o.FormData&&t instanceof o.FormData,!(0<=E(kn,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Rn(this),0<this.o&&((this.D=function(t){return z&&tt(9)&&l(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=_(this.Ba,this)):this.m=Bt(this.Ba,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){An(this,s)}},i.Ba=function(){void 0!==s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},i.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Dn(this))},i.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Dn(this,!0)),Cn.N.G.call(this)},i.Ea=function(){this.j||(this.w||this.l||this.g?On(this):this.Za())},i.Za=function(){On(this)},i.T=function(){try{return 2<Nn(this)?this.a.status:-1}catch(B){return-1}},i.aa=function(){try{return this.a?this.a.responseText:""}catch(B){return""}},i.Ua=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),xn(e)}},i.ya=function(){return this.h},i.Xa=function(){return a(this.f)?this.f:String(this.f)},(i=Mn.prototype).wa=8,i.u=1,i.Ca=function(){return 0==this.u},i.Ha=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new he(this,t=this.P++,void 0),i=this.i;if(this.J&&(i?V(i=M(i),this.J):i=this.J),null===this.g&&(n.h=i),this.W)t:{for(var r=e=0;r<this.f.length;r++){var s=this.f[r];if(void 0===(s="__data__"in s.a&&a(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=r;break t}if(4096===e||r===this.f.length-1){e=r+1;break t}}e=1e3}else e=1e3;e=zn(this,n,e),Ve(r=Ne(this.B),"RID",t),Ve(r,"CVER",22),this.o&&this.j&&Ve(r,"X-HTTP-Session-Id",this.j),qn(this,r),this.g&&i&&Fn(r,this.g,i),mn(this.b,n),this.W?(Ve(r,"$req",e),Ve(r,"SID","null"),n.S=!0,me(n,r,null)):me(n,r,e),this.u=2}}else 3==this.u&&(t?Bn(this,t):0==this.f.length||dn(this.b)||Bn(this))},i.Ga=function(){this.l=null,this.a=new he(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Ne(this.pa);Ve(t,"RID","rpc"),Ve(t,"SID",this.H),Ve(t,"CI",this.ia?"0":"1"),Ve(t,"AID",this.O),qn(this,t),Ve(t,"TYPE","xmlhttp"),this.g&&this.i&&Fn(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),ge(this.a,t,!0,this.ga)},i.Fa=function(t,e){if(0!=this.u&&(this.a==t||fn(this.b,t)))if(this.m=t.o,!t.s&&fn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(s){n=null}if(d(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;$n(this),this.a.cancel(),this.a=null}Gn(this),Zt(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(_(this.Ya,this),6e3));if(1>=pn(this.b)&&this.fa){try{this.fa()}catch(s){}this.fa=void 0}}else Yn(this,11)}else if((t.s||this.a==t)&&$n(this),!A(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var i=e[n];if(this.O=i[0],i=i[1],2==this.u)if("c"==i[0]){this.H=i[1],this.ga=i[2];var r=i[3];null!=r&&(this.wa=r),null!=(i=i[5])&&l(i)&&0<i&&(this.D=1.5*i),this.o&&(i=t.a)&&((r=Pn(i,"X-Client-Wire-Protocol"))&&hn(this.b,r),this.j&&(i=Pn(i,"X-HTTP-Session-Id")))&&(this.I=i,Ve(this.B,this.j,i)),this.u=3,this.c&&this.c.va(),i=t,this.pa=Xn(this,this.Y()?this.ga:null,this.ha),i.s?(gn(this.b,i),(r=this.D)&&i.setTimeout(r),i.i&&(xe(i),be(i)),this.a=i):Hn(this),0<this.f.length&&Un(this)}else"stop"!=i[0]&&"close"!=i[0]||Yn(this,7);else 3==this.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Yn(this,7):Ln(this):"noop"!=i[0]&&this.c&&this.c.ua(i),this.v=0)}},i.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Gn(this),Zt(19))},i.na=function(t){var e=null;if(this.a==t){$n(this),this.a=null;var n=2}else{if(!fn(this.b,t))return;e=t.j,gn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=w()-t.v,Yt.dispatchEvent(new te(Yt,t.l?t.l.length:0,e,this.A)),Un(this)):Hn(this);else{var i=t.c;if(3==i||0==i&&0<this.m||!(1==n&&function(t,e){return!(pn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Oa?0:t.Pa)||(t.h=ee(_(t.Ha,t,e),Kn(t,t.A)),t.A++,0)))}(this,t)||2==n&&Gn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),i){case 1:Yn(this,5);break;case 4:Yn(this,10);break;case 3:Yn(this,6);break;default:Yn(this,2)}}},i.eb=function(t){Zt(t?2:1)},i.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Cn(this.Ka)).F=this.R,t},i.ma=function(){return!!this.c&&!0},i.Y=function(){return this.R},(i=Jn.prototype).va=function(){},i.ua=function(){},i.ta=function(){},i.sa=function(){},i.Sa=function(){},Zn.prototype.a=function(t,e){return new ti(t,e)},x(ti,St),(i=ti.prototype).addEventListener=function(t,e,n,i){ti.N.addEventListener.call(this,t,e,n,i)},i.removeEventListener=function(t,e,n,i){ti.N.removeEventListener.call(this,t,e,n,i)},i.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,i=this.b||void 0;Zt(0),t.ha=n,t.V=i||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Fn(e,t.g,t.i)),(t=t.w).i=n,e=Xn(t.a,null,t.i),Zt(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(je(e,"MODE","init"),!t.a.o&&t.a.j&&je(e,"X-HTTP-Session-Id",t.a.j),t.b=new he(t,void 0,void 0),t.b.h=t.h,ge(t.b,e,!1,null),t.M=0)},i.close=function(){Ln(this.a)},i.Wa=function(t){if(a(t)){var e={};e.__data__=t,jn(this.a,e)}else this.h?((e={}).__data__=It(t),jn(this.a,e)):jn(this.a,t)},i.G=function(){this.a.c=null,delete this.f,Ln(this.a),delete this.a,ti.N.G.call(this)},x(ei,le),x(ni,ce),x(ii,Jn),ii.prototype.va=function(){this.a.dispatchEvent("a")},ii.prototype.ua=function(t){this.a.dispatchEvent(new ei(t))},ii.prototype.ta=function(t){this.a.dispatchEvent(new ni(t))},ii.prototype.sa=function(){this.a.dispatchEvent("b")};var ri=b((function(t,e){function n(){}n.prototype=t.prototype;var i=new n;return t.apply(i,Array.prototype.slice.call(arguments,1)),i}),Zn);Zn.prototype.createWebChannel=Zn.prototype.a,ti.prototype.send=ti.prototype.Wa,ti.prototype.open=ti.prototype.Va,ti.prototype.close=ti.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,ie.COMPLETE="complete",se.EventType=ae,ae.OPEN="a",ae.CLOSE="b",ae.ERROR="c",ae.MESSAGE="d",St.prototype.listen=St.prototype.za,Cn.prototype.listenOnce=Cn.prototype.Aa,Cn.prototype.getLastError=Cn.prototype.Xa,Cn.prototype.getLastErrorCode=Cn.prototype.ya,Cn.prototype.getStatus=Cn.prototype.T,Cn.prototype.getResponseJson=Cn.prototype.Ua,Cn.prototype.getResponseText=Cn.prototype.aa,Cn.prototype.send=Cn.prototype.ca;var si={createWebChannelTransport:ri,ErrorCode:ne,EventType:ie,WebChannel:se,XhrIo:Cn},oi=si.createWebChannelTransport,ai=si.ErrorCode,li=si.EventType,ci=si.WebChannel,ui=si.XhrIo;e.default=si},zUnb:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.r(e);let r=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},l=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const u=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(i(r))try{r.call(this)}catch(o){e=o instanceof u?d(o.errors):[o]}if(l(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(c(n))try{n.unsubscribe()}catch(o){e=e||[],o instanceof u?e=e.concat(d(o.errors)):e.push(o)}}}if(e)throw new u(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof u?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[p](){return this}static create(t,e,n){const i=new f(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class m extends f{constructor(t,e,n,r){let s;super(),this._parentSubscriber=t;let o=this;i(e)?s=e:e&&(s=e.next,n=e.error,r=e.complete,e!==a&&(o=Object.create(e),i(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(o(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(){}function v(...t){return _(t)}function _(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:y}let b=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:i}=this,r=function(t,e,n){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||n?new f(t,e,n):new f(a)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),s.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=w(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[g](){return this}pipe(...t){return 0===t.length?this:_(t)(this)}toPromise(t){return new(t=w(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function w(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const x=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class C extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class E extends f{constructor(t){super(t),this.destination=t}}let S=(()=>{class t extends b{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new E(this)}lift(t){const e=new k(this,this);return e.operator=t,e}next(t){if(this.closed)throw new x;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new x;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new x;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new x;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new x;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new C(this,t))}asObservable(){const t=new b;return t.source=this,t}}return t.create=(t,e)=>new k(t,e),t})();class k extends S{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function I(t){return t&&"function"==typeof t.schedule}class A extends f{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const T=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()};function O(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const D=O(),R=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function N(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const P=t=>{if(t&&"function"==typeof t[g])return i=t,t=>{const e=i[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(R(t))return T(t);if(N(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);if(t&&"function"==typeof t[D])return e=t,t=>{const n=e[D]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var e,n,i};function F(t,e,n,i,r=new A(t,n,i)){if(!r.closed)return e instanceof b?e.subscribe(r):P(e)(r)}class M extends f{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function L(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new V(t,e))}}class V{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new j(t,this.project,this.thisArg))}}class j extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function U(t,e){return new b(n=>{const i=new h;let r=0;return i.add(e.schedule((function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i})}function B(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new b(n=>{const i=new h;return i.add(e.schedule(()=>{const r=t[g]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(N(t))return function(t,e){return new b(n=>{const i=new h;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(R(t))return U(t,e);if(function(t){return t&&"function"==typeof t[D]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new b(n=>{const i=new h;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[D](),i.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())})))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof b?t:new b(P(t))}function q(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(q((n,i)=>B(t(n,i)).pipe(L((t,r)=>e(n,t,i,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new z(t,n)))}class z{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new H(t,this.project,this.concurrent))}}class H extends M{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new A(this,e,n),r=this.destination;r.add(i);const s=F(this,t,void 0,void 0,i);s!==i&&r.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,i,r){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function G(t){return t}function W(t=Number.POSITIVE_INFINITY){return q(G,t)}function K(t,e){return e?U(t,e):new b(T(t))}function Y(...t){let e=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return I(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof b?t[0]:W(e)(K(t,n))}function Q(){return function(t){return t.lift(new X(t))}}class X{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new J(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class J extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class Z extends b{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new et(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return Q()(this)}}const tt=(()=>{const t=Z.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class et extends E{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function nt(){return new S}function it(){return t=>{return Q()((e=nt,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,tt);return i.source=t,i.subjectFactory=n,i})(t));var e}}function rt(t){return{toString:t}.toString()}function st(t,e,n){return rt(()=>{const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}const ot=st("Inject",t=>({token:t})),at=st("Optional"),lt=st("Self"),ct=st("SkipSelf");var ut=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ht(t){for(let e in t)if(t[e]===ht)return e;throw Error("Could not find renamed property on target object.")}function dt(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function pt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}const ft=pt;function mt(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function gt(t){return yt(t,t[_t])||yt(t,t[xt])}function yt(t,e){return e&&e.token===t?e:null}function vt(t){return t&&(t.hasOwnProperty(bt)||t.hasOwnProperty(Ct))?t[bt]:null}const _t=ht({"\u0275prov":ht}),bt=ht({"\u0275inj":ht}),wt=ht({"\u0275provFallback":ht}),xt=ht({ngInjectableDef:ht}),Ct=ht({ngInjectorDef:ht});function Et(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Et).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function St(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const kt=ht({__forward_ref__:ht});function It(t){return t.__forward_ref__=It,t.toString=function(){return Et(this())},t}function At(t){return Tt(t)?t():t}function Tt(t){return"function"==typeof t&&t.hasOwnProperty(kt)&&t.__forward_ref__===It}const Ot="undefined"!=typeof globalThis&&globalThis,Dt="undefined"!=typeof window&&window,Rt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Nt="undefined"!=typeof global&&global,Pt=Ot||Nt||Dt||Rt,Ft=ht({"\u0275cmp":ht}),Mt=ht({"\u0275dir":ht}),Lt=ht({"\u0275pipe":ht}),Vt=ht({"\u0275mod":ht}),jt=ht({"\u0275loc":ht}),Ut=ht({"\u0275fac":ht}),Bt=ht({__NG_ELEMENT_ID__:ht});class qt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=pt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const zt=new qt("INJECTOR",-1),Ht={},Gt=/\n/gm,Wt=ht({provide:String,useValue:ht});let $t,Kt=void 0;function Yt(t){const e=Kt;return Kt=t,e}function Qt(t){const e=$t;return $t=t,e}function Xt(t,e=ut.Default){if(void 0===Kt)throw new Error("inject() must be called from an injection context");return null===Kt?te(t,void 0,e):Kt.get(t,e&ut.Optional?null:void 0,e)}function Jt(t,e=ut.Default){return($t||Xt)(At(t),e)}const Zt=Jt;function te(t,e,n){const i=gt(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&ut.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${Et(t)}]`)}function ee(t){const e=[];for(let n=0;n<t.length;n++){const i=At(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=ut.Default;for(let e=0;e<i.length;e++){const r=i[e];r instanceof at||"Optional"===r.ngMetadataName||r===at?n|=ut.Optional:r instanceof ct||"SkipSelf"===r.ngMetadataName||r===ct?n|=ut.SkipSelf:r instanceof lt||"Self"===r.ngMetadataName||r===lt?n|=ut.Self:t=r instanceof ot||r===ot?r.token:r}e.push(Jt(t,n))}else e.push(Jt(i))}return e}class ne{get(t,e=Ht){if(e===Ht){const e=new Error(`NullInjectorError: No provider for ${Et(t)}!`);throw e.name="NullInjectorError",e}return e}}class ie{}class re{}function se(t,e){t.forEach(t=>Array.isArray(t)?se(t,e):e(t))}function oe(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ae(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function le(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function ce(t,e,n){let i=he(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function ue(t,e){const n=he(t,e);if(n>=0)return t[1|n]}function he(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),s=t[n<<1];if(e===s)return n<<1;s>e?r=n:i=n+1}return~(r<<1)}(t,e)}const de=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),pe=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),fe={},me=[];let ge=0;function ye(t){return rt(()=>{const e=t.type,n=e.prototype,i={},r={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===de.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||me,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||pe.Emulated,id:"c",styles:t.styles||me,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.directives,o=t.features,a=t.pipes;return r.id+=ge++,r.inputs=Ce(t.inputs,i),r.outputs=Ce(t.outputs),o&&o.forEach(t=>t(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(_e):null,r.pipeDefs=a?()=>("function"==typeof a?a():a).map(be):null,r})}function ve(t,e,n){const i=t.\u0275cmp;i.directiveDefs=()=>e.map(_e),i.pipeDefs=()=>n.map(be)}function _e(t){return ke(t)||function(t){return t[Mt]||null}(t)}function be(t){return function(t){return t[Lt]||null}(t)}const we={};function xe(t){const e={type:t.type,bootstrap:t.bootstrap||me,declarations:t.declarations||me,imports:t.imports||me,exports:t.exports||me,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&rt(()=>{we[t.id]=t.type}),e}function Ce(t,e){if(null==t)return fe;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,e&&(e[r]=s)}return n}const Ee=ye;function Se(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ke(t){return t[Ft]||null}function Ie(t,e){return t.hasOwnProperty(Ut)?t[Ut]:null}function Ae(t,e){const n=t[Vt]||null;if(!n&&!0===e)throw new Error(`Type ${Et(t)} does not have '\u0275mod' property.`);return n}function Te(t){return Array.isArray(t)&&"object"==typeof t[1]}function Oe(t){return Array.isArray(t)&&!0===t[1]}function De(t){return 0!=(8&t.flags)}function Re(t){return 2==(2&t.flags)}function Ne(t){return 1==(1&t.flags)}function Pe(t){return null!==t.template}function Fe(t){return 0!=(512&t[2])}let Me=void 0;function Le(t){return!!t.listen}const Ve={createRenderer:(t,e)=>void 0!==Me?Me:"undefined"!=typeof document?document:void 0};function je(t){for(;Array.isArray(t);)t=t[0];return t}function Ue(t,e){return je(e[t+19])}function Be(t,e){return je(e[t.index])}function qe(t,e){return t.data[e+19]}function ze(t,e){return t[e+19]}function He(t,e){const n=e[t];return Te(n)?n:n[0]}function Ge(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function We(t){return 4==(4&t[2])}function $e(t){return 128==(128&t[2])}function Ke(t,e){return null===t||null==e?null:t[e]}function Ye(t){t[18]=0}const Qe={lFrame:yn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Xe(){return Qe.bindingsEnabled}function Je(){return Qe.lFrame.lView}function Ze(){return Qe.lFrame.tView}function tn(t){Qe.lFrame.contextLView=t}function en(){return Qe.lFrame.previousOrParentTNode}function nn(t,e){Qe.lFrame.previousOrParentTNode=t,Qe.lFrame.isParent=e}function rn(){return Qe.lFrame.isParent}function sn(){Qe.lFrame.isParent=!1}function on(){return Qe.checkNoChangesMode}function an(t){Qe.checkNoChangesMode=t}function ln(){const t=Qe.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function cn(){return Qe.lFrame.bindingIndex++}function un(t){const e=Qe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function hn(t,e){const n=Qe.lFrame;n.bindingIndex=n.bindingRootIndex=t,n.currentDirectiveIndex=e}function dn(){return Qe.lFrame.currentQueryIndex}function pn(t){Qe.lFrame.currentQueryIndex=t}function fn(t,e){const n=gn();Qe.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function mn(t,e){const n=gn(),i=t[1];Qe.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex}function gn(){const t=Qe.lFrame,e=null===t?null:t.child;return null===e?yn(t):e}function yn(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function vn(){const t=Qe.lFrame;return Qe.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const _n=vn;function bn(){const t=vn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function wn(){return Qe.lFrame.selectedIndex}function xn(t){Qe.lFrame.selectedIndex=t}function Cn(){const t=Qe.lFrame;return qe(t.tView,t.selectedIndex)}function En(){Qe.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Sn(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function kn(t,e,n){Tn(t,e,3,n)}function In(t,e,n,i){(3&t[2])===n&&Tn(t,e,n,i)}function An(t,e){let n=t[2];(3&n)===e&&(n&=1023,n+=1,t[2]=n)}function Tn(t,e,n,i){const r=null!=i?i:-1;let s=0;for(let o=void 0!==i?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=i&&s>=i)break}else e[o]<0&&(t[18]+=65536),(s<r||-1==r)&&(On(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function On(t,e,n,i){const r=n[i]<0,s=n[i+1],o=t[r?-n[i]:n[i]];r?t[2]>>10<t[18]>>16&&(3&t[2])===e&&(t[2]+=1024,s.call(o)):s.call(o)}class Dn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Rn(t,e,n){const i=Le(t);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],a=n[r++],l=n[r++];i?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=n[++r];Pn(o)?i&&t.setProperty(e,o,a):i?t.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function Nn(t){return 3===t||4===t||6===t}function Pn(t){return 64===t.charCodeAt(0)}function Fn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||Mn(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function Mn(t,e,n,i,r){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[s+1]=r));if(i===t[s+1])return void(t[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==i&&t.splice(s++,0,i),null!==r&&t.splice(s++,0,r)}function Ln(t){return-1!==t}function Vn(t){return 32767&t}function jn(t){return t>>16}function Un(t,e){let n=jn(t),i=e;for(;n>0;)i=i[15],n--;return i}function Bn(t){return"string"==typeof t?t:null==t?"":""+t}function qn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Bn(t)}const zn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Pt))();function Hn(t){return{name:"window",target:t.ownerDocument.defaultView}}function Gn(t){return{name:"body",target:t.ownerDocument.body}}function Wn(t){return t instanceof Function?t():t}let $n=!0;function Kn(t){const e=$n;return $n=t,e}let Yn=0;function Qn(t,e){const n=Jn(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,Xn(i.data,t),Xn(e,null),Xn(i.blueprint,null));const r=Zn(t,e),s=t.injectorIndex;if(Ln(r)){const t=Vn(r),n=Un(r,e),i=n[1].data;for(let r=0;r<8;r++)e[s+r]=n[t+r]|i[t+r]}return e[s+8]=r,s}function Xn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Jn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Zn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],i=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,i++;return n?n.injectorIndex|i<<16:-1}function ti(t,e,n){!function(t,e,n){let i="string"!=typeof n?n[Bt]:n.charCodeAt(0)||0;null==i&&(i=n[Bt]=Yn++);const r=255&i,s=1<<r,o=64&r,a=32&r,l=e.data;128&r?o?a?l[t+7]|=s:l[t+6]|=s:a?l[t+5]|=s:l[t+4]|=s:o?a?l[t+3]|=s:l[t+2]|=s:a?l[t+1]|=s:l[t]|=s}(t,e,n)}function ei(t,e,n,i=ut.Default,r){if(null!==t){const r=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Bt];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof r){fn(e,t);try{const t=r();if(null!=t||i&ut.Optional)return t;throw new Error(`No provider for ${qn(n)}!`)}finally{_n()}}else if("number"==typeof r){if(-1===r)return new li(t,e);let s=null,o=Jn(t,e),a=-1,l=i&ut.Host?e[16][6]:null;for((-1===o||i&ut.SkipSelf)&&(a=-1===o?Zn(t,e):e[o+8],ai(i,!1)?(s=e[1],o=Vn(a),e=Un(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(oi(r,o,t.data)){const t=ii(o,e,n,s,i,l);if(t!==ni)return t}ai(i,e[1].data[o+8]===l)&&oi(r,o,e)?(s=t,o=Vn(a),e=Un(a,e)):o=-1}}}if(i&ut.Optional&&void 0===r&&(r=null),0==(i&(ut.Self|ut.Host))){const t=e[9],s=Qt(void 0);try{return t?t.get(n,r,i&ut.Optional):te(n,r,i&ut.Optional)}finally{Qt(s)}}if(i&ut.Optional)return r;throw new Error(`NodeInjector: NOT_FOUND [${qn(n)}]`)}const ni={};function ii(t,e,n,i,r,s){const o=e[1],a=o.data[t+8],l=ri(a,o,n,null==i?Re(a)&&$n:i!=o&&3===a.type,r&ut.Host&&s===a);return null!==l?si(e,o,l,a):ni}function ri(t,e,n,i,r){const s=t.providerIndexes,o=e.data,a=65535&s,l=t.directiveStart,c=s>>16,u=r?a+c:t.directiveEnd;for(let h=i?a:a+c;h<u;h++){const t=o[h];if(h<l&&n===t||h>=l&&t.type===n)return h}if(r){const t=o[l];if(t&&Pe(t)&&t.type===n)return l}return null}function si(t,e,n,i){let r=t[n];const s=e.data;if(r instanceof Dn){const o=r;if(o.resolving)throw new Error(`Circular dep for ${qn(s[n])}`);const a=Kn(o.canSeeViewProviders);let l;o.resolving=!0,o.injectImpl&&(l=Qt(o.injectImpl)),fn(t,i);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{onChanges:i,onInit:r,doCheck:s}=e;i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)),r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{o.injectImpl&&Qt(l),Kn(a),o.resolving=!1,_n()}}return r}function oi(t,e,n){const i=64&t,r=32&t;let s;return s=128&t?i?r?n[e+7]:n[e+6]:r?n[e+5]:n[e+4]:i?r?n[e+3]:n[e+2]:r?n[e+1]:n[e],!!(s&1<<t)}function ai(t,e){return!(t&ut.Self||t&ut.Host&&e)}class li{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return ei(this._tNode,this._lView,t,void 0,e)}}function ci(t){return rt(()=>{const e=Object.getPrototypeOf(t.prototype).constructor,n=e[Ut]||function t(e){const n=e;if(Tt(e))return()=>{const e=t(At(n));return e?e():null};let i=Ie(n);if(null===i){const t=vt(n);i=t&&t.factory}return i||null}(e);return null!==n?n:t=>new t})}function ui(t){return t.ngDebugContext}function hi(t){return t.ngOriginalError}function di(t,...e){t.error(...e)}class pi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||di}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?ui(t)?ui(t):this._findContext(hi(t)):null}_findOriginalError(t){let e=hi(t);for(;e&&hi(e);)e=hi(e);return e}}class fi{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class mi extends fi{getTypeName(){return"HTML"}}class gi extends fi{getTypeName(){return"Style"}}class yi extends fi{getTypeName(){return"Script"}}class vi extends fi{getTypeName(){return"URL"}}class _i extends fi{getTypeName(){return"ResourceURL"}}function bi(t){return t instanceof fi?t.changingThisBreaksApplicationSecurity:t}function wi(t,e){const n=xi(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function xi(t){return t instanceof fi&&t.getTypeName()||null}let Ci=!0,Ei=!1;function Si(){return Ei=!0,Ci}class ki{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(i){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Ii=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ai=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ti(t){return(t=String(t)).match(Ii)||t.match(Ai)?t:(Si()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Oi(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Di(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Ri=Oi("area,br,col,hr,img,wbr"),Ni=Oi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pi=Oi("rp,rt"),Fi=Di(Pi,Ni),Mi=Di(Ri,Di(Ni,Oi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Di(Pi,Oi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fi),Li=Oi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vi=Oi("srcset"),ji=Di(Li,Vi,Oi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Oi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ui=Oi("script,style,template");class Bi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Mi.hasOwnProperty(e))return this.sanitizedSomething=!0,!Ui.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,s=e.toLowerCase();if(!ji.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;Li[s]&&(o=Ti(o)),Vi[s]&&(i=o,o=(i=String(i)).split(",").map(t=>Ti(t.trim())).join(", ")),this.buf.push(" ",e,'="',Hi(o),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Mi.hasOwnProperty(e)&&!Ri.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Hi(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const qi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zi=/([^\#-~ |!])/g;function Hi(t){return t.replace(/&/g,"&amp;").replace(qi,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(zi,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gi;function Wi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const $i=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Ki=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Yi=/^url\(([^)]+)\)$/;function Qi(t){if(!(t=String(t).trim()))return"";const e=t.match(Yi);return e&&Ti(e[1])===e[1]||t.match(Ki)&&function(t){let e=!0,n=!0;for(let i=0;i<t.length;i++){const r=t.charAt(i);"'"===r&&n?e=!e:'"'===r&&e&&(n=!n)}return e&&n}(t)?t:(Si()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function Xi(t){const e=tr();return e?e.sanitize($i.STYLE,t)||"":wi(t,"Style")?bi(t):Qi(Bn(t))}function Ji(t){const e=tr();return e?e.sanitize($i.URL,t)||"":wi(t,"URL")?bi(t):Ti(Bn(t))}const Zi=function(t,e,n){if(void 0===e&&void 0===n)return Xi(t);let i=!0;return 1&(n=n||3)&&(i=function(t){return"background-image"===t||"backgroundImage"===t||"background"===t||"border-image"===t||"borderImage"===t||"border-image-source"===t||"borderImageSource"===t||"filter"===t||"list-style"===t||"listStyle"===t||"list-style-image"===t||"listStyleImage"===t||"clip-path"===t||"clipPath"===t}(t)),2&n?i?Xi(e):bi(e):i};function tr(){const t=Je();return t&&t[12]}function er(t,e){t.__ngContext__=e}function nr(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}function ir(){throw new Error("Cannot mix multi providers and regular providers")}function rr(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}function sr(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==rr(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function or(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function ar(t,e,n){let i=4;const r=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Nn(t[e]))return e;return t.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!or(t,l,n)||""===l&&1===e.length){if(lr(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==t.attrs){if(!sr(t.attrs,c,n)){if(lr(i))return!1;o=!0}continue}const u=cr(8&i?"class":l,r,0==t.type&&"ng-template"!==t.tagName,n);if(-1===u){if(lr(i))return!1;o=!0;continue}if(""!==c){let t;t=u>s?"":r[u+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==rr(e,c,0)||2&i&&c!==t){if(lr(i))return!1;o=!0}}}}else{if(!o&&!lr(i)&&!lr(l))return!1;if(o&&lr(l))continue;o=!1,i=l|1&i}}return lr(i)||o}function lr(t){return 0==(1&t)}function cr(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){if(t[n]===e)return n;n++}return-1}(e,t)}function ur(t,e,n=!1){for(let i=0;i<e.length;i++)if(ar(t,e[i],n))return!0;return!1}function hr(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function dr(t,e){return t?":not("+e.trim()+")":e}function pr(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&i){const e=t[++n];r+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""===r||lr(o)||(e+=dr(s,r),r=""),i=o,s=s||!lr(i);n++}return""!==r&&(e+=dr(s,r)),e}const fr={};function mr(t){const e=t[3];return Oe(e)?e[3]:e}function gr(t){yr(Ze(),Je(),wn()+t,on())}function yr(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&kn(e,i,n)}else{const i=t.preOrderHooks;null!==i&&In(e,i,0,n)}xn(n)}function vr(t,e){return t<<17|e<<2}function _r(t){return t>>17&32767}function br(t){return 2|t}function wr(t){return(131068&t)>>2}function xr(t,e){return-131069&t|e<<2}function Cr(t){return 1|t}function Er(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const n=t.data[s];pn(r),n.contentQueries(2,e[s],s)}}}function Sr(t,e,n){return Le(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function kr(t,e,n,i,r,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=r,u[2]=140|i,Ye(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[11]=a||t&&t[11],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=s,u[16]=2==e.type?t[16]:u,u}function Ir(t,e,n,i,r,s){const o=n+19,a=t.data[o]||function(t,e,n,i,r,s){const o=en(),a=rn(),l=a?o:o&&o.parent,c=t.data[n]=Lr(0,l&&l!==e?l:null,i,n,r,s);return null===t.firstChild&&(t.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(t,e,o,i,r,s);return nn(a,!0),a}function Ar(t,e,n){mn(e,e[6]);try{const i=t.viewQuery;null!==i&&os(1,i,n);const r=t.template;null!==r&&Dr(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Er(t,e),t.staticViewQueries&&os(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)es(t,e[n])}(e,s)}finally{e[2]&=-5,bn()}}function Tr(t,e,n,i){const r=e[2];if(256==(256&r))return;mn(e,e[6]);const s=on();try{Ye(e),Qe.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Dr(t,e,n,2,i);const o=3==(3&r);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&kn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&In(e,n,0,null),An(e,0)}if(function(t){let e=t[13];for(;null!==e;){let n;if(Oe(e)&&(n=e[2])>>1==-1){for(let t=9;t<e.length;t++){const n=e[t],i=n[1];$e(n)&&Tr(i,n,i.template,n[8])}0!=(1&n)&&Zr(e,t[16])}e=e[4]}}(e),null!==t.contentQueries&&Er(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&kn(e,n)}else{const n=t.contentHooks;null!==n&&In(e,n,1),An(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let i=t.expandoStartIndex,r=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,xn(s),i+=9+n[++t],r=i):i+=o:(null!==o&&(hn(i,r),o(2,e[r])),r++)}}}finally{xn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ts(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&os(2,l,i),!s)if(o){const n=t.viewCheckHooks;null!==n&&kn(e,n)}else{const n=t.viewHooks;null!==n&&In(e,n,2),An(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73)}finally{bn()}}function Or(t,e,n,i){const r=e[10],s=!on(),o=We(e);try{s&&!o&&r.begin&&r.begin(),o&&Ar(t,e,i),Tr(t,e,n,i)}finally{s&&!o&&r.end&&r.end()}}function Dr(t,e,n,i,r){const s=wn();try{xn(-1),2&i&&e.length>19&&yr(t,e,0,on()),n(i,r)}finally{xn(s)}}function Rr(t,e,n){if(De(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function Nr(t,e,n){Xe()&&(function(t,e,n,i){const r=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Qn(n,e),er(i,e);const o=n.initialInputs;for(let a=r;a<s;a++){const i=t.data[a],s=Pe(i);s&&Yr(e,n,i);const l=si(e,t,a,n);er(l,e),null!==o&&Qr(0,a-r,l,i,0,o),s&&(He(n.index,e)[8]=l)}}(t,e,n,Be(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-19;try{xn(a);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];null!==i.hostBindings||0!==i.hostVars||null!==i.hostAttrs?zr(i,r):o&&s.push(null)}}finally{xn(-1)}}(t,e,n))}function Pr(t,e,n=Be){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(e,t):t[o];t[r++]=a}}}function Fr(t){return t.tView||(t.tView=Mr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts))}function Mr(t,e,n,i,r,s,o,a,l,c){const u=19+i,h=u+r,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:fr);return n}(u,h);return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:c}}function Lr(t,e,n,i,r,s){return{type:n,index:i,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Vr(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function jr(t,e,n,i,r,s,o,a){const l=Be(e,n);let c,u=e.inputs;!a&&null!=u&&(c=u[i])?(ds(t,n,c,i,r),Re(e)&&function(t,e){const n=He(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(i=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=o?o(r,e.tagName||"",i):r,Le(s)?s.setProperty(l,i,r):Pn(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function Ur(t,e,n,i){let r=!1;if(Xe()){const s=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];ur(n,o.selectors,!1)&&(r||(r=[]),ti(Qn(n,e),t,o.type),Pe(o)?(2&n.flags&&nr(n),Gr(t,n),r.unshift(o)):r.push(o))}return r}(t,e,n),o=null===i?null:{"":-1};if(null!==s){let i=0;r=!0,$r(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}Hr(t,n,s.length);let a=!1,l=!1;for(let r=0;r<s.length;r++){const c=s[r];n.mergedAttrs=Fn(n.mergedAttrs,c.hostAttrs),Kr(t,e,c),Wr(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-19),a=!0),l||!c.onChanges&&!c.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-19),l=!0),Br(t,c),i+=c.hostVars}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,s=[];let o=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=i[l],e=t.inputs;s.push(null!==r?Xr(e,r):null),o=Vr(e,l,o),a=Vr(t.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),qr(t,e,i)}o&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new Error(`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,o)}return n.mergedAttrs=Fn(n.mergedAttrs,n.attrs),r}function Br(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function qr(t,e,n){for(let i=0;i<n;i++)e.push(fr),t.blueprint.push(fr),t.data.push(null)}function zr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Hr(t,e,n){const i=19-e.index,r=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(i,r,n)}function Gr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Wr(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Pe(e)&&(n[""]=t)}}function $r(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Kr(t,e,n){t.data.push(n);const i=n.factory||(n.factory=Ie(n.type)),r=new Dn(i,Pe(n),null);t.blueprint.push(r),e.push(r)}function Yr(t,e,n){const i=Be(e,t),r=Fr(n),s=t[10],o=ns(t,kr(t,r,null,n.onPush?64:16,i,e,s,s.createRenderer(i,n)));t[e.index]=o}function Qr(t,e,n,i,r,s){const o=s[e];if(null!==o){const t=i.setInput;for(let e=0;e<o.length;){const r=o[e++],s=o[e++],a=o[e++];null!==t?i.setInput(n,a,r,s):n[s]=a}}}function Xr(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function Jr(t,e,n,i){return new Array(t,!0,-2,e,null,null,i,n,null)}function Zr(t,e){const n=t[5];for(let i=0;i<n.length;i++){const t=n[i],r=t[3][3][16];if(r!==e&&0==(16&r[2])){const e=t[1];Tr(e,t,e.template,t[8])}}}function ts(t,e){const n=He(e,t);if($e(n)&&80&n[2]){const t=n[1];Tr(t,n,t.template,n[8])}}function es(t,e){const n=He(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),Ar(i,n,n[8])}function ns(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function is(t){for(;t;){t[2]|=64;const e=mr(t);if(Fe(t)&&!e)return t;t=e}return null}function rs(t,e,n){const i=e[10];i.begin&&i.begin();try{Tr(t,e,t.template,n)}catch(r){throw hs(e,r),r}finally{i.end&&i.end()}}function ss(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=Ge(n),r=i[1];Or(r,i,r.template,n)}}(t[8])}function os(t,e,n){pn(0),e(t,n)}const as=(()=>Promise.resolve(null))();function ls(t){return t[7]||(t[7]=[])}function cs(t){return t.cleanup||(t.cleanup=[])}function us(t,e){return function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(e[t.index])[11]}function hs(t,e){const n=t[9],i=n?n.get(pi,null):null;i&&i.handleError(e)}function ds(t,e,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],c=t.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function ps(t,e){const n=e[3];return-1===t.index?Oe(n)?n:null:n}function fs(t,e){const n=ps(t,e);return n?ks(e[11],n[7]):null}function ms(t,e,n,i,r){if(null!=i){let s,o=!1;Oe(i)?s=i:Te(i)&&(o=!0,i=i[0]);const a=je(i);0===t&&null!==n?null==r?Es(e,n,a):Cs(e,n,a,r||null):1===t&&null!==n?Cs(e,n,a,r||null):2===t?function(t,e,n){const i=ks(t,e);i&&function(t,e,n,i){Le(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,i,r){const s=n[7];s!==je(n)&&ms(e,t,i,s,r);for(let o=9;o<n.length;o++){const r=n[o];Ds(r[1],r,t,e,i,s)}}(e,t,s,n,r)}}function gs(t,e,n,i){const r=fs(t.node,e);r&&Ds(t,e,e[11],n?1:2,r,i)}function ys(t,e){const n=t[5],i=n.indexOf(e);n.splice(i,1)}function vs(t,e){if(t.length<=9)return;const n=9+e,i=t[n];if(i){const r=i[17];null!==r&&r!==t&&ys(r,i),e>0&&(t[n-1][4]=i[4]);const s=ae(t,9+e);gs(i[1],i,!1,null);const o=s[5];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function _s(t,e){if(!(256&e[2])){const n=e[11];Le(n)&&n.destroyNode&&Ds(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return ws(t[1],t);for(;e;){let n=null;if(Te(e))n=e[13];else{const t=e[9];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Te(e)&&ws(e[1],e),e=bs(e,t);null===e&&(e=t),Te(e)&&ws(e[1],e),n=e&&e[4]}e=n}}(e)}}function bs(t,e){let n;return Te(t)&&(n=t[6])&&2===n.type?ps(n,t):t[3]===e?null:t[3]}function ws(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];t instanceof Dn||n[i+1].call(t)}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const r=n[i+1],s="function"==typeof r?r(e):je(e[r]),o=t[n[i+2]],a=n[i+3];"boolean"==typeof a?s.removeEventListener(n[i],o,a):a>=0?t[a]():t[-a].unsubscribe(),i+=2}else n[i].call(t[n[i+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Le(e[11])&&e[11].destroy();const i=e[17];if(null!==i&&Oe(e[3])){i!==e[3]&&ys(i,e);const n=e[5];null!==n&&n.detachView(t)}}}function xs(t,e,n){let i=e.parent;for(;null!=i&&(4===i.type||5===i.type);)i=(e=i).parent;if(null==i){const t=n[6];return 2===t.type?fs(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Be(e,n).parentNode;if(2&i.flags){const e=t.data,n=e[e[i.index].directiveStart].encapsulation;if(n!==pe.ShadowDom&&n!==pe.Native)return null}return Be(i,n)}function Cs(t,e,n,i){Le(t)?t.insertBefore(e,n,i):e.insertBefore(n,i,!0)}function Es(t,e,n){Le(t)?t.appendChild(e,n):e.appendChild(n)}function Ss(t,e,n,i){null!==i?Cs(t,e,n,i):Es(t,e,n)}function ks(t,e){return Le(t)?t.parentNode(e):e.parentNode}function Is(t,e){if(2===t.type){const n=ps(t,e);return null===n?null:Ts(n.indexOf(e,9)-9,n)}return 4===t.type||5===t.type?Be(t,e):null}function As(t,e,n,i){const r=xs(t,i,e);if(null!=r){const t=e[11],s=Is(i.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Ss(t,r,n[e],s);else Ss(t,r,n,s)}}function Ts(t,e){const n=9+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){const i=n.type;if(3===i)return Be(n,e);if(0===i)return Ts(-1,e[n.index]);if(4===i||5===i){const i=n.child;if(null!==i)return t(e,i);{const t=e[n.index];return Oe(t)?Ts(-1,t):je(t)}}{const i=e[16],r=i[6],s=mr(i),o=r.projection[n.projection];return null!=o?t(s,o):t(e,n.next)}}return null}(t,i)}return e[7]}function Os(t,e,n,i,r,s,o){for(;null!=n;){const a=i[n.index],l=n.type;o&&0===e&&(a&&er(je(a),i),n.flags|=4),64!=(64&n.flags)&&(4===l||5===l?(Os(t,e,n.child,i,r,s,!1),ms(e,t,r,a,s)):1===l?Rs(t,e,i,n,r,s):ms(e,t,r,a,s)),n=o?n.projectionNext:n.next}}function Ds(t,e,n,i,r,s){Os(n,i,t.node.child,e,r,s,!1)}function Rs(t,e,n,i,r,s){const o=n[16],a=o[6].projection[i.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)ms(e,t,r,a[l],s);else Os(t,e,a,o[3],r,s,!0)}function Ns(t,e,n){Le(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ps(t,e,n){Le(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Fs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,i,r,s=!1){for(;null!==i;){const o=n[i.index];if(null!==o&&r.push(je(o)),Oe(o))for(let e=9;e<o.length;e++){const n=o[e],i=n[1].firstChild;null!==i&&t(n[1],n,i,r)}const a=i.type;if(4===a||5===a)t(e,n,i.child,r);else if(1===a){const e=n[16],s=e[6],o=mr(e);let a=s.projection[i.projection];null!==a&&null!==o&&t(o[1],o,a,r,!0)}i=s?i.projectionNext:i.next}return r}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}_s(this._lView[1],this._lView)}onDestroy(t){var e,n,i;e=this._lView[1],i=t,ls(n=this._lView).push(i),e.firstCreatePass&&cs(e).push(n[7].length-1,null)}markForCheck(){is(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){rs(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){an(!0);try{rs(t,e,n)}finally{an(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Ds(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ms extends Fs{constructor(t){super(t),this._view=t}detectChanges(){ss(this._view)}checkNoChanges(){!function(t){an(!0);try{ss(t)}finally{an(!1)}}(this._view)}get context(){return null}}let Ls,Vs,js;function Us(t,e,n){return Ls||(Ls=class extends t{}),new Ls(Be(e,n))}function Bs(t,e,n,i){return Vs||(Vs=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=kr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const i=this._declarationView[5];null!==i&&(n[5]=i.createEmbeddedView(e)),Ar(e,n,t);const r=new Fs(n);return r._tViewNode=n[6],r}}),0===n.type?new Vs(i,n,Us(e,n,i)):null}function qs(t,e,n,i){let r;js||(js=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Us(e,this._hostTNode,this._hostView)}get injector(){return new li(this._hostTNode,this._hostView)}get parentInjector(){const t=Zn(this._hostTNode,this._hostView),e=Un(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let i=jn(t),r=e,s=e[6];for(;i>1;)r=r[15],s=r[6],i--;return s}(t,this._hostView,this._hostTNode);return Ln(t)&&null!=n?new li(n,e):new li(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-9}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const s=n||this.parentInjector;if(!r&&null==t.ngModule&&s){const t=s.get(ie,null);t&&(r=t)}const o=t.create(s,i,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,i=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Oe(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new js(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e);return function(t,e,n,i){const r=9+i,s=n.length;i>0&&(n[r-1][4]=e),i<s-9?(e[4]=n[r],oe(n,9+i,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[5],i=e[3][3][16];16!=(16&i[2])&&e[16]!==i&&(t[2]|=1),null===n?t[5]=[e]:n.push(e)}(o,e);const a=e[5];null!==a&&a.insertView(t),e[2]|=128}(i,n,this._lContainer,r),gs(i,n,!0,Ts(r,this._lContainer)),t.attachToViewContainerRef(this),oe(this._lContainer[8],r,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);(function(t,e){const n=vs(t,e);n&&_s(n[1],n)})(this._lContainer,e),ae(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=vs(this._lContainer,e);return n&&null!=ae(this._lContainer[8],e)?new Fs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=i[n.index];if(Oe(s))r=s,function(t,e){t[2]=-2}(r);else{let t;if(4===n.type)t=je(s);else if(t=i[11].createComment(""),Fe(i)){const e=i[11],r=Be(n,i);Cs(e,ks(e,r),t,function(t,e){return Le(t)?t.nextSibling(e):e.nextSibling}(e,r))}else As(i[1],i,t,n);i[n.index]=r=Jr(s,i,t,n),ns(i,r)}return new js(r,n,i)}function zs(t=!1){return function(t,e,n){if(!n&&Re(t)){const n=He(t.index,e);return new Fs(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Fs(e[16],e):null}(en(),Je(),t)}let Hs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Gs(),t})();const Gs=zs,Ws=new qt("Set Injector scope."),$s={},Ks={},Ys=[];let Qs=void 0;function Xs(){return void 0===Qs&&(Qs=new ne),Qs}function Js(t,e=null,n=null,i){return new Zs(t,n,e||Xs(),i)}class Zs{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&se(e,n=>this.processProvider(n,t,e)),se([t],t=>this.processInjectorType(t,[],r)),this.records.set(zt,no(void 0,this));const s=this.records.get(Ws);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:Et(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Ht,n=ut.Default){this.assertNotDestroyed();const i=Yt(this);try{if(!(n&ut.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof qt)&&gt(t);e=n&&this.injectableDefInScope(n)?no(to(t),$s):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&ut.Self?Xs():this.parent).get(t,e=n&ut.Optional&&e===Ht?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(Et(t)),i)throw s;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=Et(e);if(Array.isArray(e))r=e.map(Et).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):Et(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(Gt,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Yt(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(Et(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=At(t)))return!1;let i=vt(t);const r=null==i&&t.ngModule||void 0,s=void 0===r?t:r,o=-1!==n.indexOf(s);if(void 0!==r&&(i=vt(r)),null==i)return!1;if(null!=i.imports&&!o){let t;n.push(s);try{se(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];se(i,t=>this.processProvider(t,n,i||Ys))}}this.injectorDefTypes.add(s),this.records.set(s,no(i.factory,$s));const a=i.providers;if(null!=a&&!o){const e=t;se(a,t=>this.processProvider(t,e,a))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=ro(t=At(t))?t:At(t&&t.provide);const r=function(t,e,n){return io(t)?no(void 0,t.useValue):no(eo(t,e,n),$s)}(t,e,n);if(ro(t)||!0!==t.multi){const t=this.records.get(i);t&&void 0!==t.multi&&ir()}else{let e=this.records.get(i);e?void 0===e.multi&&ir():(e=no(void 0,$s,!0),e.factory=()=>ee(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===Ks?function(t){throw new Error(`Cannot instantiate cyclic dependency! ${t}`)}(Et(t)):e.value===$s&&(e.value=Ks,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function to(t){const e=gt(t),n=null!==e?e.factory:Ie(t);if(null!==n)return n;const i=vt(t);if(null!==i)return i.factory;if(t instanceof qt)throw new Error(`Token ${Et(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=le(e,"?");throw new Error(`Can't resolve all parameters for ${Et(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[_t]||t[xt]||t[wt]&&t[wt]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function eo(t,e,n){let i=void 0;if(ro(t)){const e=At(t);return Ie(e)||to(e)}if(io(t))i=()=>At(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(...ee(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>Jt(At(t.useExisting));else{const r=At(t&&(t.useClass||t.provide));if(r||function(t,e,n){let i="";throw t&&e&&(i=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${Et(t)}'`+i)}(e,n,t),!function(t){return!!t.deps}(t))return Ie(r)||to(r);i=()=>new r(...ee(t.deps))}var r;return i}function no(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function io(t){return null!==t&&"object"==typeof t&&Wt in t}function ro(t){return"function"==typeof t}const so=function(t,e,n){return function(t,e=null,n=null,i){const r=Js(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let oo=(()=>{class t{static create(t,e){return Array.isArray(t)?so(t,e,""):so(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Ht,t.NULL=new ne,t.\u0275prov=pt({token:t,providedIn:"any",factory:()=>Jt(zt)}),t.__NG_ELEMENT_ID__=-1,t})();const ao=new qt("AnalyzeForEntryComponents");let lo=new Map;const co=new Set;function uo(t){return"string"==typeof t?t:t.text()}function ho(t,e){let n=t.styles,i=t.classes,r=0;for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?r=t:1==r?i=St(i,t):2==r&&(n=St(n,t+": "+e[++s]+";"))}null!==n&&(t.styles=n),null!==i&&(t.classes=i)}let po=null;function fo(){if(!po){const t=Pt.Symbol;if(t&&t.iterator)po=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(po=n)}}}return po}function mo(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class go{constructor(t){this.wrapped=t}static wrap(t){return new go(t)}static unwrap(t){return go.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof go}}function yo(t){return!!vo(t)&&(Array.isArray(t)||!(t instanceof Map)&&fo()in t)}function vo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function _o(t,e,n){return t[e]=n}function bo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function wo(t,e,n,i){const r=Je();return bo(r,cn(),e)&&(Ze(),function(t,e,n,i,r,s){const o=Be(t,e),a=e[11];if(null==i)Le(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==r?Bn(i):r(i,t.tagName||"",n);Le(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(Cn(),r,t,e,n,i)),wo}function xo(t,e,n,i){return bo(t,cn(),n)?e+Bn(n)+i:fr}function Co(t,e,n,i,r,s,o,a){const l=Je(),c=Ze(),u=t+19,h=c.firstCreatePass?function(t,e,n,i,r,s,o,a,l){const c=e.consts,u=Ir(e,n[6],t,0,o||null,Ke(c,a));Ur(e,n,u,Ke(c,l)),Sn(e,u);const h=u.tViews=Mr(2,-1,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),d=Lr(0,null,2,-1,null,null);return d.injectorIndex=u.injectorIndex,h.node=d,null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(t,c,l,e,n,i,r,s,o):c.data[u];nn(h,!1);const d=l[11].createComment("");As(c,l,d,h),er(d,l),ns(l,l[u]=Jr(d,l,d,h)),Ne(h)&&Nr(c,l,h),null!=o&&Pr(l,h,a)}function Eo(t){return ze(Qe.lFrame.contextLView,t)}function So(t,e=ut.Default){const n=Je();return null==n?Jt(t,e):ei(en(),n,At(t),e)}function ko(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const r=n[i];if(Nn(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(r===e)return n[i+1];i+=2}}}return null}(en(),t)}function Io(){throw new Error("invalid")}function Ao(t,e,n){const i=Je();return bo(i,cn(),e)&&jr(Ze(),Cn(),i,t,e,i[11],n,!1),Ao}function To(t,e,n,i,r){const s=r?"class":"style";ds(t,n,e.inputs[s],s,i)}function Oo(t,e,n,i){const r=Je(),s=Ze(),o=19+t,a=r[11],l=r[o]=Sr(e,a,Qe.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,i,r,s,o){const a=e.consts,l=Ke(a,s),c=Ir(e,n[6],t,3,r,l);return Ur(e,n,c,Ke(a,o)),null!==c.mergedAttrs&&ho(c,c.mergedAttrs),null!==e.queries&&e.queries.elementStart(e,c),c}(t,s,r,0,e,n,i):s.data[o];nn(c,!0);const u=c.mergedAttrs;null!==u&&Rn(a,l,u);const h=c.classes;null!==h&&Ps(a,l,h);const d=c.styles;null!==d&&Ns(a,l,d),As(s,r,l,c),0===Qe.lFrame.elementDepthCount&&er(l,r),Qe.lFrame.elementDepthCount++,Ne(c)&&(Nr(s,r,c),Rr(s,c,r)),null!==i&&Pr(r,c)}function Do(){let t=en();rn()?sn():(t=t.parent,nn(t,!1));const e=t;Qe.lFrame.elementDepthCount--;const n=Ze();n.firstCreatePass&&(Sn(n,t),De(t)&&n.queries.elementEnd(t)),null!==e.classes&&function(t){return 0!=(16&t.flags)}(e)&&To(n,e,Je(),e.classes,!0),null!==e.styles&&function(t){return 0!=(32&t.flags)}(e)&&To(n,e,Je(),e.styles,!1)}function Ro(t,e,n,i){Oo(t,e,n,i),Do()}function No(t,e,n){const i=Je(),r=Ze(),s=t+19,o=r.firstCreatePass?function(t,e,n,i,r){const s=e.consts,o=Ke(s,i),a=Ir(e,n[6],t,4,"ng-container",o);return null!==o&&ho(a,o),Ur(e,n,a,Ke(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,r,i,e,n):r.data[s];nn(o,!0);const a=i[s]=i[11].createComment("");As(r,i,a,o),er(a,i),Ne(o)&&(Nr(r,i,o),Rr(r,o,i)),null!=n&&Pr(i,o)}function Po(){let t=en();const e=Ze();rn()?sn():(t=t.parent,nn(t,!1)),e.firstCreatePass&&(Sn(e,t),De(t)&&e.queries.elementEnd(t))}function Fo(){return Je()}function Mo(t){return!!t&&"function"==typeof t.then}function Lo(t){return!!t&&"function"==typeof t.subscribe}function Vo(t,e,n=!1,i){const r=Je(),s=Ze(),o=en();return Uo(s,r,r[11],o,t,e,n,i),Vo}function jo(t,e,n=!1,i){const r=en(),s=Je(),o=us(r,s);return Uo(Ze(),s,o,r,t,e,n,i),jo}function Uo(t,e,n,i,r,s,o=!1,a){const l=Ne(i),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),u=ls(e);let h=!0;if(3===i.type){const d=Be(i,e),p=a?a(d):fe,f=p.target||d,m=u.length,g=a?t=>a(je(t[i.index])).target:i.index;if(Le(n)){let o=null;if(!a&&l&&(o=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const t=r[s];if(t===n&&r[s+1]===i){const t=e[7],n=r[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,r,i.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=qo(i,e,s,!1);const t=n.listen(p.name||f,r,s);u.push(s,t),c&&c.push(r,g,m,m+1)}}else s=qo(i,e,s,!0),f.addEventListener(r,s,o),u.push(s),c&&c.push(r,g,m,o)}const d=i.outputs;let p;if(h&&null!==d&&(p=d[r])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(s),o=u.length;u.push(s,t),c&&c.push(r,i.index,o,-(o+1))}}}function Bo(t,e,n){try{return!1!==e(n)}catch(i){return hs(t,i),!1}}function qo(t,e,n,i){return function r(s){if(s===Function)return n;const o=2&t.flags?He(t.index,e):e;0==(32&e[2])&&is(o);let a=Bo(e,n,s),l=r.__ngNextListenerFn__;for(;l;)a=Bo(e,l,s)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function zo(t=1){return function(t){return(Qe.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Qe.lFrame.contextLView))[8]}(t)}function Ho(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?ur(t,s,!0):hr(i,s))return r}else n=r}return n}function Go(t){const e=Je()[16][6];if(!e.projection){const n=e.projection=le(t?t.length:1,null),i=n.slice();let r=e.child;for(;null!==r;){const e=t?Ho(r,t):0;null!==e&&(i[e]?i[e].projectionNext=r:n[e]=r,i[e]=r),r=r.next}}}function Wo(t,e=0,n){const i=Je(),r=Ze(),s=Ir(r,i[6],t,1,null,n||null);null===s.projection&&(s.projection=e),sn(),function(t,e,n){Rs(e[11],0,e,n,xs(t,n,e),Is(n.parent||e[6],e))}(r,i,s)}function $o(t,e,n,i,r){const s=Je(),o=xo(s,e,n,i);return o!==fr&&jr(Ze(),Cn(),s,t,o,s[11],r,!1),$o}const Ko=[];function Yo(t,e,n,i,r){const s=t[n+1],o=null===e;let a=i?_r(s):wr(s),l=!1;for(;0!==a&&(!1===l||o);){const n=t[a+1];Qo(t[a],e)&&(l=!0,t[a+1]=i?Cr(n):br(n)),a=i?_r(n):wr(n)}l&&(t[n+1]=i?br(s):Cr(s))}function Qo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&he(t,e)>=0}const Xo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Jo(t){return t.substring(Xo.key,Xo.keyEnd)}function Zo(t,e){const n=Xo.textEnd;return n===e?-1:(e=Xo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Xo.key=e,n),ta(t,e,n))}function ta(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ea(t,e,n){return ra(t,e,n,!1),ea}function na(t,e){return ra(t,e,null,!0),na}function ia(t,e){for(let n=function(t){return function(t){Xo.key=0,Xo.keyEnd=0,Xo.value=0,Xo.valueEnd=0,Xo.textEnd=t.length}(t),Zo(t,ta(t,0,Xo.textEnd))}(e);n>=0;n=Zo(e,n))ce(t,Jo(e),!0)}function ra(t,e,n,i){const r=Je(),s=Ze(),o=un(2);if(s.firstUpdatePass&&oa(s,t,o,i),e!==fr&&bo(r,o,e)){let a;null==n&&(a=function(){const t=Qe.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),ca(s,s.data[wn()+19],r,r[11],t,r[o+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=Et(bi(t)))),t}(e,n),i,o)}}function sa(t,e){return e>=t.expandoStartIndex}function oa(t,e,n,i){const r=t.data;if(null===r[n+1]){const s=r[wn()+19],o=sa(t,n);da(s,i)&&null===e&&!o&&(e=!1),e=function(t,e,n,i){const r=function(t){const e=Qe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=la(n=aa(null,t,e,n,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==r)if(n=aa(r,t,e,n,i),null===s){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==wr(i))return t[_r(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=aa(null,t,e,n[1],i),n=la(n,e.attrs,i),function(t,e,n,i){t[_r(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else s=function(t,e,n){let i=void 0;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=la(i,t[s].hostAttrs,n);return la(i,e.attrs,n)}(t,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),n}(r,s,e,i),function(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=_r(o),l=wr(o);t[i]=n;let c,u=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||he(t,c)>0)&&(u=!0)}else c=n;if(r)if(0!==l){const e=_r(t[a+1]);t[i+1]=vr(e,a),0!==e&&(t[e+1]=xr(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=vr(a,0),0!==a&&(t[a+1]=xr(t[a+1],i)),a=i;else t[i+1]=vr(l,0),0===a?a=i:t[l+1]=xr(t[l+1],i),l=i;u&&(t[i+1]=br(t[i+1])),Yo(t,c,i,!0),Yo(t,c,i,!1),function(t,e,n,i,r){const s=r?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&he(s,e)>=0&&(n[i+1]=Cr(n[i+1]))}(e,c,t,i,s),o=vr(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,n,o,i)}}function aa(t,e,n,i,r){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],i=la(i,s.hostAttrs,r),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function la(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ce(t,o,!!n||e[++s]))}return void 0===t?null:t}function ca(t,e,n,i,r,s,o,a){if(3!==e.type)return;const l=t.data,c=l[a+1];ha(1==(1&c)?ua(l,e,n,r,wr(c),o):void 0)||(ha(s)||function(t){return 2==(2&t)}(c)&&(s=ua(l,null,n,r,a,o)),function(t,e,n,i,r){const s=Le(t);if(e)r?s?t.addClass(n,i):n.classList.add(i):s?t.removeClass(n,i):n.classList.remove(i);else{const e=-1==i.indexOf("-")?void 0:2;null==r?s?t.removeStyle(n,i,e):n.style.removeProperty(i):s?t.setStyle(n,i,r,e):n.style.setProperty(i,r)}}(i,o,Ue(wn(),n),r,s))}function ua(t,e,n,i,r,s){const o=null===e;let a=void 0;for(;r>0;){const e=t[r],s=Array.isArray(e),l=s?e[1]:e,c=null===l;let u=n[r+1];u===fr&&(u=c?Ko:void 0);let h=c?ue(u,i):l===i?u:void 0;if(s&&!ha(h)&&(h=ue(e,i)),ha(h)&&(a=h,o))return a;const d=t[r+1];r=o?_r(d):wr(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=ue(t,i))}return a}function ha(t){return void 0!==t}function da(t,e){return 0!=(t.flags&(e?16:32))}function pa(t,e=""){const n=Je(),i=Ze(),r=t+19,s=i.firstCreatePass?Ir(i,n[6],t,3,null,null):i.data[r],o=n[r]=function(t,e){return Le(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);As(i,n,o,s),nn(s,!1)}function fa(t){return ma("",t,""),fa}function ma(t,e,n){const i=Je(),r=xo(i,t,e,n);return r!==fr&&function(t,e,n){const i=Ue(e,t),r=t[11];Le(r)?r.setValue(i,n):i.textContent=n}(i,wn(),r),ma}function ga(t,e,n){const i=Je();return bo(i,cn(),e)&&jr(Ze(),Cn(),i,t,e,i[11],n,!0),ga}function ya(t,e,n){const i=Je();if(bo(i,cn(),e)){const r=Ze(),s=Cn();jr(r,s,i,t,e,us(s,i),n,!0)}return ya}function va(t,e){const n=Ge(t)[1],i=n.data.length-1;Sn(n,{directiveStart:i,directiveEnd:i+1})}function _a(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let r=void 0;if(Pe(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=ba(t.inputs),e.declaredInputs=ba(t.declaredInputs),e.outputs=ba(t.outputs);const n=r.hostBindings;n&&Ca(t,n);const s=r.viewQuery,o=r.contentQueries;if(s&&wa(t,s),o&&xa(t,o),dt(t.inputs,r.inputs),dt(t.declaredInputs,r.declaredInputs),dt(t.outputs,r.outputs),Pe(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}e.afterContentChecked=e.afterContentChecked||r.afterContentChecked,e.afterContentInit=t.afterContentInit||r.afterContentInit,e.afterViewChecked=t.afterViewChecked||r.afterViewChecked,e.afterViewInit=t.afterViewInit||r.afterViewInit,e.doCheck=t.doCheck||r.doCheck,e.onDestroy=t.onDestroy||r.onDestroy,e.onInit=t.onInit||r.onInit}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===_a&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Fn(r.hostAttrs,n=Fn(n,r.hostAttrs))}}(i)}function ba(t){return t===fe?{}:t===me?[]:t}function wa(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function xa(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function Ca(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}class Ea{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Sa(t){t.type.prototype.ngOnChanges&&(t.setInput=ka,t.onChanges=function(){const t=Ia(this),e=t&&t.current;if(e){const n=t.previous;if(n===fe)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function ka(t,e,n,i){const r=Ia(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:fe,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[n],l=o[a];s[a]=new Ea(l&&l.currentValue,e,o===fe),t[i]=e}function Ia(t){return t.__ngSimpleChanges__||null}function Aa(t,e,n,i,r){if(t=At(t),Array.isArray(t))for(let s=0;s<t.length;s++)Aa(t[s],e,n,i,r);else{const s=Ze(),o=Je();let a=ro(t)?t:At(t.provide),l=eo(t);const c=en(),u=65535&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>16;if(ro(t)||!t.multi){const i=new Dn(l,r,So),p=Da(a,e,r?u:u+d,h);-1===p?(ti(Qn(c,o),s,a),Ta(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=65536),n.push(i),o.push(i)):(n[p]=i,o[p]=i)}else{const p=Da(a,e,u+d,h),f=Da(a,e,u,u+d),m=p>=0&&n[p],g=f>=0&&n[f];if(r&&!g||!r&&!m){ti(Qn(c,o),s,a);const u=function(t,e,n,i,r){const s=new Dn(t,n,So);return s.multi=[],s.index=e,s.componentProviders=0,Oa(s,r,i&&!n),s}(r?Na:Ra,n.length,r,i,l);!r&&g&&(n[f].providerFactory=u),Ta(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=65536),n.push(u),o.push(u)}else Ta(s,t,p>-1?p:f),Oa(n[r?f:p],l,!r&&i);!r&&i&&g&&n[f].componentProviders++}}}function Ta(t,e,n){if(ro(e)||e.useClass){const i=(e.useClass||e).prototype.ngOnDestroy;i&&(t.destroyHooks||(t.destroyHooks=[])).push(n,i)}}function Oa(t,e,n){t.multi.push(e),n&&t.componentProviders++}function Da(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function Ra(t,e,n,i){return Pa(this.multi,[])}function Na(t,e,n,i){const r=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=si(n,n[1],this.providerFactory.index,i);s=e.slice(0,t),Pa(r,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Pa(r,s);return s}function Pa(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Fa(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=Ze();if(i.firstCreatePass){const r=Pe(t);Aa(n,i.data,i.blueprint,r,!0),Aa(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}Sa.ngInherit=!0;class Ma{}class La{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${Et(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Va=(()=>{class t{}return t.NULL=new La,t})(),ja=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Ua(t),t})();const Ua=function(t){return Us(t,en(),Je())};class Ba{}const qa=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let za=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ha(),t})();const Ha=function(){const t=Je(),e=He(en().index,t);return function(t){const e=t[11];if(Le(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Te(e)?e:t)};let Ga=(()=>{class t{}return t.\u0275prov=pt({token:t,providedIn:"root",factory:()=>null}),t})();class Wa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const $a=new Wa("9.0.7");class Ka{constructor(){}supports(t){return yo(t)}create(t){return new Qa(t)}}const Ya=(t,e)=>e;class Qa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ya}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const s=!n||e&&e.currentIndex<tl(n,i,r)?e:n,o=tl(s,i,r),a=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{r||(r=[]);const t=o-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;e<=s&&s<t&&(r[n]=i+1)}r[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!yo(t))throw new Error(`Error trying to diff '${Et(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&mo(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,e)),mo(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),s=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[fo()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&mo(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,t,i,e)),mo(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),s=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(mo(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(mo(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new Xa(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Za),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Za),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Xa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ja{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&mo(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Za{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ja,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tl(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class el{constructor(){}supports(t){return t instanceof Map||vo(t)}create(){return new nl}}class nl{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||vo(t)))throw new Error(`Error trying to diff '${Et(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new il(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){mo(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class il{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let rl=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ct,new at]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=pt({token:t,providedIn:"root",factory:()=>new t([new Ka])}),t})(),sl=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ct,new at]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=pt({token:t,providedIn:"root",factory:()=>new t([new el])}),t})();const ol=[new el],al=new rl([new Ka]),ll=new sl(ol);let cl=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ul(t,ja),t})();const ul=function(t,e){return Bs(t,e,en(),Je())};let hl=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>dl(t,ja),t})();const dl=function(t,e){return qs(t,e,en(),Je())},pl={};class fl extends Va{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ke(t);return new yl(e,this.ngModule)}}function ml(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const gl=new qt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>zn});class yl extends Ma{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(pr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ml(this.componentDef.inputs)}get outputs(){return ml(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const s=t.get(n,pl,r);return s!==pl||i===pl?s:e.get(n,i,r)}}}(t,i.injector):t,s=r.get(Ba,Ve),o=r.get(Ga,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Le(t))return t.selectRootElement(e,n===pe.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Sr(l,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),d={components:[],scheduler:zn,clean:as,playerHandler:null,flags:0},p=Mr(0,-1,null,1,0,null,null,null,null,null),f=kr(null,p,d,u,null,null,s,a,o,r);let m,g;mn(f,null);try{const t=function(t,e,n,i,r,s){const o=n[1];n[19]=t;const a=Ir(o,null,0,3,null,null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(ho(a,l),null!==t&&(Rn(r,t,l),null!==a.classes&&Ps(r,t,a.classes),null!==a.styles&&Ns(r,t,a.styles)));const c=i.createRenderer(t,e),u=kr(n,Fr(e),null,e.onPush?64:16,n[19],a,i,c,void 0);return o.firstCreatePass&&(ti(Qn(a,n),o,e.type),Gr(o,a),$r(a,n.length,1)),ns(n,u),n[19]=u}(c,this.componentDef,f,s,a);if(c)if(n)Rn(a,c,["ng-version",$a.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===r?""!==s&&e.push(s,t[++i]):8===r&&n.push(s);else{if(!lr(r))break;r=s}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Rn(a,c,t),e&&e.length>0&&Ps(a,c,e.join(" "))}g=qe(f[1],0),e&&(g.projection=e.map(t=>Array.from(t))),m=function(t,e,n,i,r){const s=n[1],o=function(t,e,n){const i=en();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Hr(t,i,1),Kr(t,e,n));const r=si(e,t,e.length-1,i);er(r,e);const s=Be(i,e);return s&&er(s,e),r}(s,n,e);i.components.push(o),t[8]=o,r&&r.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=en();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){xn(a.index-19);const t=n[1];Br(t,e),qr(t,n,e.hostVars),zr(e,o)}return o}(t,this.componentDef,f,d,[va]),Ar(p,f,null)}finally{bn()}const y=new vl(this.componentType,m,Us(ja,g,f),f,g);return n&&!h||(y.hostView._tViewNode.child=g),y}}class vl extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Ms(i),this.hostView._tViewNode=function(t,e,n,i){let r=t.node;return null==r&&(t.node=r=Lr(0,null,2,-1,null,null)),i[6]=r}(i[1],0,0,i),this.componentType=t}get injector(){return new li(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const _l=void 0;var bl=["en",[["a","p"],["AM","PM"],_l],[["AM","PM"],_l,_l],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_l,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_l,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_l,"{1} 'at' {0}",_l],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let wl={};function xl(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Cl(e);if(n)return n;const i=e.split("-")[0];if(n=Cl(i),n)return n;if("en"===i)return bl;throw new Error(`Missing locale data for the locale "${t}".`)}function Cl(t){return t in wl||(wl[t]=Pt.ng&&Pt.ng.common&&Pt.ng.common.locales&&Pt.ng.common.locales[t]),wl[t]}const El=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let Sl="en-US";function kl(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Sl=t.toLowerCase().replace(/_/g,"-"))}const Il=new Map;class Al extends ie{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new fl(this);const n=Ae(t),i=t[jt]||null;i&&kl(i),this._bootstrapComponents=Wn(n.bootstrap),this._r3Injector=Js(t,e,[{provide:ie,useValue:this},{provide:Va,useValue:this.componentFactoryResolver}],Et(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=oo.THROW_IF_NOT_FOUND,n=ut.Default){return t===oo||t===ie||t===zt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Tl extends re{constructor(t){super(),this.moduleType=t,null!==Ae(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${Et(e)} vs ${Et(e.name)}`)})(t,Il.get(t),e),Il.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new Al(this.moduleType,t)}}function Ol(t,e,n){const i=ln()+t,r=Je();return r[i]===fr?_o(r,i,n?e.call(n):e()):function(t,e){return t[e]}(r,i)}function Dl(t,e,n,i,r){return Nl(Je(),ln(),t,e,n,i,r)}function Rl(t,e){const n=t[e];return n===fr?void 0:n}function Nl(t,e,n,i,r,s,o){const a=e+n;return function(t,e,n,i){const r=bo(t,e,n);return bo(t,e+1,i)||r}(t,a,r,s)?_o(t,a+2,o?i.call(o,r,s):i(r,s)):Rl(t,a+2)}function Pl(t,e){const n=Ze();let i;const r=t+19;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const s=i.factory||(i.factory=Ie(i.type)),o=Qt(So),a=s();return Qt(o),function(t,e,n,i){const r=n+19;r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),e[r]=i}(n,Je(),t,a),a}function Fl(t,e,n){const i=Je(),r=ze(i,t);return Vl(i,Ll(i,t)?function(t,e,n,i,r,s){const o=e+n;return bo(t,o,r)?_o(t,o+1,s?i.call(s,r):i(r)):Rl(t,o+1)}(i,ln(),e,r.transform,n,r):r.transform(n))}function Ml(t,e,n,i){const r=Je(),s=ze(r,t);return Vl(r,Ll(r,t)?Nl(r,ln(),e,s.transform,n,i,s):s.transform(n,i))}function Ll(t,e){return t[1].data[e+19].pure}function Vl(t,e){return go.isWrapped(e)&&(e=go.unwrap(e),t[Qe.lFrame.bindingIndex]=fr),e}class jl extends S{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,r=t=>null,s=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(r=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(i,r,s);return t instanceof h&&t.add(o),o}}function Ul(){return this._results[fo()]()}class Bl{constructor(){this.dirty=!0,this._results=[],this.changes=new jl,this.length=0;const t=fo(),e=Bl.prototype;e[t]||(e[t]=Ul)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?(n===e&&(n=e.slice(0,i)),t(r,n)):n!==e&&n.push(r)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ql{constructor(t){this.queryList=t,this.matches=null}clone(){return new ql(this.queryList)}setDirty(){this.queryList.setDirty()}}class zl{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new zl(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==oc(t,e).matches&&this.queries[e].setDirty()}}class Hl{constructor(t,e,n,i=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=i}}class Gl{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,i);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new Gl(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Wl{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Wl(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let i=0;i<n.length;i++)this.matchTNodeWithReadOption(t,e,$l(e,n[i]))}else{const n=this.metadata.predicate;n===cl?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ri(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===ja||i===hl||i===cl&&0===e.type)this.addMatch(e.index,-2);else{const n=ri(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function $l(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function Kl(t,e,n,i){return-1===n?function(t,e){return 3===t.type||4===t.type?Us(ja,t,e):0===t.type?Bs(cl,ja,t,e):null}(e,t):-2===n?function(t,e,n){return n===ja?Us(ja,e,t):n===cl?Bs(cl,ja,e,t):n===hl?qs(hl,ja,e,t):void 0}(t,e,i):si(t,t[1],n,e)}function Yl(t,e,n,i){const r=e[5].queries[i];if(null===r.matches){const i=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const r=s[t];o.push(r<0?null:Kl(e,i[r],s[t+1],n.metadata.read))}r.matches=o}return r.matches}function Ql(t){const e=Je(),n=Ze(),i=dn();pn(i+1);const r=oc(n,i);if(t.dirty&&We(e)===r.metadata.isStatic){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?function t(e,n,i,r){const s=e.queries.getByIndex(i),o=s.matches;if(null!==o){const a=Yl(e,n,s,i);for(let e=0;e<o.length;e+=2){const i=o[e];if(i>0)r.push(a[e/2]);else{const s=o[e+1],a=n[-i];for(let e=9;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,r)}if(null!==a[5]){const e=a[5];for(let n=0;n<e.length;n++){const i=e[n];t(i[1],i,s,r)}}}}}return r}(n,e,i,[]):Yl(n,e,r,i);t.reset(s),t.notifyOnChanges()}return!0}return!1}function Xl(t,e,n){Zl(Ze(),Je(),t,e,n,!0)}function Jl(t,e,n){Zl(Ze(),Je(),t,e,n,!1)}function Zl(t,e,n,i,r,s){t.firstCreatePass&&(sc(t,new Hl(n,i,s,r),-1),s&&(t.staticViewQueries=!0)),rc(t,e)}function tc(t,e,n,i){nc(Ze(),Je(),e,n,i,!1,en(),t)}function ec(t,e,n,i){nc(Ze(),Je(),e,n,i,!0,en(),t)}function nc(t,e,n,i,r,s,o,a){t.firstCreatePass&&(sc(t,new Hl(n,i,s,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),rc(t,e)}function ic(){return t=Je(),e=dn(),t[5].queries[e].queryList;var t,e}function rc(t,e){const n=new Bl;!function(t,e,n,i){const r=ls(e);r.push(n),t.firstCreatePass&&cs(t).push(i,r.length-1)}(t,e,n,n.destroy),null===e[5]&&(e[5]=new zl),e[5].queries.push(new ql(n))}function sc(t,e,n){null===t.queries&&(t.queries=new Gl),t.queries.track(new Wl(e,n))}function oc(t,e){return t.queries.getByIndex(e)}function ac(t,e){return Bs(cl,ja,t,e)}const lc=new qt("Application Initializer");let cc=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Mo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Jt(lc,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const uc=new qt("AppId"),hc={provide:uc,useFactory:function(){return`${dc()}${dc()}${dc()}`},deps:[]};function dc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pc=new qt("Platform Initializer"),fc=new qt("Platform ID"),mc=new qt("appBootstrapListener");let gc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const yc=new qt("LocaleId"),vc=new qt("DefaultCurrencyCode");class _c{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const bc=function(t){return new Tl(t)},wc=bc,xc=function(t){return Promise.resolve(bc(t))},Cc=function(t){const e=bc(t),n=Wn(Ae(t).declarations).reduce((t,e)=>{const n=ke(e);return n&&t.push(new yl(n)),t},[]);return new _c(e,n)},Ec=Cc,Sc=function(t){return Promise.resolve(Cc(t))};let kc=(()=>{class t{constructor(){this.compileModuleSync=wc,this.compileModuleAsync=xc,this.compileModuleAndAllComponentsSync=Ec,this.compileModuleAndAllComponentsAsync=Sc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const Ic=new qt("compilerOptions"),Ac=(()=>Promise.resolve(0))();function Tc(t){"undefined"==typeof Zone?Ac.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Oc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jl(!1),this.onMicrotaskEmpty=new jl(!1),this.onStable=new jl(!1),this.onError=new jl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=Pt.requestAnimationFrame,e=Pt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pt,()=>{t.lastRequestAnimationFrameId=-1,Pc(t),Nc(t)}),Pc(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,i,r,s,o,a)=>{try{return Fc(t),n.invokeTask(r,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Mc(t)}},onInvoke:(e,n,i,r,s,o,a)=>{try{return Fc(t),e.invoke(i,r,s,o,a)}finally{Mc(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,Pc(t),Nc(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Oc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Oc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,t,Rc,Dc,Dc);try{return r.runTask(s,e,n)}finally{r.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Dc(){}const Rc={};function Nc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Pc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Fc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Mc(t){t._nesting--,Nc(t)}class Lc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jl,this.onMicrotaskEmpty=new jl,this.onStable=new jl,this.onError=new jl}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let Vc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oc.assertNotInAngularZone(),Tc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Tc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Jt(Oc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),jc=(()=>{class t{constructor(){this._applications=new Map,qc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return qc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class Uc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Bc,qc=new Uc,zc=function(t,e,n){const i=new Tl(n);if(0===lo.size)return Promise.resolve(i);const r=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(t.get(Ic,[]).concat(e).map(t=>t.providers));if(0===r.length)return Promise.resolve(i);const s=function(){const t=Pt.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),o=oo.create({providers:r}).get(s.ResourceLoader);return function(t){const e=[],n=new Map;function i(t){let e=n.get(t);if(!e){const i=(t=>Promise.resolve(o.get(t)))(t);n.set(t,e=i.then(uo))}return e}return lo.forEach((t,n)=>{const r=[];t.templateUrl&&r.push(i(t.templateUrl).then(e=>{t.template=e}));const s=t.styleUrls,o=t.styles||(t.styles=[]),a=t.styles.length;s&&s.forEach((e,n)=>{o.push(""),r.push(i(e).then(i=>{o[a+n]=i,s.splice(s.indexOf(e),1),0==s.length&&(t.styleUrls=void 0)}))});const l=Promise.all(r).then(()=>function(t){co.delete(t)}(n));e.push(l)}),lo=new Map,Promise.all(e).then(()=>{})}().then(()=>i)};const Hc=new qt("AllowMultipleToken");class Gc{constructor(t,e){this.name=t,this.token=e}}function Wc(t,e,n=[]){const i=`Platform: ${e}`,r=new qt(i);return(e=[])=>{let s=$c();if(!s||s.injector.get(Hc,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:Ws,useValue:"platform"});!function(t){if(Bc&&!Bc.destroyed&&!Bc.injector.get(Hc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Bc=t.get(Kc);const e=t.get(pc,null);e&&e.forEach(t=>t())}(oo.create({providers:t,name:i}))}return function(t){const e=$c();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function $c(){return Bc&&!Bc.destroyed?Bc:null}let Kc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Lc:("zone.js"===t?void 0:t)||new Oc({enableLongStackTrace:Si(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),i=[{provide:Oc,useValue:n}];return n.run(()=>{const e=oo.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),s=r.injector.get(pi,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(()=>Xc(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const i=n();return Mo(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(s,n,()=>{const t=r.injector.get(cc);return t.runInitializers(),t.donePromise.then(()=>(kl(r.injector.get(yc,"en-US")||"en-US"),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=Yc({},e);return zc(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Qc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${Et(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Jt(oo))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function Yc(t,e){return Array.isArray(e)?e.reduce(Yc,t):Object.assign(Object.assign({},t),e)}let Qc=(()=>{class t{constructor(t,e,n,i,r,s){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Si(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new b(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new b(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Oc.assertNotInAngularZone(),Tc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Oc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Y(o,a.pipe(it()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ma?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(ie),r=n.create(oo.NULL,[],e||n.selector,i);r.onDestroy(()=>{this._unloadComponent(r)});const s=r.injector.get(Vc,null);return s&&r.injector.get(jc).registerApplication(r.location.nativeElement,s),this._loadComponent(r),Si()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Xc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(mc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Xc(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Jt(Oc),Jt(gc),Jt(oo),Jt(pi),Jt(Va),Jt(cc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function Xc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Jc{}class Zc{}const tu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let eu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||tu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>nu(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>nu(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(Jt(kc),Jt(Zc,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function nu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const iu=Wc(null,"core",[{provide:fc,useValue:"unknown"},{provide:Kc,deps:[oo]},{provide:jc,deps:[]},{provide:gc,deps:[]}]),ru=[{provide:Qc,useClass:Qc,deps:[Oc,gc,oo,pi,Va,cc]},{provide:gl,deps:[Oc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:cc,useClass:cc,deps:[[new at,lc]]},{provide:kc,useClass:kc,deps:[]},hc,{provide:rl,useFactory:function(){return al},deps:[]},{provide:sl,useFactory:function(){return ll},deps:[]},{provide:yc,useFactory:function(t){return kl(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new ot(yc),new at,new ct]]},{provide:vc,useValue:"USD"}];let su=(()=>{class t{constructor(t){}}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)(Jt(Qc))},providers:ru}),t})();const ou={apiKey:"AIzaSyCePGfIIrjkkkGsXwas__QRxshUSWvxsHw",authDomain:"hello-staging.firebaseapp.com",databaseURL:"https://hello-staging.firebaseio.com",projectId:"hello-staging",storageBucket:"hello-staging.appspot.com",messagingSenderId:"928670163723",appId:"1:928670163723:web:dbfc099d730a97e6f1380e",measurementId:"G-5WV3Z07FT3"};let au=null;function lu(){return au}const cu=new qt("DocumentToken");let uu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({factory:hu,token:t,providedIn:"platform"}),t})();function hu(){return Jt(pu)}const du=new qt("Location Initialized");let pu=(()=>{class t extends uu{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=lu().getLocation(),this._history=lu().getHistory()}getBaseHrefFromDOM(){return lu().getBaseHref(this._doc)}onPopState(t){lu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){lu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){fu()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){fu()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Jt(cu))},t.\u0275prov=pt({factory:mu,token:t,providedIn:"platform"}),t})();function fu(){return!!window.history.pushState}function mu(){return new pu(Jt(cu))}function gu(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function yu(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function vu(t){return t&&"?"!==t[0]?"?"+t:t}let _u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({factory:bu,token:t,providedIn:"root"}),t})();function bu(t){const e=Jt(cu).location;return new xu(Jt(uu),e&&e.origin||"")}const wu=new qt("appBaseHref");let xu=(()=>{class t extends _u{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return gu(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+vu(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+vu(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+vu(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Jt(uu),Jt(wu,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),Cu=(()=>{class t extends _u{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=gu(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+vu(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+vu(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Jt(uu),Jt(wu,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),Eu=(()=>{class t{constructor(t,e){this._subject=new jl,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=yu(ku(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+vu(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ku(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vu(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vu(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Jt(_u),Jt(uu))},t.normalizeQueryParams=vu,t.joinWithSlash=gu,t.stripTrailingSlash=yu,t.\u0275prov=pt({factory:Su,token:t,providedIn:"root"}),t})();function Su(){return new Eu(Jt(_u),Jt(uu))}function ku(t){return t.replace(/\/index.html$/,"")}const Iu={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Au=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),Tu=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),Ou=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),Du=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),Ru=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),Nu=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function Pu(t,e){return Uu(xl(t)[El.DateFormat],e)}function Fu(t,e){return Uu(xl(t)[El.TimeFormat],e)}function Mu(t,e){return Uu(xl(t)[El.DateTimeFormat],e)}function Lu(t,e){const n=xl(t),i=n[El.NumberSymbols][e];if(void 0===i){if(e===Nu.CurrencyDecimal)return n[El.NumberSymbols][Nu.Decimal];if(e===Nu.CurrencyGroup)return n[El.NumberSymbols][Nu.Group]}return i}function Vu(t,e){return xl(t)[El.NumberFormats][e]}function ju(t){if(!t[El.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[El.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Uu(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Bu(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const qu=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,zu={},Hu=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Gu=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),Wu=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),$u=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function Ku(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function Yu(t,e,n="-",i,r){let s="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return i&&(o=o.substr(o.length-e)),s+o}function Qu(t,e,n=0,i=!1,r=!1){return function(s,o){let a=function(t,e){switch(t){case Wu.FullYear:return e.getFullYear();case Wu.Month:return e.getMonth();case Wu.Date:return e.getDate();case Wu.Hours:return e.getHours();case Wu.Minutes:return e.getMinutes();case Wu.Seconds:return e.getSeconds();case Wu.FractionalSeconds:return e.getMilliseconds();case Wu.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===Wu.Hours)0===a&&-12===n&&(a=12);else if(t===Wu.FractionalSeconds)return l=e,Yu(a,3).substr(0,l);var l;const c=Lu(o,Nu.MinusSign);return Yu(a,e,c,i,r)}}function Xu(t,e,n=Ou.Format,i=!1){return function(r,s){return function(t,e,n,i,r,s){switch(n){case $u.Months:return function(t,e,n){const i=xl(t),r=Uu([i[El.MonthsFormat],i[El.MonthsStandalone]],e);return Uu(r,n)}(e,r,i)[t.getMonth()];case $u.Days:return function(t,e,n){const i=xl(t),r=Uu([i[El.DaysFormat],i[El.DaysStandalone]],e);return Uu(r,n)}(e,r,i)[t.getDay()];case $u.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(s){const t=function(t){const e=xl(t);return ju(e),(e[El.ExtraData][2]||[]).map(t=>"string"==typeof t?Bu(t):[Bu(t[0]),Bu(t[1])])}(e),n=function(t,e,n){const i=xl(t);ju(i);const r=Uu([i[El.ExtraData][0],i[El.ExtraData][1]],e)||[];return Uu(r,n)||[]}(e,r,i);let s;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:i,minutes:r}=t[0],{hours:l,minutes:c}=t[1];o>=i&&a>=r&&(o<l||o===l&&a<c)&&(s=n[e])}else{const{hours:i,minutes:r}=t;i===o&&r===a&&(s=n[e])}}),s)return s}return function(t,e,n){const i=xl(t),r=Uu([i[El.DayPeriodsFormat],i[El.DayPeriodsStandalone]],e);return Uu(r,n)}(e,r,i)[o<12?0:1];case $u.Eras:return function(t,e){return Uu(xl(t)[El.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(r,s,t,e,n,i)}}function Ju(t){return function(e,n,i){const r=-1*i,s=Lu(n,Nu.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case Gu.Short:return(r>=0?"+":"")+Yu(o,2,s)+Yu(Math.abs(r%60),2,s);case Gu.ShortGMT:return"GMT"+(r>=0?"+":"")+Yu(o,1,s);case Gu.Long:return"GMT"+(r>=0?"+":"")+Yu(o,2,s)+":"+Yu(Math.abs(r%60),2,s);case Gu.Extended:return 0===i?"Z":(r>=0?"+":"")+Yu(o,2,s)+":"+Yu(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function Zu(t,e=!1){return function(n,i){let r;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();r=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(n.getFullYear()),e=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-t.getTime();r=1+Math.round(e/6048e5)}var s;return Yu(r,t,Lu(i,Nu.MinusSign))}}const th={};function eh(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function nh(t){return t instanceof Date&&!isNaN(t.valueOf())}const ih=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function rh(t,e,n,i,r,s,o=!1){let a="",l=!1;if(isFinite(t)){let c=function(t){let e,n,i,r,s,o=Math.abs(t)+"",a=0;for((n=o.indexOf("."))>-1&&(o=o.replace(".","")),(i=o.search(/e/i))>0?(n<0&&(n=i),n+=+o.slice(i+1),o=o.substring(0,i)):n<0&&(n=o.length),i=0;"0"===o.charAt(i);i++);if(i===(s=o.length))e=[0],n=1;else{for(s--;"0"===o.charAt(s);)s--;for(n-=i,e=[],r=0;i<=s;i++,r++)e[r]=Number(o.charAt(i))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);o&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let u=e.minInt,h=e.minFrac,d=e.maxFrac;if(s){const t=s.match(ih);if(null===t)throw new Error(`${s} is not a valid digit info`);const e=t[1],n=t[3],i=t[5];null!=e&&(u=oh(e)),null!=n&&(h=oh(n)),null!=i?d=oh(i):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let i=t.digits,r=i.length-t.integerLen;const s=Math.min(Math.max(e,r),n);let o=s+t.integerLen,a=i[o];if(o>0){i.splice(Math.max(t.integerLen,o));for(let t=o;t<i.length;t++)i[t]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let t=1;t<o;t++)i[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let l=0!==s;const c=e+t.integerLen,u=i.reduceRight((function(t,e,n,i){return i[n]=(e+=t)<10?e:e-10,l&&(0===i[n]&&n>=c?i.pop():l=!1),e>=10?1:0}),0);u&&(i.unshift(u),t.integerLen++)}(c,h,d);let p=c.digits,f=c.integerLen;const m=c.exponent;let g=[];for(l=p.every(t=>!t);f<u;f++)p.unshift(0);for(;f<0;f++)p.unshift(0);f>0?g=p.splice(f,p.length):(g=p,p=[0]);const y=[];for(p.length>=e.lgSize&&y.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)y.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&y.unshift(p.join("")),a=y.join(Lu(n,i)),g.length&&(a+=Lu(n,r)+g.join("")),m&&(a+=Lu(n,Nu.Exponential)+"+"+m)}else a=Lu(n,Nu.Infinity);return a=t<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}function sh(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),r=i[0],s=i[1],o=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const t=l.charAt(u);"0"===t?n.minFrac=n.maxFrac=u+1:"#"===t?n.maxFrac=u+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const t=r.length-n.posPre.length-n.posSuf.length,e=s.indexOf("#");n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function oh(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class ah{}function lh(t,e,n,i){let r=`=${t}`;if(e.indexOf(r)>-1)return r;if(r=n.getPluralCategory(t,i),e.indexOf(r)>-1)return r;if(e.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${t}"`)}let ch=(()=>{class t extends ah{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return xl(t)[El.PluralCase]}(e||this.locale)(t)){case Tu.Zero:return"zero";case Tu.One:return"one";case Tu.Two:return"two";case Tu.Few:return"few";case Tu.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Jt(yc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function uh(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}let hh=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(yo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Et(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(So(rl),So(sl),So(ja),So(za))},t.\u0275dir=Ee({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})(),dh=(()=>{class t{constructor(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}ngOnChanges(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const t=e.get(ie);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(t.injector)}else this._moduleRef=null;const n=(this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(Va)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(n,this._viewContainerRef.length,e,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return t.\u0275fac=function(e){return new(e||t)(So(hl))},t.\u0275dir=Ee({type:t,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[Sa]}),t})();class ph{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fh=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Si()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ph(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new mh(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new mh(t,r);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(So(hl),So(cl),So(rl))},t.\u0275dir=Ee({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class mh{constructor(t,e){this.record=t,this.view=e}}let gh=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new yh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){vh("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){vh("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(So(hl),So(cl))},t.\u0275dir=Ee({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class yh{constructor(){this.$implicit=null,this.ngIf=null}}function vh(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Et(e)}'.`)}class _h{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let bh=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),wh=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new _h(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(So(hl),So(cl),So(bh,1))},t.\u0275dir=Ee({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),xh=(()=>{class t{constructor(t,e,n){n._addDefault(new _h(t,e))}}return t.\u0275fac=function(e){return new(e||t)(So(hl),So(cl),So(bh,1))},t.\u0275dir=Ee({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),Ch=(()=>{class t{constructor(t){this._localization=t,this._caseViews={}}set ngPlural(t){this._switchValue=t,this._updateView()}addCase(t,e){this._caseViews[t]=e}_updateView(){this._clearViews();const t=Object.keys(this._caseViews),e=lh(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(t){t&&(this._activeView=t,this._activeView.create())}}return t.\u0275fac=function(e){return new(e||t)(So(ah))},t.\u0275dir=Ee({type:t,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),t})(),Eh=(()=>{class t{constructor(t,e,n,i){this.value=t;const r=!isNaN(Number(t));i.addCase(r?`=${t}`:t,new _h(n,e))}}return t.\u0275fac=function(e){return new(e||t)(ko("ngPluralCase"),So(cl),So(hl),So(Ch,1))},t.\u0275dir=Ee({type:t,selectors:[["","ngPluralCase",""]]}),t})(),Sh=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,i]=t.split(".");null!=(e=null!=e&&i?`${e}${i}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(sl),So(za))},t.\u0275dir=Ee({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),kh=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(So(hl))},t.\u0275dir=Ee({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Sa]}),t})();function Ih(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Et(t)}'`)}class Ah{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Th{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const Oh=new Th,Dh=new Ah;let Rh=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):mo(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,go.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Mo(e))return Oh;if(Lo(e))return Dh;throw Ih(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(function(t=ut.Default){const e=zs(!0);if(null!=e||t&ut.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}())},t.\u0275pipe=Se({name:"async",type:t,pure:!1}),t})(),Nh=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw Ih(t,e);return e.toLowerCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Se({name:"lowercase",type:t,pure:!0}),t})();const Ph=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let Fh=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw Ih(t,e);return e.replace(Ph,t=>t[0].toUpperCase()+t.substr(1).toLowerCase())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Se({name:"titlecase",type:t,pure:!0}),t})(),Mh=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw Ih(t,e);return e.toUpperCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Se({name:"uppercase",type:t,pure:!0}),t})(),Lh=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",i,r){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,i){let r=function(t){if(nh(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,i]=t.split("-").map(t=>+t);return new Date(e,n-1,i)}let n;if(n=t.match(qu))return function(t){const e=new Date(0);let n=0,i=0;const r=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-i,l=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,l,c),e}(n)}const e=new Date(t);if(!nh(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const i=function(t){return xl(t)[El.LocaleId]}(e);if(zu[i]=zu[i]||{},zu[i][n])return zu[i][n];let r="";switch(n){case"shortDate":r=Pu(e,Ru.Short);break;case"mediumDate":r=Pu(e,Ru.Medium);break;case"longDate":r=Pu(e,Ru.Long);break;case"fullDate":r=Pu(e,Ru.Full);break;case"shortTime":r=Fu(e,Ru.Short);break;case"mediumTime":r=Fu(e,Ru.Medium);break;case"longTime":r=Fu(e,Ru.Long);break;case"fullTime":r=Fu(e,Ru.Full);break;case"short":const n=t(e,"shortTime"),i=t(e,"shortDate");r=Ku(Mu(e,Ru.Short),[n,i]);break;case"medium":const s=t(e,"mediumTime"),o=t(e,"mediumDate");r=Ku(Mu(e,Ru.Medium),[s,o]);break;case"long":const a=t(e,"longTime"),l=t(e,"longDate");r=Ku(Mu(e,Ru.Long),[a,l]);break;case"full":const c=t(e,"fullTime"),u=t(e,"fullDate");r=Ku(Mu(e,Ru.Full),[c,u])}return r&&(zu[i][n]=r),r}(n,e)||e;let s,o=[];for(;e;){if(s=Hu.exec(e),!s){o.push(e);break}{o=o.concat(s.slice(1));const t=o.pop();if(!t)break;e=t}}let a=r.getTimezoneOffset();i&&(a=eh(i,a),r=function(t,e,n){const i=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(eh(e,i)-i))}(r,i));let l="";return o.forEach(t=>{const e=function(t){if(th[t])return th[t];let e;switch(t){case"G":case"GG":case"GGG":e=Xu($u.Eras,Du.Abbreviated);break;case"GGGG":e=Xu($u.Eras,Du.Wide);break;case"GGGGG":e=Xu($u.Eras,Du.Narrow);break;case"y":e=Qu(Wu.FullYear,1,0,!1,!0);break;case"yy":e=Qu(Wu.FullYear,2,0,!0,!0);break;case"yyy":e=Qu(Wu.FullYear,3,0,!1,!0);break;case"yyyy":e=Qu(Wu.FullYear,4,0,!1,!0);break;case"M":case"L":e=Qu(Wu.Month,1,1);break;case"MM":case"LL":e=Qu(Wu.Month,2,1);break;case"MMM":e=Xu($u.Months,Du.Abbreviated);break;case"MMMM":e=Xu($u.Months,Du.Wide);break;case"MMMMM":e=Xu($u.Months,Du.Narrow);break;case"LLL":e=Xu($u.Months,Du.Abbreviated,Ou.Standalone);break;case"LLLL":e=Xu($u.Months,Du.Wide,Ou.Standalone);break;case"LLLLL":e=Xu($u.Months,Du.Narrow,Ou.Standalone);break;case"w":e=Zu(1);break;case"ww":e=Zu(2);break;case"W":e=Zu(1,!0);break;case"d":e=Qu(Wu.Date,1);break;case"dd":e=Qu(Wu.Date,2);break;case"E":case"EE":case"EEE":e=Xu($u.Days,Du.Abbreviated);break;case"EEEE":e=Xu($u.Days,Du.Wide);break;case"EEEEE":e=Xu($u.Days,Du.Narrow);break;case"EEEEEE":e=Xu($u.Days,Du.Short);break;case"a":case"aa":case"aaa":e=Xu($u.DayPeriods,Du.Abbreviated);break;case"aaaa":e=Xu($u.DayPeriods,Du.Wide);break;case"aaaaa":e=Xu($u.DayPeriods,Du.Narrow);break;case"b":case"bb":case"bbb":e=Xu($u.DayPeriods,Du.Abbreviated,Ou.Standalone,!0);break;case"bbbb":e=Xu($u.DayPeriods,Du.Wide,Ou.Standalone,!0);break;case"bbbbb":e=Xu($u.DayPeriods,Du.Narrow,Ou.Standalone,!0);break;case"B":case"BB":case"BBB":e=Xu($u.DayPeriods,Du.Abbreviated,Ou.Format,!0);break;case"BBBB":e=Xu($u.DayPeriods,Du.Wide,Ou.Format,!0);break;case"BBBBB":e=Xu($u.DayPeriods,Du.Narrow,Ou.Format,!0);break;case"h":e=Qu(Wu.Hours,1,-12);break;case"hh":e=Qu(Wu.Hours,2,-12);break;case"H":e=Qu(Wu.Hours,1);break;case"HH":e=Qu(Wu.Hours,2);break;case"m":e=Qu(Wu.Minutes,1);break;case"mm":e=Qu(Wu.Minutes,2);break;case"s":e=Qu(Wu.Seconds,1);break;case"ss":e=Qu(Wu.Seconds,2);break;case"S":e=Qu(Wu.FractionalSeconds,1);break;case"SS":e=Qu(Wu.FractionalSeconds,2);break;case"SSS":e=Qu(Wu.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ju(Gu.Short);break;case"ZZZZZ":e=Ju(Gu.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ju(Gu.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ju(Gu.Long);break;default:return null}return th[t]=e,e}(t);l+=e?e(r,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}(e,n,r||this.locale,i)}catch(s){throw Ih(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(So(yc))},t.\u0275pipe=Se({name:"date",type:t,pure:!0}),t})();const Vh=/#/g;let jh=(()=>{class t{constructor(t){this._localization=t}transform(e,n,i){if(null==e)return"";if("object"!=typeof n||null===n)throw Ih(t,n);return n[lh(e,Object.keys(n),this._localization,i)].replace(Vh,e.toString())}}return t.\u0275fac=function(e){return new(e||t)(So(ah))},t.\u0275pipe=Se({name:"i18nPlural",type:t,pure:!0}),t})(),Uh=(()=>{class t{transform(e,n){if(null==e)return"";if("object"!=typeof n||"string"!=typeof e)throw Ih(t,n);return n.hasOwnProperty(e)?n[e]:n.hasOwnProperty("other")?n.other:""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Se({name:"i18nSelect",type:t,pure:!0}),t})(),Bh=(()=>{class t{transform(t){return JSON.stringify(t,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Se({name:"json",type:t,pure:!1}),t})(),qh=(()=>{class t{constructor(t){this.differs=t,this.keyValues=[]}transform(t,e=zh){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const n=this.differ.diff(t);return n&&(this.keyValues=[],n.forEachItem(t=>{this.keyValues.push({key:t.key,value:t.currentValue})}),this.keyValues.sort(e)),this.keyValues}}return t.\u0275fac=function(e){return new(e||t)(So(sl))},t.\u0275pipe=Se({name:"keyvalue",type:t,pure:!1}),t})();function zh(t,e){const n=t.key,i=e.key;if(n===i)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(null===n)return 1;if(null===i)return-1;if("string"==typeof n&&"string"==typeof i)return n<i?-1:1;if("number"==typeof n&&"number"==typeof i)return n-i;if("boolean"==typeof n&&"boolean"==typeof i)return n<i?-1:1;const r=String(n),s=String(i);return r==s?0:r<s?-1:1}let Hh=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if($h(e))return null;i=i||this._locale;try{return function(t,e,n){return rh(t,sh(Vu(e,Au.Decimal),Lu(e,Nu.MinusSign)),e,Nu.Group,Nu.Decimal,n)}(Kh(e),i,n)}catch(r){throw Ih(t,r.message)}}}return t.\u0275fac=function(e){return new(e||t)(So(yc))},t.\u0275pipe=Se({name:"number",type:t,pure:!0}),t})(),Gh=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if($h(e))return null;i=i||this._locale;try{return function(t,e,n){return rh(t,sh(Vu(e,Au.Percent),Lu(e,Nu.MinusSign)),e,Nu.Group,Nu.Decimal,n,!0).replace(new RegExp("%","g"),Lu(e,Nu.PercentSign))}(Kh(e),i,n)}catch(r){throw Ih(t,r.message)}}}return t.\u0275fac=function(e){return new(e||t)(So(yc))},t.\u0275pipe=Se({name:"percent",type:t,pure:!0}),t})(),Wh=(()=>{class t{constructor(t,e="USD"){this._locale=t,this._defaultCurrencyCode=e}transform(e,n,i="symbol",r,s){if($h(e))return null;s=s||this._locale,"boolean"==typeof i&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),i=i?"symbol":"code");let o=n||this._defaultCurrencyCode;"code"!==i&&(o="symbol"===i||"symbol-narrow"===i?function(t,e,n="en"){const i=function(t){return xl(t)[El.Currencies]}(n)[t]||Iu[t]||[],r=i[1];return"narrow"===e&&"string"==typeof r?r:i[0]||t}(o,"symbol"===i?"wide":"narrow",s):i);try{return function(t,e,n,i,r){const s=sh(Vu(e,Au.Currency),Lu(e,Nu.MinusSign));return s.minFrac=function(t){let e;const n=Iu[t];return n&&(e=n[2]),"number"==typeof e?e:2}(i),s.maxFrac=s.minFrac,rh(t,s,e,Nu.CurrencyGroup,Nu.CurrencyDecimal,r).replace("\xa4",n).replace("\xa4","").trim()}(Kh(e),s,o,n,r)}catch(a){throw Ih(t,a.message)}}}return t.\u0275fac=function(e){return new(e||t)(So(yc),So(vc))},t.\u0275pipe=Se({name:"currency",type:t,pure:!0}),t})();function $h(t){return null==t||""===t||t!=t}function Kh(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}let Yh=(()=>{class t{transform(e,n,i){if(null==e)return e;if(!this.supports(e))throw Ih(t,e);return e.slice(n,i)}supports(t){return"string"==typeof t||Array.isArray(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Se({name:"slice",type:t,pure:!1}),t})(),Qh=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},providers:[{provide:ah,useClass:ch}]}),t})();function Xh(t){return"browser"===t}function Jh(t){return"server"===t}let Zh=(()=>{class t{}return t.\u0275prov=pt({token:t,providedIn:"root",factory:()=>new td(Jt(cu),window,Jt(pi))}),t})();class td{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class ed extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new ed,au||(au=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=id||(id=document.querySelector("base"),id)?id.getAttribute("href"):null;return null==e?null:(n=e,nd||(nd=document.createElement("a")),nd.setAttribute("href",n),"/"===nd.pathname.charAt(0)?nd.pathname:"/"+nd.pathname);var n}resetBaseElement(){id=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return uh(document.cookie,t)}}let nd,id=null;const rd=new qt("TRANSITION_ID"),sd=[{provide:lc,useFactory:function(t,e,n){return()=>{n.get(cc).donePromise.then(()=>{const n=lu();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[rd,cu,oo],multi:!0}];class od{static init(){var t;t=new od,qc=t}addToWindow(t){Pt.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},Pt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Pt.getAllAngularRootElements=()=>t.getAllRootElements(),Pt.frameworkStabilizers||(Pt.frameworkStabilizers=[]),Pt.frameworkStabilizers.push(t=>{const e=Pt.getAllAngularTestabilities();let n=e.length,i=!1;const r=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(r)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?lu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const ad=new qt("EventManagerPlugins");let ld=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(Jt(ad),Jt(Oc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class cd{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=lu().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let ud=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),hd=(()=>{class t extends ud{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>lu().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Jt(cu))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const dd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},pd=/%COMP%/g;function fd(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?fd(t,r,n):(r=r.replace(pd,t),n.push(r))}return n}function md(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let gd=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new yd(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case pe.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new vd(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case pe.Native:case pe.ShadowDom:return new _d(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=fd(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Jt(ld),Jt(hd),Jt(uc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class yd{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(dd[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=dd[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=dd[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&qa.DashCase?t.style.setProperty(e,n,i&qa.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&qa.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,md(n)):this.eventManager.addEventListener(t,e,md(n))}}class vd extends yd{constructor(t,e,n,i){super(t),this.component=n;const r=fd(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(pd,i+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(pd,t)}(i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class _d extends yd{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===pe.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=fd(i.id,i.styles,[]);for(let s=0;s<r.length;s++){const t=document.createElement("style");t.textContent=r[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let bd=(()=>{class t extends cd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Jt(cu))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const wd=["alt","control","meta","shift"],xd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Cd={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ed={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Sd=(()=>{class t extends cd{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const r=t.parseEventName(n),s=t.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lu().onAndCancel(e,r.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let s="";if(wd.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=r,0!=n.length||0===r.length)return null;const o={};return o.domEventName=i,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Cd.hasOwnProperty(e)&&(e=Cd[e]))}return xd[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),wd.forEach(i=>{i!=n&&(0,Ed[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Jt(cu))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),kd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({factory:function(){return Jt(Id)},token:t,providedIn:"root"}),t})(),Id=(()=>{class t extends kd{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case $i.NONE:return e;case $i.HTML:return wi(e,"HTML")?bi(e):function(t,e){let n=null;try{Gi=Gi||new ki(t);let i=e?String(e):"";n=Gi.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=Gi.getInertBodyElement(i)}while(i!==s);const o=new Bi,a=o.sanitizeChildren(Wi(n)||n);return Si()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Wi(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e));case $i.STYLE:return wi(e,"Style")?bi(e):Qi(e);case $i.SCRIPT:if(wi(e,"Script"))return bi(e);throw new Error("unsafe value used in a script context");case $i.URL:return xi(e),wi(e,"URL")?bi(e):Ti(String(e));case $i.RESOURCE_URL:if(wi(e,"ResourceURL"))return bi(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new mi(t)}bypassSecurityTrustStyle(t){return new gi(t)}bypassSecurityTrustScript(t){return new yi(t)}bypassSecurityTrustUrl(t){return new vi(t)}bypassSecurityTrustResourceUrl(t){return new _i(t)}}return t.\u0275fac=function(e){return new(e||t)(Jt(cu))},t.\u0275prov=pt({factory:function(){return t=Jt(zt),new Id(t.get(cu));var t},token:t,providedIn:"root"}),t})();const Ad=Wc(iu,"browser",[{provide:fc,useValue:"browser"},{provide:pc,useValue:function(){ed.makeCurrent(),od.init()},multi:!0},{provide:cu,useFactory:function(){return function(t){Me=t}(document),document},deps:[]}]),Td=[[],{provide:Ws,useValue:"root"},{provide:pi,useFactory:function(){return new pi},deps:[]},{provide:ad,useClass:bd,multi:!0,deps:[cu,Oc,fc]},{provide:ad,useClass:Sd,multi:!0,deps:[cu]},[],{provide:gd,useClass:gd,deps:[ld,hd,uc]},{provide:Ba,useExisting:gd},{provide:ud,useExisting:hd},{provide:hd,useClass:hd,deps:[cu]},{provide:Vc,useClass:Vc,deps:[Oc]},{provide:ld,useClass:ld,deps:[ad,Oc]},[]];let Od=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:uc,useValue:e.appId},{provide:rd,useExisting:uc},sd]}}}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)(Jt(t,12))},providers:Td,imports:[Qh,su]}),t})();function Dd(...t){let e=t[t.length-1];return I(e)?(t.pop(),U(t,e)):K(t)}"undefined"!=typeof window&&window;class Rd extends S{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new x;return this._value}next(t){super.next(this._value=t)}}const Nd=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),Pd={};function Fd(...t){let e=null,n=null;return I(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),K(t,n).lift(new Md(e))}class Md{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ld(t,this.resultSelector))}}class Ld extends M{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Pd),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(F(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,i,r){const s=this.values,o=this.toRespond?s[n]===Pd?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Vd=new b(t=>t.complete());function jd(t){return t?function(t){return new b(e=>t.schedule(()=>e.complete()))}(t):Vd}function Ud(t){return new b(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?B(n):jd()).subscribe(e)})}function Bd(){return W(1)}function qd(t,e){return function(n){return n.lift(new zd(t,e))}}class zd{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Hd(t,this.predicate,this.thisArg))}}class Hd extends f{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Gd=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Wd(t){return function(e){return 0===t?jd():e.lift(new $d(t))}}class $d{constructor(t){if(this.total=t,this.total<0)throw new Gd}call(t,e){return e.subscribe(new Kd(t,this.total))}}class Kd extends f{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}function Yd(t=Jd){return e=>e.lift(new Qd(t))}class Qd{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Xd(t,this.errorFactory))}}class Xd extends f{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Jd(){return new Nd}function Zd(t=null){return e=>e.lift(new tp(t))}class tp{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ep(t,this.defaultValue))}}class ep extends f{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function np(t,e){const n=arguments.length>=2;return i=>i.pipe(t?qd((e,n)=>t(e,n,i)):G,Wd(1),n?Zd(e):Yd(()=>new Nd))}function ip(t){return function(e){const n=new rp(t),i=e.lift(n);return n.caught=i}}class rp{constructor(t){this.selector=t}call(t,e){return e.subscribe(new sp(t,this.selector,this.caught))}}class sp extends M{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new A(this,void 0,void 0);this.add(i);const r=F(this,n,void 0,void 0,i);r!==i&&this.add(r)}}}function op(t){return e=>0===t?jd():e.lift(new ap(t))}class ap{constructor(t){if(this.total=t,this.total<0)throw new Gd}call(t,e){return e.subscribe(new lp(t,this.total))}}class lp extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function cp(t,e){const n=arguments.length>=2;return i=>i.pipe(t?qd((e,n)=>t(e,n,i)):G,op(1),n?Zd(e):Yd(()=>new Nd))}class up{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new hp(t,this.predicate,this.thisArg,this.source))}}class hp extends f{constructor(t,e,n,i){super(t),this.predicate=e,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function dp(t,e){return"function"==typeof e?n=>n.pipe(dp((n,i)=>B(t(n,i)).pipe(L((t,r)=>e(n,t,i,r))))):e=>e.lift(new pp(t))}class pp{constructor(t){this.project=t}call(t,e){return e.subscribe(new fp(t,this.project))}}class fp extends M{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)}_innerSub(t,e,n){const i=this.innerSubscription;i&&i.unsubscribe();const r=new A(this,e,n),s=this.destination;s.add(r),this.innerSubscription=F(this,t,void 0,void 0,r),this.innerSubscription!==r&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,i,r){this.destination.next(e)}}function mp(...t){return Bd()(Dd(...t))}function gp(...t){const e=t[t.length-1];return I(e)?(t.pop(),n=>mp(t,n,e)):e=>mp(t,e)}function yp(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new vp(t,e,n))}}class vp{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new _p(t,this.accumulator,this.seed,this.hasSeed))}}class _p extends f{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function bp(t,e){return q(t,e,1)}function wp(t,e,n){return function(i){return i.lift(new xp(t,e,n))}}class xp{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Cp(t,this.nextOrObserver,this.error,this.complete))}}class Cp extends f{constructor(t,e,n,r){super(t),this._tapNext=y,this._tapError=y,this._tapComplete=y,this._tapError=n||y,this._tapComplete=r||y,i(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||y,this._tapError=e.error||y,this._tapComplete=e.complete||y)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function Ep(t){return e=>e.lift(new Sp(t))}class Sp{constructor(t){this.callback=t}call(t,e){return e.subscribe(new kp(t,this.callback))}}class kp extends f{constructor(t,e){super(t),this.add(new h(e))}}class Ip{constructor(t,e){this.id=t,this.url=e}}class Ap extends Ip{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Tp extends Ip{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Op extends Ip{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dp extends Ip{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Rp extends Ip{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Np extends Ip{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pp extends Ip{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fp extends Ip{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mp extends Ip{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lp{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Vp{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jp{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Up{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bp{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qp{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zp{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Hp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ye({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Ro(0,"router-outlet")},directives:function(){return[Qm]},encapsulation:2}),t})();class Gp{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Wp(t){return new Gp(t)}function $p(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Kp(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const e=i[s],n=t[s];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}class Yp{constructor(t,e){this.routes=t,this.module=e}}function Qp(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];Xp(i,Jp(e,i))}}function Xp(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Qp(t.children,e)}function Jp(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Zp(t){const e=t.children&&t.children.map(Zp),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Hp),n}function tf(t,e){const n=Object.keys(t),i=Object.keys(e);if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!ef(t[r],e[r]))return!1;return!0}function ef(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function nf(t){return Array.prototype.concat.apply([],t)}function rf(t){return t.length>0?t[t.length-1]:null}function sf(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function of(t){return Lo(t)?t:Mo(t)?B(Promise.resolve(t)):Dd(t)}function af(t,e,n){return n?function(t,e){return tf(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!hf(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ef(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,r){if(n.segments.length>r.length)return!!hf(n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!hf(n.segments,r))return!1;for(const e in i.children){if(!n.children[e])return!1;if(!t(n.children[e],i.children[e]))return!1}return!0}{const t=r.slice(0,n.segments.length),s=r.slice(n.segments.length);return!!hf(n.segments,t)&&!!n.children.primary&&e(n.children.primary,i,s)}}(e,n,n.segments)}(t.root,e.root)}class lf{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wp(this.queryParams)),this._queryParamMap}toString(){return mf.serialize(this)}}class cf{constructor(t,e){this.segments=t,this.children=e,this.parent=null,sf(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gf(this)}}class uf{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Wp(this.parameters)),this._parameterMap}toString(){return xf(this)}}function hf(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function df(t,e){let n=[];return sf(t.children,(t,i)=>{"primary"===i&&(n=n.concat(e(t,i)))}),sf(t.children,(t,i)=>{"primary"!==i&&(n=n.concat(e(t,i)))}),n}class pf{}class ff{parse(t){const e=new If(t);return new lf(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return gf(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",i=[];return sf(e.children,(e,n)=>{"primary"!==n&&i.push(`${n}:${t(e,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=df(e,(n,i)=>"primary"===i?[t(e.children.primary,!1)]:[`${i}:${t(n,!1)}`]);return`${gf(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${vf(e)}=${vf(t)}`).join("&"):`${vf(e)}=${vf(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const mf=new ff;function gf(t){return t.segments.map(t=>xf(t)).join("/")}function yf(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vf(t){return yf(t).replace(/%3B/gi,";")}function _f(t){return yf(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bf(t){return decodeURIComponent(t)}function wf(t){return bf(t.replace(/\+/g,"%20"))}function xf(t){return`${_f(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${_f(t)}=${_f(e[t])}`).join("")}`;var e}const Cf=/^[^\/()?;=#]+/;function Ef(t){const e=t.match(Cf);return e?e[0]:""}const Sf=/^[^=?&#]+/,kf=/^[^?&#]+/;class If{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cf([],{}):new cf([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new cf(t,e)),n}parseSegment(){const t=Ef(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new uf(bf(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ef(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Ef(this.remaining);t&&(n=t,this.capture(n))}t[bf(e)]=bf(n)}parseQueryParam(t){const e=function(t){const e=t.match(Sf);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(kf);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=wf(e),r=wf(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ef(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r="primary");const s=this.parseChildren();e[r]=1===Object.keys(s).length?s.primary:new cf([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Af{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Tf(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Tf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Of(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Of(t,this._root).map(t=>t.value)}}function Tf(t,e){if(t===e.value)return e;for(const n of e.children){const e=Tf(t,n);if(e)return e}return null}function Of(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Of(t,n);if(i.length)return i.unshift(e),i}return[]}class Df{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Rf(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Nf extends Af{constructor(t,e){super(t),this.snapshot=e,jf(this,t)}toString(){return this.snapshot.toString()}}function Pf(t,e){const n=function(t,e){const n=new Lf([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Vf("",new Df(n,[]))}(t,e),i=new Rd([new uf("",{})]),r=new Rd({}),s=new Rd({}),o=new Rd({}),a=new Rd(""),l=new Ff(i,r,o,a,s,"primary",e,n.root);return l.snapshot=n.root,new Nf(new Df(l,[]),n)}class Ff{constructor(t,e,n,i,r,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(L(t=>Wp(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(L(t=>Wp(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mf(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Lf{constructor(t,e,n,i,r,s,o,a,l,c,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vf extends Af{constructor(t,e){super(e),this.url=t,jf(this,e)}toString(){return Uf(this._root)}}function jf(t,e){e.value._routerState=t,e.children.forEach(e=>jf(t,e))}function Uf(t){const e=t.children.length>0?` { ${t.children.map(Uf).join(", ")} } `:"";return`${t.value}${e}`}function Bf(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,tf(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),tf(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!tf(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),tf(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function qf(t,e){var n,i;return tf(t.params,e.params)&&hf(n=t.url,i=e.url)&&n.every((t,e)=>tf(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||qf(t.parent,e.parent))}function zf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Hf(t,e,n,i,r){let s={};return i&&sf(i,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new lf(n.root===t?e:function t(e,n,i){const r={};return sf(e.children,(e,s)=>{r[s]=e===n?i:t(e,n,i)}),new cf(e.segments,r)}(n.root,t,e),s,r)}class Gf{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&zf(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(i&&i!==rf(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wf{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function $f(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:`${t}`}function Kf(t,e,n){if(t||(t=new cf([],{})),0===t.segments.length&&t.hasChildren())return Yf(t,e,n);const i=function(t,e,n){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;const e=t.segments[r],o=$f(n[i]),a=i<n.length-1?n[i+1]:null;if(r>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!Zf(o,a,e))return s;i+=2}else{if(!Zf(o,{},e))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new cf(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new cf(t.segments.slice(i.pathIndex),t.children),Yf(e,0,r)}return i.match&&0===r.length?new cf(t.segments,{}):i.match&&!t.hasChildren()?Qf(t,e,n):i.match?Yf(t,0,r):Qf(t,e,n)}function Yf(t,e,n){if(0===n.length)return new cf(t.segments,{});{const i=function(t){return"object"!=typeof t[0]?{primary:t}:void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),r={};return sf(i,(n,i)=>{null!==n&&(r[i]=Kf(t.children[i],e,n))}),sf(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new cf(t.segments,r)}}function Qf(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){const t=Xf(n[r].outlets);return new cf(i,t)}if(0===r&&zf(n[0])){i.push(new uf(t.segments[e].path,n[0])),r++;continue}const s=$f(n[r]),o=r<n.length-1?n[r+1]:null;s&&o&&zf(o)?(i.push(new uf(s,Jf(o))),r+=2):(i.push(new uf(s,{})),r++)}return new cf(i,{})}function Xf(t){const e={};return sf(t,(t,n)=>{null!==t&&(e[n]=Qf(new cf([],{}),0,t))}),e}function Jf(t){const e={};return sf(t,(t,n)=>e[n]=`${t}`),e}function Zf(t,e,n){return t==n.path&&tf(e,n.parameters)}class tm{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Bf(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=Rf(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),sf(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const i=Rf(t),r=t.value.component?n.children:e;sf(i,(t,e)=>this.deactivateRouteAndItsChildren(t,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const i=Rf(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new qp(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Up(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(Bf(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),em(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function em(t){Bf(t.value),t.children.forEach(em)}function nm(t){return"function"==typeof t}function im(t){return t instanceof lf}class rm{constructor(t){this.segmentGroup=t||null}}class sm{constructor(t){this.urlTree=t}}function om(t){return new b(e=>e.error(new rm(t)))}function am(t){return new b(e=>e.error(new sm(t)))}function lm(t){return new b(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class cm{constructor(t,e,n,i,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(ie)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(L(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(ip(t=>{if(t instanceof sm)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof rm)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(L(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(ip(t=>{if(t instanceof rm)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new cf([],{primary:t}):t;return new lf(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(L(t=>new cf([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Dd({});const n=[],i=[],r={};return sf(t,(t,s)=>{const o=e(s,t).pipe(L(t=>r[s]=t));"primary"===s?n.push(o):i.push(o)}),Dd.apply(null,n.concat(i)).pipe(Bd(),np(),L(()=>r))}(n.children,(n,i)=>this.expandSegmentGroup(t,e,i,n))}expandSegment(t,e,n,i,r,s){return Dd(...n).pipe(L(o=>this.expandSegmentAgainstRoute(t,e,n,o,i,r,s).pipe(ip(t=>{if(t instanceof rm)return Dd(null);throw t}))),Bd(),cp(t=>!!t),ip((t,n)=>{if(t instanceof Nd||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,i,r))return Dd(new cf([],{}));throw new rm(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,i,r,s,o){return pm(i)!==s?om(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s):om(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?am(r):this.lineralizeSegments(n,r).pipe(q(n=>{const r=new cf(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=um(e,i,r);if(!o)return om(e);const u=this.applyRedirectCommands(a,i.redirectTo,c);return i.redirectTo.startsWith("/")?am(u):this.lineralizeSegments(i,u).pipe(q(i=>this.expandSegment(t,e,n,i.concat(r.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(L(t=>(n._loadedConfig=t,new cf(i,{})))):Dd(new cf(i,{}));const{matched:r,consumedSegments:s,lastChild:o}=um(e,n,i);if(!r)return om(e);const a=i.slice(o);return this.getChildConfig(t,n,i).pipe(q(t=>{const n=t.module,i=t.routes,{segmentGroup:r,slicedSegments:o}=function(t,e,n,i){return n.length>0&&function(t,e,n){return n.some(n=>dm(t,e,n)&&"primary"!==pm(n))}(t,n,i)?{segmentGroup:hm(new cf(e,function(t,e){const n={};n.primary=e;for(const i of t)""===i.path&&"primary"!==pm(i)&&(n[pm(i)]=new cf([],{}));return n}(i,new cf(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>dm(t,e,n))}(t,n,i)?{segmentGroup:hm(new cf(t.segments,function(t,e,n,i){const r={};for(const s of n)dm(t,e,s)&&!i[pm(s)]&&(r[pm(s)]=new cf([],{}));return Object.assign(Object.assign({},i),r)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,i);return 0===o.length&&r.hasChildren()?this.expandChildren(n,i,r).pipe(L(t=>new cf(s,t))):0===i.length&&0===o.length?Dd(new cf(s,{})):this.expandSegment(n,r,i,o,"primary",!0).pipe(L(t=>new cf(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Dd(new Yp(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Dd(e._loadedConfig):function(t,e,n){const i=e.canLoad;return i&&0!==i.length?B(i).pipe(L(i=>{const r=t.get(i);let s;if(function(t){return t&&nm(t.canLoad)}(r))s=r.canLoad(e,n);else{if(!nm(r))throw new Error("Invalid CanLoad guard");s=r(e,n)}return of(s)})).pipe(Bd(),(r=t=>!0===t,t=>t.lift(new up(r,void 0,t)))):Dd(!0);var r}(t.injector,e,n).pipe(q(n=>n?this.configLoader.load(t.injector,e).pipe(L(t=>(e._loadedConfig=t,t))):function(t){return new b(e=>e.error($p(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Dd(new Yp([],t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Dd(n);if(i.numberOfChildren>1||!i.children.primary)return lm(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new lf(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return sf(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let s={};return sf(e.children,(e,r)=>{s[r]=this.createSegmentGroup(t,e,n,i)}),new cf(r,s)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function um(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(e.matcher||Kp)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function hm(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new cf(t.segments.concat(e.segments),e.children)}return t}function dm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function pm(t){return t.outlet||"primary"}class fm{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class mm{constructor(t,e){this.component=t,this.route=e}}function gm(t,e,n){const i=t._root;return function t(e,n,i,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Rf(n);return e.children.forEach(e=>{!function(e,n,i,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,l=i?i.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!hf(t.url,e.url);case"pathParamsOrQueryParamsChange":return!hf(t.url,e.url)||!tf(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qf(t,e)||!tf(t.queryParams,e.queryParams);case"paramsChange":default:return!qf(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new fm(r)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?l?l.children:null:i,r,s),c&&s.canDeactivateChecks.push(new mm(l&&l.outlet&&l.outlet.component||null,a))}else a&&vm(n,l,s),s.canActivateChecks.push(new fm(r)),t(e,null,o.component?l?l.children:null:i,r,s)}(e,o[e.value.outlet],i,r.concat([e.value]),s),delete o[e.value.outlet]}),sf(o,(t,e)=>vm(t,i.getContext(e),s)),s}(i,e?e._root:null,n,[i.value])}function ym(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function vm(t,e,n){const i=Rf(t),r=t.value;sf(i,(t,i)=>{vm(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new mm(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}const _m=Symbol("INITIAL_VALUE");function bm(){return dp(t=>Fd(...t.map(t=>t.pipe(op(1),gp(_m)))).pipe(yp((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==_m)return t;if(i===_m&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||im(i))return i}return t},t)},_m),qd(t=>t!==_m),L(t=>im(t)?t:!0===t),op(1)))}function wm(t,e){return null!==t&&e&&e(new Bp(t)),Dd(!0)}function xm(t,e){return null!==t&&e&&e(new jp(t)),Dd(!0)}function Cm(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?Dd(i.map(i=>Ud(()=>{const r=ym(i,e,n);let s;if(function(t){return t&&nm(t.canActivate)}(r))s=of(r.canActivate(e,t));else{if(!nm(r))throw new Error("Invalid CanActivate guard");s=of(r(e,t))}return s.pipe(cp())}))).pipe(bm()):Dd(!0)}function Em(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Ud(()=>Dd(e.guards.map(r=>{const s=ym(r,e.node,n);let o;if(function(t){return t&&nm(t.canActivateChild)}(s))o=of(s.canActivateChild(i,t));else{if(!nm(s))throw new Error("Invalid CanActivateChild guard");o=of(s(i,t))}return o.pipe(cp())})).pipe(bm())));return Dd(r).pipe(bm())}class Sm{}class km{constructor(t,e,n,i,r,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){try{const t=Tm(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Lf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Df(n,e),r=new Vf(this.url,i);return this.inheritParamsAndData(r._root),Dd(r)}catch(t){return new b(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Mf(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=df(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),i=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${i}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,i){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,i)}catch(r){if(!(r instanceof Sm))throw r}if(this.noLeftoversInUrl(e,n,i))return[];throw new Sm}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo)throw new Sm;if((t.outlet||"primary")!==i)throw new Sm;let r,s=[],o=[];if("**"===t.path){const s=n.length>0?rf(n).parameters:{};r=new Lf(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Rm(t),i,t.component,t,Im(e),Am(e)+n.length,Nm(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Sm;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(e.matcher||Kp)(n,t,e);if(!i)throw new Sm;const r={};sf(i.posParams,(t,e)=>{r[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},r),i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),r=new Lf(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Rm(t),i,t.component,t,Im(e),Am(e)+s.length,Nm(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:c}=Tm(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const t=this.processChildren(a,l);return[new Df(r,t)]}if(0===a.length&&0===c.length)return[new Df(r,[])];const u=this.processSegment(a,l,c,"primary");return[new Df(r,u)]}}function Im(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Am(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Tm(t,e,n,i,r){if(n.length>0&&function(t,e,n){return n.some(n=>Om(t,e,n)&&"primary"!==Dm(n))}(t,n,i)){const r=new cf(e,function(t,e,n,i){const r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==Dm(s)){const n=new cf([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[Dm(s)]=n}return r}(t,e,i,new cf(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Om(t,e,n))}(t,n,i)){const s=new cf(t.segments,function(t,e,n,i,r,s){const o={};for(const a of i)if(Om(t,n,a)&&!r[Dm(a)]){const n=new cf([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Dm(a)]=n}return Object.assign(Object.assign({},r),o)}(t,e,n,i,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new cf(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Om(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Dm(t){return t.outlet||"primary"}function Rm(t){return t.data||{}}function Nm(t){return t.resolve||{}}function Pm(t,e,n,i){const r=ym(t,e,i);return of(r.resolve?r.resolve(e,n):r(e,n))}function Fm(t){return function(e){return e.pipe(dp(e=>{const n=t(e);return n?B(n).pipe(L(()=>e)):B([e])}))}}class Mm{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Lm=new qt("ROUTES");class Vm{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(L(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Yp(nf(i.injector.get(Lm)).map(Zp),i)}))}loadModuleFactory(t){return"string"==typeof t?B(this.loader.load(t)):of(t()).pipe(q(t=>t instanceof re?Dd(t):B(this.compiler.compileModuleAsync(t))))}}class jm{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Um(t){throw t}function Bm(t,e,n){return e.parse("/")}function qm(t,e){return Dd(null)}let zm=(()=>{class t{constructor(t,e,n,i,r,s,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new S,this.errorHandler=Um,this.malformedUriErrorHandler=Bm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:qm,afterPreactivation:qm},this.urlHandlingStrategy=new jm,this.routeReuseStrategy=new Mm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(ie),this.console=r.get(gc);const l=r.get(Oc);this.isNgZoneEnabled=l instanceof Oc,this.resetConfig(a),this.currentUrlTree=new lf(new cf([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Vm(s,o,t=>this.triggerEvent(new Lp(t)),t=>this.triggerEvent(new Vp(t))),this.routerState=Pf(this.currentUrlTree,this.rootComponentType),this.transitions=new Rd({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(qd(t=>0!==t.id),L(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),dp(t=>{let n=!1,i=!1;return Dd(t).pipe(wp(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),dp(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Dd(t).pipe(dp(t=>{const n=this.transitions.getValue();return e.next(new Ap(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Vd:[t]}),dp(t=>Promise.resolve(t)),(i=this.ngModule.injector,r=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(dp(t=>function(t,e,n,i,r){return new cm(t,e,n,i,r).apply()}(i,r,s,t.extractedUrl,o).pipe(L(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),wp(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return function(s){return s.pipe(q(s=>function(t,e,n,i,r="emptyOnly",s="legacy"){return new km(t,e,n,i,r,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),i,r).pipe(L(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),wp(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),wp(t=>{const n=new Rp(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,r,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:s,extras:o}=t,a=new Ap(n,this.serializeUrl(i),r,s);e.next(a);const l=Pf(i,this.rootComponentType).snapshot;return Dd(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Vd}),Fm(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),wp(t=>{const e=new Np(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),L(t=>Object.assign(Object.assign({},t),{guards:gm(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(q(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Dd(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return B(t).pipe(q(t=>function(t,e,n,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Dd(s.map(s=>{const o=ym(s,e,r);let a;if(function(t){return t&&nm(t.canDeactivate)}(o))a=of(o.canDeactivate(t,e,n,i));else{if(!nm(o))throw new Error("Invalid CanDeactivate guard");a=of(o(t,e,n,i))}return a.pipe(cp())})).pipe(bm()):Dd(!0)}(t.component,t.route,n,e,i)),cp(t=>!0!==t,!0))}(o,i,r,t).pipe(q(n=>n&&"boolean"==typeof n?function(t,e,n,i){return B(e).pipe(bp(e=>B([xm(e.route.parent,i),wm(e.route,i),Em(t,e.path,n),Cm(t,e.route,n)]).pipe(Bd(),cp(t=>!0!==t,!0))),cp(t=>!0!==t,!0))}(i,s,t,e):Dd(n)),L(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),wp(t=>{if(im(t.guardsResult)){const e=$p(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),wp(t=>{const e=new Pp(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),qd(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Op(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Fm(t=>{if(t.guards.canActivateChecks.length)return Dd(t).pipe(wp(t=>{const e=new Fp(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(q(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;return r.length?B(r).pipe(bp(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return Dd({});if(1===r.length){const s=r[0];return Pm(t[s],e,n,i).pipe(L(t=>({[s]:t})))}const s={};return B(r).pipe(q(r=>Pm(t[r],e,n,i).pipe(L(t=>(s[r]=t,t))))).pipe(np(),L(()=>s))}(t._resolve,t,e,i).pipe(L(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Mf(t,n).resolve),null)))}(t.route,i,e,n)),function(t,e){return arguments.length>=2?function(n){return v(yp(t,e),Wd(1),Zd(e))(n)}:function(e){return v(yp((e,n,i)=>t(e,n,i+1)),Wd(1))(e)}}((t,e)=>t),L(e=>t)):Dd(t)}))}),wp(t=>{const e=new Mp(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),Fm(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),L(t=>{const e=function(t,e,n){const i=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){const r=i.value;r._futureSnapshot=n.value;const s=function(e,n,i){return n.children.map(n=>{for(const r of i.children)if(e.shouldReuseRoute(r.value.snapshot,n.value))return t(e,n,r);return t(e,n)})}(e,n,i);return new Df(r,s)}{const i=e.retrieve(n.value);if(i){const t=i.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,t),t}{const i=new Ff(new Rd((r=n.value).url),new Rd(r.params),new Rd(r.queryParams),new Rd(r.fragment),new Rd(r.data),r.outlet,r.component,r),s=n.children.map(n=>t(e,n));return new Df(i,s)}}var r}(t,e._root,n?n._root:void 0);return new Nf(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),wp(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(r=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),L(t=>(new tm(s,t.targetRouterState,t.currentRouterState,o).activate(r),t))),wp({next(){n=!0},complete(){n=!0}}),Ep(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new Op(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),ip(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=im(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new Op(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new Dp(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var r;return Vd}));var r,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,i,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Qp(t),this.config=t.map(Zp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=e;Si()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,c=a?this.currentUrlTree.fragment:r;let u=null;if(o)switch(o){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}else u=s?this.currentUrlTree.queryParams:i||null;return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,i,r){if(0===n.length)return Hf(e.root,e.root,e,i,r);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Gf(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return sf(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new Gf(n,e,i)}(n);if(s.toRoot())return Hf(e.root,new cf([],{}),e,i,r);const o=function(t,e,n){if(t.isAbsolute)return new Wf(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Wf(n.snapshot._urlSegment,!0,0);const i=zf(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Wf(i,!1,r-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Yf(o.segmentGroup,o.index,s.commands):Kf(o.segmentGroup,o.index,s.commands);return Hf(o.segmentGroup,a,e,i,r)}(l,this.currentUrlTree,t,u,c)}navigateByUrl(t,e={skipLocationChange:!1}){Si()&&this.isNgZoneEnabled&&!Oc.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=im(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(im(t))return af(this.currentUrlTree,t,e);const n=this.parseUrl(t);return af(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Tp(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,r){const s=this.getTransition();if(s&&"imperative"!==e&&"imperative"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"hashchange"==e&&"popstate"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"popstate"==e&&"hashchange"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o,a,l;r?(o=r.resolve,a=r.reject,l=r.promise):l=new Promise((t,e)=>{o=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:o,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){Io()},t.\u0275dir=Ee({type:t}),t})(),Hm=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.route=e,this.commands=[],null==n&&i.setAttribute(r.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Si()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:Wm(this.skipLocationChange),replaceUrl:Wm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Wm(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Wm(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(So(zm),So(Ff),ko("tabindex"),So(za),So(ja))},t.\u0275dir=Ee({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&Vo("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),t})(),Gm=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof Tp&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Si()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,i){if(0!==t||e||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const r={skipLocationChange:Wm(this.skipLocationChange),replaceUrl:Wm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Wm(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Wm(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(So(zm),So(Ff),So(_u))},t.\u0275dir=Ee({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Vo("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(ga("href",e.href,Ji),wo("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Sa]}),t})();function Wm(t){return""===t||!!t}let $m=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.element=e,this.renderer=n,this.link=i,this.linkWithHref=r,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof Tp&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(So(zm),So(ja),So(za),So(Hm,8),So(Gm,8))},t.\u0275dir=Ee({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var i;1&t&&(tc(n,Hm,!0),tc(n,Gm,!0)),2&t&&(Ql(i=ic())&&(e.links=i),Ql(i=ic())&&(e.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Sa]}),t})();class Km{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ym,this.attachRef=null}}class Ym{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Km,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Qm=(()=>{class t{constructor(t,e,n,i,r){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new jl,this.deactivateEvents=new jl,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new Xm(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(So(Ym),So(hl),So(Va),ko("name"),So(Hs))},t.\u0275dir=Ee({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Xm{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Ff?this.route:t===Ym?this.childContexts:this.parent.get(t,e)}}class Jm{}class Zm{preload(t,e){return Dd(null)}}let tg=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new Vm(e,n,e=>t.triggerEvent(new Lp(e)),e=>t.triggerEvent(new Vp(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(qd(t=>t instanceof Tp),bp(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(ie);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return B(n).pipe(W(),L(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(q(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Jt(zm),Jt(Jc),Jt(kc),Jt(oo),Jt(Jm))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),eg=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ap?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Tp&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof zp&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new zp(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){Io()},t.\u0275dir=Ee({type:t}),t})();const ng=new qt("ROUTER_CONFIGURATION"),ig=new qt("ROUTER_FORROOT_GUARD"),rg=[Eu,{provide:pf,useClass:ff},{provide:zm,useFactory:function(t,e,n,i,r,s,o,a={},l,c){const u=new zm(null,t,e,n,i,r,s,nf(o));if(l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),a.errorHandler&&(u.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(u.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=lu();u.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(u.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(u.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(u.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(u.relativeLinkResolution=a.relativeLinkResolution),u},deps:[pf,Ym,Eu,oo,Jc,kc,Lm,ng,[class{},new at],[class{},new at]]},Ym,{provide:Ff,useFactory:function(t){return t.routerState.root},deps:[zm]},{provide:Jc,useClass:eu},tg,Zm,class{preload(t,e){return e().pipe(ip(()=>Dd(null)))}},{provide:ng,useValue:{enableTracing:!1}}];function sg(){return new Gc("Router",zm)}let og=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[rg,ug(e),{provide:ig,useFactory:cg,deps:[[zm,new at,new ct]]},{provide:ng,useValue:n||{}},{provide:_u,useFactory:lg,deps:[uu,[new ot(wu),new at],ng]},{provide:eg,useFactory:ag,deps:[zm,Zh,ng]},{provide:Jm,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Zm},{provide:Gc,multi:!0,useFactory:sg},[hg,{provide:lc,multi:!0,useFactory:dg,deps:[hg]},{provide:fg,useFactory:pg,deps:[hg]},{provide:mc,multi:!0,useExisting:fg}]]}}static forChild(e){return{ngModule:t,providers:[ug(e)]}}}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)(Jt(ig,8),Jt(zm,8))}}),t})();function ag(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new eg(t,e,n)}function lg(t,e,n={}){return n.useHash?new Cu(t,e):new xu(t,e)}function cg(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ug(t){return[{provide:ao,multi:!0,useValue:t},{provide:Lm,multi:!0,useValue:t}]}let hg=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new S}appInitializer(){return this.injector.get(du,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(zm),i=this.injector.get(ng);if(this.isLegacyDisabled(i)||this.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error(`Invalid initialNavigation options: '${i.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Dd(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(ng),n=this.injector.get(tg),i=this.injector.get(eg),r=this.injector.get(zm),s=this.injector.get(Qc);t===s.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(Jt(oo))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function dg(t){return t.appInitializer.bind(t)}function pg(t){return t.bootstrapListener.bind(t)}const fg=new qt("Router Initializer");function mg(t){return null!=t&&"false"!==`${t}`}function gg(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function yg(t){return Array.isArray(t)?t:[t]}function vg(t){return null==t?"":"string"==typeof t?t:`${t}px`}function _g(t){return t instanceof ja?t.nativeElement:t}function bg(t,e,n,r){return i(n)&&(r=n,n=void 0),r?bg(t,e,n).pipe(L(t=>l(t)?r(...t):r(t))):new b(i=>{!function t(e,n,i,r,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,i,s),o=()=>t.removeEventListener(n,i,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,i),o=()=>t.off(n,i)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,i),o=()=>t.removeListener(n,i)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,i,r,s)}r.add(o)}(t,e,(function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),i,n)})}class wg extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class xg extends wg{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let Cg=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Eg extends Cg{constructor(t,e=Cg.now){super(t,()=>Eg.delegate&&Eg.delegate!==this?Eg.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Eg.delegate&&Eg.delegate!==this?Eg.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}let Sg=1;const kg=(()=>Promise.resolve())(),Ig={};function Ag(t){return t in Ig&&(delete Ig[t],!0)}const Tg={setImmediate(t){const e=Sg++;return Ig[e]=!0,kg.then(()=>Ag(e)&&t()),e},clearImmediate(t){Ag(t)}};class Og extends xg{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=Tg.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(Tg.clearImmediate(e),t.scheduled=void 0)}}class Dg extends Eg{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const Rg=new Dg(Og);function Ng(t,e){return n=>n.lift(new Pg(t,e))}class Pg{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Fg(t,this.compare,this.keySelector))}}class Fg extends f{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}const Mg=new Eg(xg);class Lg{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Vg(t,this.durationSelector))}}class Vg extends M{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=F(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function jg(t){return!l(t)&&t-parseFloat(t)+1>=0}function Ug(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function Bg(t,e=Mg){return n=()=>function(t=0,e,n){let i=-1;return jg(e)?i=Number(e)<1?1:Number(e):I(e)&&(n=e),I(n)||(n=Mg),new b(e=>{const r=jg(t)?t:+t-n.now();return n.schedule(Ug,r,{index:0,period:i,subscriber:e})})}(t,e),function(t){return t.lift(new Lg(n))};var n}function qg(t){return e=>e.lift(new zg(t))}class zg{constructor(t){this.notifier=t}call(t,e){const n=new Hg(t),i=F(n,this.notifier);return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class Hg extends M{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,i,r){this.seenValue=!0,this.complete()}notifyComplete(){}}class Gg extends xg{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}class Wg extends Eg{}const $g=new Wg(Gg);function Kg(t,e){return new b(e?n=>e.schedule(Yg,0,{error:t,subscriber:n}):e=>e.error(t))}function Yg({error:t,subscriber:e}){e.error(t)}let Qg,Xg=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Dd(this.value);case"E":return Kg(this.error);case"C":return jd()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function Jg(t,e=0){return function(n){return n.lift(new Zg(t,e))}}class Zg{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new ty(t,this.scheduler,this.delay))}}class ty extends f{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(ty.dispatch,this.delay,new ey(t,this.destination)))}_next(t){this.scheduleMessage(Xg.createNext(t))}_error(t){this.scheduleMessage(Xg.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(Xg.createComplete()),this.unsubscribe()}}class ey{constructor(t,e){this.notification=t,this.destination=e}}try{Qg="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Qj){Qg=!1}let ny,iy=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Xh(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Qg)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(Jt(fc,8))},t.\u0275prov=pt({factory:function(){return new t(Jt(fc,8))},token:t,providedIn:"root"}),t})(),ry=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)}}),t})();const sy=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function oy(){if(ny)return ny;if("object"!=typeof document||!document)return ny=new Set(sy),ny;let t=document.createElement("input");return ny=new Set(sy.filter(e=>(t.setAttribute("type",e),t.type===e))),ny}let ay,ly;function cy(t){return function(){if(null==ay&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ay=!0}))}finally{ay=ay||!1}return ay}()?t:!!t.capture}function uy(t){if(function(){if(null==ly){const t="undefined"!=typeof document?document.head:null;ly=!(!t||!t.createShadowRoot&&!t.attachShadow)}return ly}()){const e=t.getRootNode?t.getRootNode():null;if(e instanceof ShadowRoot)return e}return null}const hy=new qt("cdk-dir-doc",{providedIn:"root",factory:function(){return Zt(cu)}});let dy=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new jl,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(Jt(hy,8))},t.\u0275prov=pt({factory:function(){return new t(Jt(hy,8))},token:t,providedIn:"root"}),t})(),py=(()=>{class t{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new jl}get dir(){return this._dir}set dir(t){const e=this._dir,n=t?t.toLowerCase():t;this._rawDir=t,this._dir="ltr"===n||"rtl"===n?n:"ltr",e!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","dir",""]],hostVars:1,hostBindings:function(t,e){2&t&&wo("dir",e._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[Fa([{provide:dy,useExisting:t}])]}),t})(),fy=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)}}),t})();class my{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new S,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}}let gy=(()=>{class t{constructor(){this._listeners=[]}notify(t,e){for(let n of this._listeners)n(t,e)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>t!==e)}}ngOnDestroy(){this._listeners=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})(),yy=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new S,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new b(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Bg(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Dd()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(qd(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>bg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(Jt(Oc),Jt(iy),Jt(cu,8))},t.\u0275prov=pt({factory:function(){return new t(Jt(Oc),Jt(iy),Jt(cu,8))},token:t,providedIn:"root"}),t})(),vy=(()=>{class t{constructor(t,e,n){this._platform=t,this._document=n,e.runOutsideAngular(()=>{const e=this._getWindow();this._change=t.isBrowser?Y(bg(e,"resize"),bg(e,"orientationchange")):Dd(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Bg(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(Jt(iy),Jt(Oc),Jt(cu,8))},t.\u0275prov=pt({factory:function(){return new t(Jt(iy),Jt(Oc),Jt(cu,8))},token:t,providedIn:"root"}),t})(),_y=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[fy,ry],fy]}),t})();function by(){throw Error("Host already has a portal attached")}class wy{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&by(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class xy extends wy{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class Cy extends wy{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Ey extends wy{constructor(t){super(),this.element=t instanceof ja?t.nativeElement:t}}class Sy{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&by(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof xy?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Cy?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Ey?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ky extends Sy{constructor(t,e,n,i,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Iy=(()=>{class t extends Sy{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new jl,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(So(Va),So(hl),So(cu))},t.\u0275dir=Ee({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[_a]}),t})(),Ay=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)}}),t})();function Ty(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class Oy{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=vg(-this._previousScrollPosition.left),t.style.top=vg(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=i,n.scrollBehavior=r}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function Dy(){return Error("Scroll strategy has already been attached.")}class Ry{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw Dy();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ny{enable(){}disable(){}attach(){}}function Py(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function Fy(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class My{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw Dy();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();Py(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ly=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new Ny,this.close=t=>new Ry(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new Oy(this._viewportRuler,this._document),this.reposition=t=>new My(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.\u0275fac=function(e){return new(e||t)(Jt(yy),Jt(vy),Jt(Oc),Jt(cu))},t.\u0275prov=pt({factory:function(){return new t(Jt(yy),Jt(vy),Jt(Oc),Jt(cu))},token:t,providedIn:"root"}),t})();class Vy{constructor(t){if(this.scrollStrategy=new Ny,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class jy{constructor(t,e,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class Uy{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function By(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "top", "bottom" or "center".')}function qy(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "start", "end" or "center".')}let zy=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEventSubscriptions>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(Jt(cu))},t.\u0275prov=pt({factory:function(){return new t(Jt(cu))},token:t,providedIn:"root"}),t})();const Hy=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let Gy=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||Hy){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),Hy?e.setAttribute("platform","test"):t||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(Jt(cu),Jt(iy))},t.\u0275prov=pt({factory:function(){return new t(Jt(cu),Jt(iy))},token:t,providedIn:"root"}),t})();class Wy{constructor(t,e,n,i,r,s,o,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=s,this._document=o,this._location=a,this._backdropElement=null,this._backdropClick=new S,this._attachments=new S,this._detachments=new S,this._locationChanges=h.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEventsObservable=new b(t=>{const e=this._keydownEvents.subscribe(t);return this._keydownEventSubscriptions++,()=>{e.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new S,this._keydownEventSubscriptions=0,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(op(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=vg(this._config.width),t.height=vg(this._config.height),t.minWidth=vg(this._config.minWidth),t.minHeight=vg(this._config.minHeight),t.maxWidth=vg(this._config.maxWidth),t.maxHeight=vg(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;yg(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(qg(Y(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const $y=/([A-Za-z%]+)$/;class Ky{constructor(t,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new S,this._resizeSubscription=h.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let r;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),l=this._getOverlayFit(a,e,n,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,n)?i.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!r||r.overlayFit.visibleArea<l.visibleArea)&&(r={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Yy(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:i}}_getOverlayPoint(t,e,n){let i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}_getOverlayFit(t,e,n,i){let{x:r,y:s}=t,o=this._getOffset(i,"x"),a=this._getOffset(i,"y");o&&(r+=o),a&&(s+=a);let l=0-s,c=s+e.height-n.height,u=this._subtractOverflows(e.width,0-r,r+e.width-n.width),h=this._subtractOverflows(e.height,l,c),d=u*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:u==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,r=n.right-e.x,s=Qy(this._overlayRef.getConfig().minHeight),o=Qy(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=r;return(t.fitsInViewportVertically||null!=s&&s<=i)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=this._viewportRect,r=Math.max(t.x+e.width-i.right,0),s=Math.max(t.y+e.height-i.bottom,0),o=Math.max(i.top-n.top-t.y,0),a=Math.max(i.left-n.left-t.x,0);let l=0,c=0;return l=e.width<=i.width?a||-r:t.x<this._viewportMargin?i.left-n.left-t.x:0,c=e.height<=i.height?o||-s:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:l,y:c},{x:t.x+l,y:t.y+c}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new Uy(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let r,s,o,a,l,c;if("top"===e.overlayY)s=t.y,r=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,r=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;r=2*e,s=t.y-e,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)l=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;a=2*e,l=t.x-e,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-i/2)}return{top:s,left:l,bottom:o,right:c,width:a,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=vg(n.height),i.top=vg(n.top),i.bottom=vg(n.bottom),i.width=vg(n.width),i.left=vg(n.left),i.right=vg(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=vg(t)),r&&(i.maxWidth=vg(r))}this._lastBoundingBoxSize=n,Yy(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Yy(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Yy(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();Yy(n,this._getExactOverlayY(e,t,i)),Yy(n,this._getExactOverlayX(e,t,i))}else n.position="static";let o="",a=this._getOffset(e,"x"),l=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),l&&(o+=`translateY(${l}px)`),n.transform=o.trim(),s.maxHeight&&(i?n.maxHeight=vg(s.maxHeight):r&&(n.maxHeight="")),s.maxWidth&&(i?n.maxWidth=vg(s.maxWidth):r&&(n.maxWidth="")),Yy(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=s,"bottom"===t.overlayY?i.bottom=`${this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)}px`:i.top=vg(r.y),i}_getExactOverlayX(t,e,n){let i,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?r.right=`${this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)}px`:r.left=vg(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Fy(t,n),isOriginOutsideView:Py(t,n),isOverlayClipped:Fy(e,n),isOverlayOutsideView:Py(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{qy("originX",t.originX),By("originY",t.originY),qy("overlayX",t.overlayX),By("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&yg(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof ja)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Yy(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Qy(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split($y);return n&&"px"!==n?null:parseFloat(e)}return t||null}class Xy{constructor(t,e,n,i,r,s,o){this._preferredPositions=[],this._positionStrategy=new Ky(n,i,r,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const r=new jy(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class Jy{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:r,maxWidth:s,maxHeight:o}=n,a=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==r&&"100vh"!==r||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Zy=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new Jy}connectedTo(t,e,n){return new Xy(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Ky(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(Jt(vy),Jt(cu),Jt(iy),Jt(Gy))},t.\u0275prov=pt({factory:function(){return new t(Jt(vy),Jt(cu),Jt(iy),Jt(Gy))},token:t,providedIn:"root"}),t})(),tv=0,ev=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l,c){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=c}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new Vy(t);return r.direction=r.direction||this._directionality.value,new Wy(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id=`cdk-overlay-${tv++}`,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Qc)),new ky(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(Jt(Ly),Jt(Gy),Jt(Va),Jt(Zy),Jt(zy),Jt(oo),Jt(Oc),Jt(cu),Jt(dy),Jt(Eu,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const nv=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],iv=new qt("cdk-connected-overlay-scroll-strategy");let rv=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(So(ja))},t.\u0275dir=Ee({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),sv=(()=>{class t{constructor(t,e,n,i,r){this._overlay=t,this._dir=r,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=h.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new jl,this.positionChange=new jl,this.attach=new jl,this.detach=new jl,this.overlayKeydown=new jl,this._templatePortal=new Cy(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=mg(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=mg(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=mg(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=mg(t)}get push(){return this._push}set push(t){this._push=mg(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=nv),this._overlayRef=this._overlay.create(this._buildConfig()),this._overlayRef.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||Ty(t)||(t.preventDefault(),this._detachOverlay())})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new Vy({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t.positionChanges.subscribe(t=>this.positionChange.emit(t)),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe()}_detachOverlay(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(So(ev),So(cl),So(hl),So(iv),So(dy,8))},t.\u0275dir=Ee({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown"},exportAs:["cdkConnectedOverlay"],features:[Sa]}),t})();const ov={provide:iv,deps:[ev],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let av=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},providers:[ev,ov],imports:[[fy,Ay,_y],_y]}),t})();function lv(t,e=Mg){return n=>n.lift(new cv(t,e))}class cv{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new uv(t,this.dueTime,this.scheduler))}}class uv extends f{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(hv,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function hv(t){t.debouncedNext()}let dv=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})(),pv=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=_g(t);return new b(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new S,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(Jt(dv))},t.\u0275prov=pt({factory:function(){return new t(Jt(dv))},token:t,providedIn:"root"}),t})(),fv=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new jl,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=mg(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=gg(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(lv(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(So(pv),So(ja),So(Oc))},t.\u0275dir=Ee({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),mv=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},providers:[dv]}),t})();function gv(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}let yv=0;const vv=new Map;let _v=null,bv=(()=>{class t{constructor(t){this._document=t}describe(t,e){this._canBeDescribed(t,e)&&("string"!=typeof e?(this._setMessageId(e),vv.set(e,{messageElement:e,referenceCount:0})):vv.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))}removeDescription(t,e){if(this._isElementNode(t)){if(this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e),"string"==typeof e){const t=vv.get(e);t&&0===t.referenceCount&&this._deleteMessageElement(e)}_v&&0===_v.childNodes.length&&this._deleteMessagesContainer()}}ngOnDestroy(){const t=this._document.querySelectorAll("[cdk-describedby-host]");for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute("cdk-describedby-host");_v&&this._deleteMessagesContainer(),vv.clear()}_createMessageElement(t){const e=this._document.createElement("div");this._setMessageId(e),e.textContent=t,this._createMessagesContainer(),_v.appendChild(e),vv.set(t,{messageElement:e,referenceCount:0})}_setMessageId(t){t.id||(t.id=`cdk-describedby-message-${yv++}`)}_deleteMessageElement(t){const e=vv.get(t),n=e&&e.messageElement;_v&&n&&_v.removeChild(n),vv.delete(t)}_createMessagesContainer(){if(!_v){const t=this._document.getElementById("cdk-describedby-message-container");t&&t.parentNode.removeChild(t),_v=this._document.createElement("div"),_v.id="cdk-describedby-message-container",_v.setAttribute("aria-hidden","true"),_v.style.display="none",this._document.body.appendChild(_v)}}_deleteMessagesContainer(){_v&&_v.parentNode&&(_v.parentNode.removeChild(_v),_v=null)}_removeCdkDescribedByReferenceIds(t){const e=gv(t,"aria-describedby").filter(t=>0!=t.indexOf("cdk-describedby-message"));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=vv.get(e);!function(t,e,n){const i=gv(t,e);i.some(t=>t.trim()==n.trim())||(i.push(n.trim()),t.setAttribute(e,i.join(" ")))}(t,"aria-describedby",n.messageElement.id),t.setAttribute("cdk-describedby-host",""),n.referenceCount++}_removeMessageReference(t,e){const n=vv.get(e);n.referenceCount--,function(t,e,n){const i=gv(t,e).filter(t=>t!=n.trim());i.length?t.setAttribute(e,i.join(" ")):t.removeAttribute(e)}(t,"aria-describedby",n.messageElement.id),t.removeAttribute("cdk-describedby-host")}_isElementDescribedByMessage(t,e){const n=gv(t,"aria-describedby"),i=vv.get(e),r=i&&i.messageElement.id;return!!r&&-1!=n.indexOf(r)}_canBeDescribed(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;const n=null==e?"":`${e}`.trim(),i=t.getAttribute("aria-label");return!(!n||i&&i.trim()===n)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(Jt(cu))},t.\u0275prov=pt({factory:function(){return new t(Jt(cu))},token:t,providedIn:"root"}),t})();class wv{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new S,this._typeaheadSubscription=h.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new S,this.change=new S,t instanceof Bl&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(wp(t=>this._pressedLetters.push(t)),lv(t),qd(()=>this._pressedLetters.length>0),L(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const i=(this._activeItemIndex+n)%e.length,r=e[i];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}setActiveItem(t){const e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((n||Ty(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Bl?this._items.toArray():this._items}}class xv extends wv{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class Cv extends wv{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Ev=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(Qj){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){const t=e&&e.nodeName.toLowerCase();if(-1===kv(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let i=t.nodeName.toLowerCase(),r=kv(t);if(t.hasAttribute("contenteditable"))return-1!==r;if("iframe"===i)return!1;if("audio"===i){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===i){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==i||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Sv(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}return t.\u0275fac=function(e){return new(e||t)(Jt(iy))},t.\u0275prov=pt({factory:function(){return new t(Jt(iy))},token:t,providedIn:"root"}),t})();function Sv(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function kv(t){if(!Sv(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Iv{constructor(t,e,n,i,r=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], `+`[cdkFocusRegion${t}], `+`[cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated `+"attribute will be removed in 8.0.0.",e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated attribute `+"will be removed in 8.0.0.",e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Si()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(op(1)).subscribe(t)}}let Av=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new Iv(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(Jt(Ev),Jt(Oc),Jt(cu))},t.\u0275prov=pt({factory:function(){return new t(Jt(Ev),Jt(Oc),Jt(cu))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const Tv=new qt("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Ov=new qt("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Dv=(()=>{class t{constructor(t,e,n,i){this._ngZone=e,this._defaultOptions=i,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let i,r;return 1===e.length&&"number"==typeof e[0]?r=e[0]:[i,r]=e,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==r&&n&&(r=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof r&&(this._previousTimeout=setTimeout(()=>this.clear(),r))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.\u0275fac=function(e){return new(e||t)(Jt(Tv,8),Jt(Oc),Jt(cu),Jt(Ov,8))},t.\u0275prov=pt({factory:function(){return new t(Jt(Tv,8),Jt(Oc),Jt(cu),Jt(Ov,8))},token:t,providedIn:"root"}),t})();const Rv=new qt("cdk-focus-monitor-default-options"),Nv=cy({passive:!0,capture:!0});let Pv=(()=>{class t{constructor(t,e,n,i){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=t.composedPath?t.composedPath()[0]:t.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._document=n,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){if(!this._platform.isBrowser)return Dd(null);const n=_g(t);if(this._elementInfo.has(n)){let t=this._elementInfo.get(n);return t.checkChildren=e,t.subject.asObservable()}let i={unlisten:()=>{},checkChildren:e,subject:new S};this._elementInfo.set(n,i),this._incrementMonitoredElementCount();let r=t=>this._onFocus(t,n),s=t=>this._onBlur(t,n);return this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",r,!0),n.addEventListener("blur",s,!0)}),i.unlisten=()=>{n.removeEventListener("focus",r,!0),n.removeEventListener("blur",s,!0)},i.subject.asObservable()}stopMonitoring(t){const e=_g(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}focusVia(t,e,n){const i=_g(t);this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_setClasses(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){let e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==t.target)return;let i=this._origin;i||(i=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,Nv),t.addEventListener("mousedown",this._documentMousedownListener,Nv),t.addEventListener("touchstart",this._documentTouchstartListener,Nv),e.addEventListener("focus",this._windowFocusListener)})}_decrementMonitoredElementCount(){if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,Nv),t.removeEventListener("mousedown",this._documentMousedownListener,Nv),t.removeEventListener("touchstart",this._documentTouchstartListener,Nv),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return t.\u0275fac=function(e){return new(e||t)(Jt(Oc),Jt(iy),Jt(cu,8),Jt(Rv,8))},t.\u0275prov=pt({factory:function(){return new t(Jt(Oc),Jt(iy),Jt(cu,8),Jt(Rv,8))},token:t,providedIn:"root"}),t})();function Fv(t){return 0===t.buttons}let Mv=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=(this._document.defaultView.getComputedStyle(t).backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),e){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(Jt(iy),Jt(cu))},t.\u0275prov=pt({factory:function(){return new t(Jt(iy),Jt(cu))},token:t,providedIn:"root"}),t})(),Lv=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)(Jt(Mv))},imports:[[ry,mv]]}),t})();const Vv=new Wa("9.2.0");class jv{}function Uv(t,e){return{type:7,name:t,definitions:e,options:{}}}function Bv(t,e=null){return{type:4,styles:e,timings:t}}function qv(t,e=null){return{type:3,steps:t,options:e}}function zv(t,e=null){return{type:2,steps:t,options:e}}function Hv(t){return{type:6,styles:t,offset:null}}function Gv(t,e,n){return{type:0,name:t,styles:e,options:n}}function Wv(t){return{type:5,steps:t}}function $v(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Kv(t=null){return{type:9,options:t}}function Yv(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function Qv(t){Promise.resolve(null).then(t)}class Xv{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Qv(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Jv{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?Qv(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Zv(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function t_(t){switch(t.length){case 0:return new Xv;case 1:return t[0];default:return new Jv(t)}}function e_(t,e,n,i,r={},s={}){const o=[],a=[];let l=-1,c=null;if(i.forEach(t=>{const n=t.offset,i=n==l,u=i&&c||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,o),a){case"!":a=r[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,i,a,o)}u[i]=a}),i||a.push(u),c=u,l=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function n_(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&i_(n,"start",t)));break;case"done":t.onDone(()=>i(n&&i_(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&i_(n,"destroy",t)))}}function i_(t,e,n){const i=n.totalTime,r=r_(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),s=t._data;return null!=s&&(r._data=s),r}function r_(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function s_(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function o_(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let a_=(t,e)=>!1,l_=(t,e)=>!1,c_=(t,e,n)=>[];const u_=Zv();(u_||"undefined"!=typeof Element)&&(a_=(t,e)=>t.contains(e),l_=(()=>{if(u_||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):l_}})(),c_=(t,e,n)=>{let i=[];if(n)i.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&i.push(n)}return i});let h_=null,d_=!1;function p_(t){h_||(h_=("undefined"!=typeof document?document.body:null)||{},d_=!!h_.style&&"WebkitAppearance"in h_.style);let e=!0;return h_.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in h_.style,!e&&d_)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in h_.style),e}const f_=l_,m_=a_,g_=c_;function y_(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let v_=(()=>{class t{validateStyleProperty(t){return p_(t)}matchesElement(t,e){return f_(t,e)}containsElement(t,e){return m_(t,e)}query(t,e,n){return g_(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,s=[],o){return new Xv(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),__=(()=>{class t{}return t.NOOP=new v_,t})();function b_(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:w_(parseFloat(e[1]),e[2])}function w_(t,e){switch(e){case"s":return 1e3*t;default:return t}}function x_(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=w_(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(r=w_(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else i=t;if(!n){let n=!1,s=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:s}}(t,e,n)}function C_(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function E_(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else C_(t,n);return n}function S_(t,e,n){return n?e+":"+n+";":""}function k_(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=S_(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=S_(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function I_(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=F_(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),Zv()&&k_(t))}function A_(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=F_(e);t.style[n]=""}),Zv()&&k_(t))}function T_(t){return Array.isArray(t)?1==t.length?t[0]:zv(t):t}const O_=new RegExp("{{\\s*(.+?)\\s*}}","g");function D_(t){let e=[];if("string"==typeof t){let n;for(;n=O_.exec(t);)e.push(n[1]);O_.lastIndex=0}return e}function R_(t,e,n){const i=t.toString(),r=i.replace(O_,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),r=""),r.toString()});return r==i?t:r}function N_(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const P_=/-+([a-z0-9])/g;function F_(t){return t.replace(P_,(...t)=>t[1].toUpperCase())}function M_(t,e){return 0===t||0===e}function L_(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var r=1;r<e.length;r++){let n=e[r];o.forEach((function(e){n[e]=j_(t,e)}))}}return e}function V_(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function j_(t,e){return window.getComputedStyle(t)[e]}function U_(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],s=i[2],o=i[3];e.push(z_(r,o)),"<"!=s[0]||"*"==r&&"*"==o||e.push(z_(o,r))}(t,n,e)):n.push(t),n}const B_=new Set(["true","1"]),q_=new Set(["false","0"]);function z_(t,e){const n=B_.has(t)||q_.has(t),i=B_.has(e)||q_.has(e);return(r,s)=>{let o="*"==t||t==r,a="*"==e||e==s;return!o&&n&&"boolean"==typeof r&&(o=r?B_.has(t):q_.has(t)),!a&&i&&"boolean"==typeof s&&(a=s?B_.has(e):q_.has(e)),o&&a}}const H_=new RegExp("s*:selfs*,?","g");function G_(t,e,n){return new W_(t).build(e,n)}class W_{constructor(t){this._driver=t}build(t,e){const n=new $_(e);return this._resetContextStyleTimingState(n),V_(this,T_(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,s.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,s=i||{};if(n.styles.forEach(t=>{if(K_(t)){const e=t;Object.keys(e).forEach(t=>{D_(e[t]).forEach(t=>{s.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=N_(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=V_(this,T_(t.animation),e);return{type:1,matchers:U_(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Y_(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>V_(this,t,e)),options:Y_(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=V_(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:Y_(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Q_(x_(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Q_(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||x_(i,e),Q_(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:Hv({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,s=!1;if(!r){s=!0;const t={};n.easing&&(t.easing=n.easing),r=Hv(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(r,e);o.isEmptyStep=s,i=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(K_(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(r!=i&&r>=o.startTime&&i<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=o.startTime),a&&(s[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=D_(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(K_(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(K_(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=l&&(i++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,r.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let u=0;i>0&&i<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(u=1/(c-1));const h=c-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return l.forEach((t,i)=>{const s=u>0?i==h?1:u*i:r[i],o=s*f;e.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:V_(this,T_(t.animation),e),options:Y_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Y_(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Y_(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(H_,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,s_(e.collectedStyles,e.currentQuerySelector,{});const o=V_(this,T_(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Y_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:x_(t.timings,e.errors,!0);return{type:12,animation:V_(this,T_(t.animation),e),timings:n,options:null}}}class $_{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function K_(t){return!Array.isArray(t)&&"object"==typeof t}function Y_(t){var e;return t?(t=C_(t)).params&&(t.params=(e=t.params)?C_(e):null):t={},t}function Q_(t,e,n){return{duration:t,delay:e,easing:n}}function X_(t,e,n,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class J_{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Z_=new RegExp(":enter","g"),tb=new RegExp(":leave","g");function eb(t,e,n,i,r,s={},o={},a,l,c=[]){return(new nb).buildKeyframes(t,e,n,i,r,s,o,a,l,c)}class nb{buildKeyframes(t,e,n,i,r,s,o,a,l,c=[]){l=l||new J_;const u=new rb(t,e,l,i,r,c,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),V_(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[X_(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?b_(n.duration):null,s=null!=n.delay?b_(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,s);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),V_(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ib);const t=b_(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>V_(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?b_(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),V_(this,s,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return x_(e.params?R_(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*r),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?b_(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ib);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,i)=>{e.currentQueryIndex=i;const o=e.createSubContext(t.options,n);r&&o.delayNextStep(r),n===e.element&&(a=o.currentTimeline),V_(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,s=Math.abs(r.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;V_(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-c+(i.startTime-n.currentTimeline.startTime)}}const ib={};class rb{constructor(t,e,n,i,r,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ib,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new sb(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=b_(n.duration)),null!=n.delay&&(i.delay=b_(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=R_(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new rb(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=ib,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new ob(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,s){let o=[];if(i&&o.push(this.element),t.length>0){t=(t=t.replace(Z_,"."+this._enterClassName)).replace(tb,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return r||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class sb{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new sb(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},s=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]="*"})):E_(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=R_(s[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,s)=>{const o=E_(r,!0);Object.keys(o).forEach(n=>{const i=o[n];"!"==i?t.add(n):"*"==i&&e.add(n)}),n||(o.offset=s/this.duration),i.push(o)});const r=t.size?N_(t.values()):[],s=e.size?N_(e.values()):[];if(n){const t=i[0],e=C_(t);t.offset=0,e.offset=1,i=[t,e]}return X_(this.element,i,r,s,this.duration,this.startTime,this.easing,!1)}}class ob extends sb{constructor(t,e,n,i,r,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],s=n+e,o=e/s,a=E_(t[0],!1);a.offset=0,r.push(a);const l=E_(t[0],!1);l.offset=ab(o),r.push(l);const c=t.length-1;for(let i=1;i<=c;i++){let o=E_(t[i],!1);o.offset=ab((e+o.offset*n)/s),r.push(o)}n=s,e=0,i="",t=r}return X_(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function ab(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class lb{}class cb extends lb{normalizePropertyName(t,e){return F_(t)}normalizeStyleValue(t,e,n,i){let r="";const s=n.toString().trim();if(ub[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+r}}const ub=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function hb(t,e,n,i,r,s,o,a,l,c,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const db={};class pb{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],s=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):s}build(t,e,n,i,r,s,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||db,d=this.buildStyles(n,o&&o.params||db,u),p=a&&a.params||db,f=this.buildStyles(i,p,u),m=new Set,g=new Map,y=new Map,v="void"===i,_={params:Object.assign(Object.assign({},h),p)},b=c?[]:eb(t,e,this.ast.animation,r,s,d,f,_,l,u);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),u.length)return hb(e,this._triggerName,n,i,v,d,f,[],[],g,y,w,u);b.forEach(t=>{const n=t.element,i=s_(g,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=s_(y,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&m.add(n)});const x=N_(m.values());return hb(e,this._triggerName,n,i,v,d,f,b,x,g,y,w)}}class fb{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=C_(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let s=r[t];s.length>1&&(s=R_(s,i,e)),n[t]=s})}}),n}}class mb{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new fb(t.style,t.options&&t.options.params||{})}),gb(this.states,"true","1"),gb(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new pb(t,e,this.states))}),this.fallbackTransition=new pb(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function gb(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const yb=new J_;class vb{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=G_(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=e_(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let s;const o=new Map;if(r?(s=eb(this._driver,e,r,"ng-enter","ng-leave",{},{},n,yb,i),s.forEach(t=>{const e=s_(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),s=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=t_(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const r=r_(e,"","","");return n_(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const _b=[],bb={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wb={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class xb{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=C_(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Cb=new xb("void");class Eb{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Db(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const s=s_(this._elementListeners,t,[]),o={name:e,phase:n,callback:i};s.push(o);const a=s_(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Db(t,"ng-trigger"),Db(t,"ng-trigger-"+e),a[e]=Cb),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),s=new kb(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Db(t,"ng-trigger"),Db(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new xb(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=Cb),"void"!==l.value&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,l.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{A_(t,n),I_(t,i)})}return}const c=s_(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=r.matchTransition(a.value,l.value,t,l.params),h=!1;if(!u){if(!i)return;u=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(Db(t,"ng-animate-queued"),s.onStart(()=>{Rb(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const s=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&t_(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,s=this._engine.statesByElement.get(t)[i]||Cb,o=new xb("void"),a=new kb(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:r,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==bb||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Db(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,s=this._elementListeners.get(r);s&&s.forEach(e=>{if(e.name==n.triggerName){const i=r_(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,n_(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Sb{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Eb(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(Ib(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!Ib(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Db(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Rb(t,"ng-animate-disabled"))}removeNode(t,e,n,i){if(Ib(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return Ib(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return t_(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=bb,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Db(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?t_(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new J_,i=[],r=new Map,s=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Ob(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n="ng-enter"+f++;p.set(e,n),t.forEach(t=>Db(t,n))});const m=[],g=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const t=this.collectedLeaveElements[O],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,_=Ob(h,Array.from(g));_.forEach((t,e)=>{const n="ng-leave"+f++;v.set(e,n),t.forEach(t=>Db(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>Rb(t,n))}),_.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>Rb(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(b.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!u||!this.driver.containsElement(u,r),h=v.get(r),d=p.get(r),f=this._buildInstruction(t,n,d,h,c);if(!f.errors||!f.errors.length)return c?(e.onStart(()=>A_(r,f.fromStyles)),e.onDestroy(()=>I_(r,f.toStyles)),void i.push(e)):t.isFallbackTransition?(e.onStart(()=>A_(r,f.fromStyles)),e.onDestroy(()=>I_(r,f.toStyles)),void i.push(e)):(f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,f.timelines),s.push({instruction:f,player:e,element:r}),f.queriedElements.forEach(t=>s_(o,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=l.get(e);i||l.set(e,i=new Set),n.forEach(t=>i.add(t))}));w.push(f)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const x=new Map,C=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{s_(x,e,[]).push(t),t.destroy()})});const E=m.filter(t=>Pb(t,a,l)),S=new Map;Tb(S,this.driver,y,l,"*").forEach(t=>{Pb(t,a,l)&&E.push(t)});const k=new Map;d.forEach((t,e)=>{Tb(k,this.driver,new Set(t),a,"!")}),E.forEach(t=>{const e=S.get(t),n=k.get(t);S.set(t,Object.assign(Object.assign({},e),n))});const I=[],A=[],T={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>I_(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void i.push(s);let t=T;if(C.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>C.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,x,r,k,S);if(s.setRealPlayer(n),t===T)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=t_(e)),i.push(s)}}else A_(e,o.fromStyles),s.onDestroy(()=>I_(e,o.toStyles)),A.push(s),c.has(e)&&i.push(s)}),A.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=t_(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let O=0;O<m.length;O++){const t=m[O],e=t.__ng_removed;if(Rb(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,".ng-animating",!0);for(let t=0;t<i.length;t++){let e=o.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?Nb(this,t,i):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||"void"==r;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&s.push(e)})}}return(n||i)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==i,l=s_(n,t,[]);this._getPreviousPlayers(t,a,r,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}A_(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,s){const o=e.triggerName,a=e.element,l=[],c=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Xv(e.duration,e.delay);const p=h!==a,f=function(t){const e=[];return function t(e,n){for(let i=0;i<e.length;i++){const r=e[i];r instanceof Jv?t(r.players,n):n.push(r)}}(t,e),e}((n.get(h)||_b).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=r.get(h),g=s.get(h),y=e_(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,f);if(e.subTimeline&&i&&u.add(h),p){const e=new kb(t,o,h);e.setRealPlayer(v),l.push(e)}return v});l.forEach(t=>{s_(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Db(t,"ng-animating"));const d=t_(h);return d.onDestroy(()=>{c.forEach(t=>Rb(t,"ng-animating")),I_(a,e.toStyles)}),u.forEach(t=>{s_(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Xv(t.duration,t.delay)}}class kb{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Xv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>n_(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){s_(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Ib(t){return t&&1===t.nodeType}function Ab(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Tb(t,e,n,i,r){const s=[];n.forEach(t=>s.push(Ab(t)));const o=[];i.forEach((n,i)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=wb,o.push(i))}),t.set(i,s)});let a=0;return n.forEach(t=>Ab(t,s[a++])),o}function Ob(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=r.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:i.has(o)?1:t(o),r.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function Db(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Rb(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Nb(t,e,n){t_(n).onDone(()=>t.processLeaveNode(e))}function Pb(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class Fb{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Sb(t,e,n),this._timelineEngine=new vb(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const s=t+"-"+i;let o=this._triggerCache[s];if(!o){const t=[],e=G_(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new mb(t,e)}(i,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,i,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=o_(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=o_(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Mb(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=Vb(e[0]),e.length>1&&(i=Vb(e[e.length-1]))):e&&(n=Vb(e)),n||i?new Lb(t,n,i):null}let Lb=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&I_(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(I_(this._element,this._initialStyles),this._endStyles&&(I_(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(A_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(A_(this._element,this._endStyles),this._endStyles=null),I_(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Vb(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];jb(r)&&(e=e||{},e[r]=t[r])}return e}function jb(t){return"display"===t||"position"===t}class Ub{constructor(t,e,n,i,r,s,o){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Wb(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),Gb(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Hb(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Bb(this._element,this._name,"paused")}resume(){Bb(this._element,this._name,"running")}setPosition(t){const e=qb(this._element,this._name);this._position=t*this._duration,Gb(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Hb(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Wb(t,"").split(","),i=zb(n,e);i>=0&&(n.splice(i,1),Gb(t,"",n.join(",")))}(this._element,this._name))}}function Bb(t,e,n){Gb(t,"PlayState",n,qb(t,e))}function qb(t,e){const n=Wb(t,"");return n.indexOf(",")>0?zb(n.split(","),e):zb([n],e)}function zb(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Hb(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Gb(t,e,n,i){const r="animation"+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function Wb(t,e){return t.style["animation"+e]}class $b{constructor(t,e,n,i,r,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Ub(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:j_(this.element,n))})}this.currentSnapshot=t}}class Kb extends Xv{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=y_(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Yb{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return p_(t)}matchesElement(t,e){return f_(t,e)}containsElement(t,e){return m_(t,e)}query(t,e,n){return g_(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>y_(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=`${r}}\n`}),i+="}\n";const s=document.createElement("style");return s.innerHTML=i,s}animate(t,e,n,i,r,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof $b),l={};M_(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=L_(t,e,l));if(0==n)return new Kb(t,c);const u=`gen_css_kf_${this._count++}`,h=this.buildKeyframeElement(t,u,e);document.querySelector("head").appendChild(h);const d=Mb(t,e),p=new $b(t,e,u,n,i,r,c,d);return p.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Qb{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:j_(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Xb{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Jb().toString()),this._cssKeyframesDriver=new Yb}validateStyleProperty(t){return p_(t)}matchesElement(t,e){return f_(t,e)}containsElement(t,e){return m_(t,e)}query(t,e,n){return g_(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,s);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const l={},c=s.filter(t=>t instanceof Qb);M_(n,i)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=Mb(t,e=L_(t,e=e.map(t=>E_(t,!1)),l));return new Qb(t,e,a,u)}}function Jb(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Zb=(()=>{class t extends jv{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:pe.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?zv(t):t;return nw(this._renderer,null,e,"register",[n]),new tw(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Jt(Ba),Jt(cu))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class tw extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ew(this._id,t,e||{},this._renderer)}}class ew{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return nw(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function nw(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}let iw=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new rw("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(i,r,t,e.name,e)};return e.data.animation.forEach(s),new sw(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Jt(Ba),Jt(Fb),Jt(Oc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class rw{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class sw extends rw{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),s="";return"@"!=r.charAt(0)&&([r,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let ow=(()=>{class t extends Fb{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(Jt(cu),Jt(__),Jt(lb))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const aw=new qt("AnimationModuleType"),lw=[{provide:__,useFactory:function(){return"function"==typeof Jb()?new Xb:new Yb}},{provide:aw,useValue:"BrowserAnimations"},{provide:jv,useClass:Zb},{provide:lb,useFactory:function(){return new cb}},{provide:Fb,useClass:ow},{provide:Ba,useFactory:function(t,e,n){return new iw(t,e,n)},deps:[gd,Fb,Oc]}];let cw=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},providers:lw,imports:[Od]}),t})();const uw=["*",[["mat-option"],["ng-container"]]],hw=["*","mat-option, ng-container"];function dw(t,e){if(1&t&&Ro(0,"mat-pseudo-checkbox",3),2&t){const t=zo();Ao("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const pw=["*"],fw=new Wa("9.2.0"),mw=new qt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let gw,yw=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Si()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const i=getComputedStyle(n);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&fw.full!==Vv.full&&console.warn("The Angular Material version ("+fw.full+") does not match the Angular CDK version ("+Vv.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)(Jt(Mv),Jt(mw,8),Jt(cu,8))},imports:[[fy],fy]}),t})();function vw(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=mg(t)}}}function _w(t,e){return class extends t{constructor(...t){super(...t),this.color=e}get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}}}function bw(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=mg(t)}}}function ww(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?t:e}}}function xw(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new S}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{gw="undefined"!=typeof Intl}catch(Qj){gw=!1}let Cw=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Ew=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),t})();function Sw(t,e,n="mat"){t.changes.pipe(gp(t)).subscribe(({length:t})=>{kw(e,`${n}-2-line`,!1),kw(e,`${n}-3-line`,!1),kw(e,`${n}-multi-line`,!1),2===t||3===t?kw(e,`${n}-${t}-line`,!0):t>3&&kw(e,`${n}-multi-line`,!0)})}function kw(t,e,n){const i=t.nativeElement.classList;n?i.add(e):i.remove(e)}let Iw=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[yw],yw]}),t})();class Aw{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Tw={enterDuration:450,exitDuration:400},Ow=cy({passive:!0});class Dw{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=t=>{const e=Fv(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))},this._onTouchStart=t=>{if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}},this._onPointerUp=()=>{this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))},i.isBrowser&&(this._containerElement=_g(n),this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},Tw),n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const s=n.radius||function(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,i),o=t-i.left,a=e-i.top,l=r.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=`${o-s}px`,c.style.top=`${a-s}px`,c.style.height=`${2*s}px`,c.style.width=`${2*s}px`,null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const u=new Aw(this,c,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const t=u===this._mostRecentTransientRipple;u.state=1,n.persistent||t&&this._isPointerDown||u.fadeOut()},l),u}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i=Object.assign(Object.assign({},Tw),t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=_g(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(()=>{this._triggerEvents.forEach((t,n)=>{e.addEventListener(n,t,Ow)})}),this._triggerElement=e)}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_removeTriggerEvents(){this._triggerElement&&this._triggerEvents.forEach((t,e)=>{this._triggerElement.removeEventListener(e,t,Ow)})}}const Rw=new qt("mat-ripple-global-options");let Nw=(()=>{class t{constructor(t,e,n,i,r){this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new Dw(this,e,t,n),"NoopAnimations"===r&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign({},this._globalOptions.animation),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(Oc),So(iy),So(Rw,8),So(aw,8))},t.\u0275dir=Ee({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&na("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),Pw=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[yw,ry],yw]}),t})(),Fw=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(So(aw,8))},t.\u0275cmp=ye({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&na("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),Mw=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)}}),t})();class Lw{}const Vw=vw(Lw);let jw=0,Uw=(()=>{class t extends Vw{constructor(){super(...arguments),this._labelId=`mat-optgroup-label-${jw++}`}}return t.\u0275fac=function(e){return Bw(e||t)},t.\u0275cmp=ye({type:t,selectors:[["mat-optgroup"]],hostAttrs:["role","group",1,"mat-optgroup"],hostVars:4,hostBindings:function(t,e){2&t&&(wo("aria-disabled",e.disabled.toString())("aria-labelledby",e._labelId),na("mat-optgroup-disabled",e.disabled))},inputs:{disabled:"disabled",label:"label"},exportAs:["matOptgroup"],features:[_a],ngContentSelectors:hw,decls:4,vars:2,consts:[[1,"mat-optgroup-label",3,"id"]],template:function(t,e){1&t&&(Go(uw),Oo(0,"label",0),pa(1),Wo(2),Do(),Wo(3,1)),2&t&&(Ao("id",e._labelId),gr(1),ma("",e.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();const Bw=ci(Uw);let qw=0;class zw{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const Hw=new qt("MAT_OPTION_PARENT_COMPONENT");let Gw=(()=>{class t{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${qw++}`,this.onSelectionChange=new jl,this._stateChanges=new S}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=mg(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||Ty(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new zw(this,t))}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(Hs),So(Hw,8),So(Uw,8))},t.\u0275cmp=ye({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&Vo("click",(function(){return e._selectViaInteraction()}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&(ga("id",e.id),wo("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),na("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:pw,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&(Go(),Co(0,dw,1,2,"mat-pseudo-checkbox",0),Oo(1,"span",1),Wo(2),Do(),Ro(3,"div",2)),2&t&&(Ao("ngIf",e.multiple),gr(3),Ao("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[gh,Nw,Fw],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function Ww(t,e,n){if(n.length){let i=e.toArray(),r=n.toArray(),s=0;for(let e=0;e<t+1;e++)i[e].group&&i[e].group===r[s]&&s++;return s}return 0}function $w(t,e,n,i){const r=t*e;return r<n?r:r+e>n+i?Math.max(0,r-i+e):n}let Kw=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[Pw,Qh,Mw]]}),t})();const Yw=new qt("mat-label-global-options");function Qw(t,e){}class Xw{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Jw={dialogContainer:Uv("dialogContainer",[Gv("void, exit",Hv({opacity:0,transform:"scale(0.7)"})),Gv("enter",Hv({transform:"none"})),$v("* => enter",Bv("150ms cubic-bezier(0, 0, 0.2, 1)",Hv({transform:"none",opacity:1}))),$v("* => void, * => exit",Bv("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Hv({opacity:0})))])};function Zw(){throw Error("Attempting to attach dialog content after content is already attached")}let tx=(()=>{class t extends Sy{constructor(t,e,n,i,r){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=r,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new jl,this.attachDomPortal=t=>(this._portalOutlet.hasAttached()&&Zw(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=r.ariaLabelledBy||null,this._document=i}attachComponentPortal(t){return this._portalOutlet.hasAttached()&&Zw(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached()&&Zw(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}_trapFocus(){const t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this._config.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const e=this._document.activeElement;e===t||t.contains(e)||t.focus()}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_onAnimationDone(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(Av),So(Hs),So(cu,8),So(Xw))},t.\u0275cmp=ye({type:t,selectors:[["mat-dialog-container"]],viewQuery:function(t,e){var n;1&t&&Xl(Iy,!0),2&t&&Ql(n=ic())&&(e._portalOutlet=n.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&jo("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(wo("id",e._id)("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),ya("@dialogContainer",e._state))},features:[_a],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&Co(0,Qw,0,0,"ng-template",0)},directives:[Iy],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Jw.dialogContainer]}}),t})(),ex=0;class nx{constructor(t,e,n=`mat-dialog-${ex++}`){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new S,this._afterClosed=new S,this._beforeClosed=new S,this._state=0,e._id=n,e._animationStateChanged.pipe(qd(t=>"done"===t.phaseName&&"enter"===t.toState),op(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(qd(t=>"done"===t.phaseName&&"exit"===t.toState),op(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._overlayRef.dispose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(qd(t=>27===t.keyCode&&!this.disableClose&&!Ty(t))).subscribe(t=>{t.preventDefault(),this.close()})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(qd(t=>"start"===t.phaseName),op(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._state=2,this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},e.totalTime+100)}),this._containerInstance._startExitAnimation(),this._state=1}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const ix=new qt("MatDialogData"),rx=new qt("mat-dialog-default-options"),sx=new qt("mat-dialog-scroll-strategy"),ox={provide:sx,deps:[ev],useFactory:function(t){return()=>t.scrollStrategies.block()}};let ax=(()=>{class t{constructor(t,e,n,i,r,s,o){this._overlay=t,this._injector=e,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new S,this._afterOpenedAtThisLevel=new S,this._ariaHiddenElements=new Map,this.afterAllClosed=Ud(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(gp(void 0))),this._scrollStrategy=r}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get _afterAllClosed(){const t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}open(t,e){if((e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new Xw)).id&&this.getDialogById(e.id))throw Error(`Dialog with id "${e.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(e),i=this._attachDialogContainer(n,e),r=this._attachDialogContent(t,i,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpened.next(r),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new Vy({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=oo.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Xw,useValue:e}]}),i=new xy(tx,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const r=new nx(n,e,i.id);if(i.hasBackdrop&&n.backdropClick().subscribe(()=>{r.disableClose||r.close()}),t instanceof cl)e.attachTemplatePortal(new Cy(t,null,{$implicit:i.data,dialogRef:r}));else{const n=this._createInjector(i,r,e),s=e.attachComponentPortal(new xy(t,i.viewContainerRef,n));r.componentInstance=s.instance}return r.updateSize(i.width,i.height).updatePosition(i.position),r}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=[{provide:tx,useValue:n},{provide:ix,useValue:t.data},{provide:nx,useValue:e}];return!t.direction||i&&i.get(dy,null)||r.push({provide:dy,useValue:{value:t.direction,change:Dd()}}),oo.create({parent:i||this._injector,providers:r})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(Jt(ev),Jt(oo),Jt(Eu,8),Jt(rx,8),Jt(sx),Jt(t,12),Jt(Gy))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),lx=0,cx=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this._elementRef=e,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=px(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}}return t.\u0275fac=function(e){return new(e||t)(So(nx,8),So(ja),So(ax))},t.\u0275dir=Ee({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&Vo("click",(function(){return e.dialogRef.close(e.dialogResult)})),2&t&&wo("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Sa]}),t})(),ux=(()=>{class t{constructor(t,e,n){this._dialogRef=t,this._elementRef=e,this._dialog=n,this.id=`mat-dialog-title-${lx++}`}ngOnInit(){this._dialogRef||(this._dialogRef=px(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return t.\u0275fac=function(e){return new(e||t)(So(nx,8),So(ja),So(ax))},t.\u0275dir=Ee({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&ga("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t})(),hx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})(),dx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t})();function px(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}let fx=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},providers:[ax,ox],imports:[[av,Ay,yw],yw]}),t})();const mx=["mat-button",""],gx=["*"],yx=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class vx{constructor(t){this._elementRef=t}}const _x=_w(vw(bw(vx)));let bx=(()=>{class t extends _x{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of yx)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);t.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color="accent")}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(Pv),So(aw,8))},t.\u0275cmp=ye({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&Jl(Nw,!0),2&t&&Ql(n=ic())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:3,hostBindings:function(t,e){2&t&&(wo("disabled",e.disabled||null),na("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[_a],attrs:mx,ngContentSelectors:gx,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(Go(),Oo(0,"span",0),Wo(1),Do(),Ro(2,"div",1),Ro(3,"div",2)),2&t&&(gr(2),na("mat-button-ripple-round",e.isRoundButton||e.isIconButton),Ao("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Nw],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),wx=(()=>{class t extends bx{constructor(t,e,n){super(e,t,n)}_haltDisabledEvents(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}return t.\u0275fac=function(e){return new(e||t)(So(Pv),So(ja),So(aw,8))},t.\u0275cmp=ye({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){1&t&&Vo("click",(function(t){return e._haltDisabledEvents(t)})),2&t&&(wo("tabindex",e.disabled?-1:e.tabIndex||0)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString()),na("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[_a],attrs:mx,ngContentSelectors:gx,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(Go(),Oo(0,"span",0),Wo(1),Do(),Ro(2,"div",1),Ro(3,"div",2)),2&t&&(gr(2),na("mat-button-ripple-round",e.isRoundButton||e.isIconButton),Ao("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Nw],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),xx=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[Pw,yw],yw]}),t})(),Cx=(()=>{class t{constructor(t){this.dialogRef=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(So(nx))},t.\u0275cmp=ye({type:t,selectors:[["app-confirmation-popup"]],decls:9,vars:1,consts:[[1,"app-popup"],[1,"app-popup-content","text-center"],[1,"mb-4"],["mat-raised-button","","color","accent",1,"mr-3",3,"click"]],template:function(t,e){1&t&&(Oo(0,"div",0),Oo(1,"div",1),Oo(2,"div",2),Oo(3,"h4"),pa(4),Do(),Do(),Oo(5,"button",3),Vo("click",(function(){return e.dialogRef.close("yes")})),pa(6,"Yes"),Do(),Oo(7,"button",3),Vo("click",(function(){return e.dialogRef.close()})),pa(8,"No"),Do(),Do(),Do()),2&t&&(gr(4),fa(e.message))},directives:[bx],styles:[""]}),t})();class Ex{constructor(){this.baseId=(new Date).getTime().toString(36)+Math.random().toString(36).slice(2)}}var Sx=function(t){return t.TSHIRT="T-Shirt",t.ROMPERS="Rompers",t}({});!function(t){t[t.DEMOGRAPHY=0]="DEMOGRAPHY",t[t.APPARELSTYLE=1]="APPARELSTYLE",t[t.TSHIRTSTYLE=2]="TSHIRTSTYLE"}(Sx||(Sx={}));class kx extends Ex{}class Ix extends Ex{constructor(){super(...arguments),this.cartLines=[]}}class Ax extends Ex{}class Tx extends Ex{constructor(){super(),this.createdDate=new Date}}class Ox extends Ex{constructor(t){super(),this.ordId=t,this.orderLines=[],this.createdDate=(new Date).getTime()}}class Dx{constructor(t,e=[4,8],n,i,r,s,o){this.id=t,this.dateRange=e,this.title=n,this.description=i,this.initCost=r,this.increment=s,this.method=o,this.__isEdit=!1,this.__edit=!1,this.__alreadyAssignedToProduct=!1,this.__checked=!1}}var Rx=function(t){return t.CREATED="created",t.ALL_LINES_DELIVERED="all-delivered",t}({}),Nx=function(t){return t.CREATED="created",t.SHIPPED="shipped",t.DELIVERED="delivered",t}({});class Px extends Ex{}class Fx{constructor(){this.colorVariants=[],this.sizeVariants={},this.galleryImages={},this.categories=[]}}class Mx{constructor(t){this.imgUrl=t,this.__selected=!1}}class Lx{constructor(t,e,n,i){this.colorKey=t,this.imgUrl=e,this.colorValue=n,this.imgName=i,this.__edit=!1,this.imgName=n}}var Vx=function(t){return t.MAROON="Maroon",t.PURPLE="Purple",t.YELLOW="Yellow",t.RED="Red",t.SKYBLUE="Sky Blue",t.BLACK="Black",t.CHARCOALMELANGE="Charcoal Melange",t.GREEN="Green",t.GREYMELANGE="Grey Melange",t.NAVYBLUE="Navy Blue",t.ROYALBLUE="Royal Blue",t.WHITE="White",t.FLAGGREEN="Flag Green",t.GOLDENYELLOW="Golden Yellow",t.COFFEEBROWN="Coffee Brown",t.PETROLBLUE="Petrol Blue",t.STEELGREY="Steel Grey",t.BRICKRED="Brick Red",t.OLIVEGREEN="Olive Green",t}({});class jx extends Ex{}class Ux extends Ex{constructor(t,e,n){super(),this.parentId=t,this.name=e,this.description=n,this.__selected=!1}isRootNode(){return""===this.parentId}addChild(t,e){const n=new Ux(this.baseId,e.name,e.description);t.categories.push(n)}getChildren(t){return t.categories.filter(t=>t.parentId===this.baseId)}}var Bx=function(t){return t.MEN_VNECK="MEN_VNECK",t.WOMEN_VNECK="WOMEN_VNECK",t.MEN_ROUND_NECK="MEN_ROUND_NECK",t.WOMEN_ROUND_NECK="WOMEN_ROUND_NECK",t}({}),qx=function(t){return t.CHECKOUT_STARTED="startCheckout",t.SHIPPING_ADDRESS_REVIEW="shipAddrReview",t.SHIPPING_ADDRESS_EDIT="shipAddrEdit",t.PAYMENT_INFO="payInfo",t.PAYMENT_AUTHORIZED="payAuthorized",t.PAYMENT_CAPTURED="payCaptured",t.PAYMENT_CAPTURE_FAILED="payCaptureFailed",t.PAYMENT_AUTH_FAILED="payAuthFailed",t.ORDER_PLACED="ordPlaced",t}({}),zx=function(t){return t.XS="xs",t.SM="sm",t.MD="md",t.LG="lg",t.XL="xl",t}({}),Hx=function(t){return t.CARS_MUSTANG="CARS_MUSTANG",t.KIDS_CUTE_ANIMALS="KIDS_CUTE_ANIMALS",t.KIDS_CUTE_ANIMALS_WATER_COLOR="KIDS_CUTE_ANIMALS_WATER_COLOR",t}({});class Gx{constructor(){this.__edit=!1}}var Wx=function(t){return t.SMALL="S",t.MEDIUM="M",t.LARGE="L",t.XLARGE="XL",t.XXLARGE="XXL",t.THREE_TO_6="3-6",t.SIX_TO_9="6-9",t.NINE_TO_12="9-12",t.TWELVE_TO_15="12-15",t}({});class $x{isErrorState(t,e){return!!(t&&t.invalid&&(t.dirty||t.touched||e&&e.submitted))}}const Kx=[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}];function Yx(...t){if(1===t.length){const e=t[0];if(l(e))return Qx(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Qx(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Qx(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(L(t=>e(...t)))}return Qx(t,null)}function Qx(t,e){return new b(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let s=0,o=0;for(let a=0;a<i;a++){const l=B(t[a]);let c=!1;n.add(l.subscribe({next:t=>{c||(c=!0,o++),r[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==i&&c||(o===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}const Xx=new qt("NgValueAccessor"),Jx={provide:Xx,useExisting:It(()=>Zx),multi:!0};let Zx=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(So(za),So(ja))},t.\u0275dir=Ee({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Vo("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[Fa([Jx])]}),t})();const tC={provide:Xx,useExisting:It(()=>nC),multi:!0},eC=new qt("CompositionEventMode");let nC=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=lu()?lu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(So(za),So(ja),So(eC,8))},t.\u0275dir=Ee({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Vo("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[Fa([tC])]}),t})(),iC=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t}),t})(),rC=(()=>{class t extends iC{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return sC(e||t)},t.\u0275dir=Ee({type:t,features:[_a]}),t})();const sC=ci(rC);function oC(){throw new Error("unimplemented")}class aC extends iC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return oC()}get asyncValidator(){return oC()}}class lC{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let cC=(()=>{class t extends lC{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(So(aC,2))},t.\u0275dir=Ee({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&na("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[_a]}),t})(),uC=(()=>{class t extends lC{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(So(rC,2))},t.\u0275dir=Ee({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&na("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[_a]}),t})();function hC(t){return null==t||0===t.length}const dC=new qt("NgValidators"),pC=new qt("NgAsyncValidators"),fC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class mC{static min(t){return e=>{if(hC(e.value)||hC(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(hC(e.value)||hC(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return hC(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return hC(t.value)?null:fC.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(hC(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return mC.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(hC(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(gC);return 0==e.length?null:function(t){return vC(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(gC);return 0==e.length?null:function(t){return Yx(function(t,e){return e.map(e=>e(t))}(t,e).map(yC)).pipe(L(vC))}}}function gC(t){return null!=t}function yC(t){const e=Mo(t)?B(t):t;if(!Lo(e))throw new Error("Expected validator to return Promise or Observable.");return e}function vC(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function _C(t){return t.validate?e=>t.validate(e):t}function bC(t){return t.validate?e=>t.validate(e):t}const wC={provide:Xx,useExisting:It(()=>xC),multi:!0};let xC=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(So(za),So(ja))},t.\u0275dir=Ee({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Vo("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[Fa([wC])]}),t})();const CC={provide:Xx,useExisting:It(()=>SC),multi:!0};let EC=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),SC=(()=>{class t{constructor(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(aC),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(So(za),So(ja),So(EC),So(oo))},t.\u0275dir=Ee({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Vo("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Fa([CC])]}),t})();const kC={provide:Xx,useExisting:It(()=>IC),multi:!0};let IC=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(So(za),So(ja))},t.\u0275dir=Ee({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Vo("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[Fa([kC])]}),t})();const AC='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',TC='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',OC='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class DC{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${AC}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${TC}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${OC}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${AC}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${TC}`)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const RC={provide:Xx,useExisting:It(()=>PC),multi:!0};function NC(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let PC=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=mo}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=NC(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(So(za),So(ja))},t.\u0275dir=Ee({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Vo("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Fa([RC])]}),t})(),FC=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(NC(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(za),So(PC,9))},t.\u0275dir=Ee({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const MC={provide:Xx,useExisting:It(()=>VC),multi:!0};function LC(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let VC=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=mo}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),r=this._getOptionValue(i.value);n.push(r)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(So(za),So(ja))},t.\u0275dir=Ee({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Vo("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Fa([MC])]}),t})(),jC=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(LC(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(LC(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(za),So(VC,9))},t.\u0275dir=Ee({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function UC(t,e){return[...e.path,t]}function BC(t,e){t||GC(e,"Cannot find control with"),e.valueAccessor||GC(e,"No value accessor for form control with"),t.validator=mC.compose([t.validator,e.validator]),t.asyncValidator=mC.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&qC(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&qC(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function qC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function zC(t,e){null==t&&GC(e,"Cannot find control with"),t.validator=mC.compose([t.validator,e.validator]),t.asyncValidator=mC.composeAsync([t.asyncValidator,e.asyncValidator])}function HC(t){return GC(t,"There is no FormControl instance attached to form control element with")}function GC(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function WC(t){return null!=t?mC.compose(t.map(_C)):null}function $C(t){return null!=t?mC.composeAsync(t.map(bC)):null}function KC(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!mo(e,n.currentValue)}const YC=[Zx,IC,xC,PC,VC,SC];function QC(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function XC(t,e){if(!e)return null;Array.isArray(e)||GC(t,"Value accessor was not provided as an array for form control with");let n=void 0,i=void 0,r=void 0;return e.forEach(e=>{var s;e.constructor===nC?n=e:(s=e,YC.some(t=>s.constructor===t)?(i&&GC(t,"More than one built-in value accessor matches form control with"),i=e):(r&&GC(t,"More than one custom value accessor matches form control with"),r=e))}),r||i||n||(GC(t,"No valid value accessor for form control with"),null)}function JC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function ZC(t,e,n,i){Si()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(DC.ngModelWarning(t),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}function tE(t){const e=nE(t)?t.validators:t;return Array.isArray(e)?WC(e):e||null}function eE(t,e){const n=nE(e)?e.asyncValidators:t;return Array.isArray(n)?$C(n):n||null}function nE(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class iE{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=tE(t)}setAsyncValidators(t){this.asyncValidator=eE(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=yC(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof sE?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof oE&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new jl,this.statusChanges=new jl}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){nE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class rE extends iE{constructor(t=null,e,n){super(tE(e),eE(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class sE extends iE{constructor(t,e,n){super(tE(e),eE(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof rE?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,i)=>{e=e||this.contains(i)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class oE extends iE{constructor(t,e,n){super(tE(e),eE(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof rE?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const aE={provide:rC,useExisting:It(()=>cE)},lE=(()=>Promise.resolve(null))();let cE=(()=>{class t extends rC{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new jl,this.form=new sE({},WC(t),$C(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){lE.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),BC(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){lE.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),JC(this._directives,t)})}addFormGroup(t){lE.then(()=>{const e=this._findContainer(t.path),n=new sE({});zC(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){lE.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){lE.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,QC(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(So(dC,10),So(pC,10))},t.\u0275dir=Ee({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Vo("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Fa([aE]),_a]}),t})(),uE=(()=>{class t extends rC{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return UC(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return WC(this._validators)}get asyncValidator(){return $C(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return hE(e||t)},t.\u0275dir=Ee({type:t,features:[_a]}),t})();const hE=ci(uE);class dE{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${AC}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${TC}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${OC}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${TC}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${OC}`)}}const pE={provide:rC,useExisting:It(()=>fE)};let fE=(()=>{class t extends uE{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof cE||dE.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(So(rC,5),So(dC,10),So(pC,10))},t.\u0275dir=Ee({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[Fa([pE]),_a]}),t})();const mE={provide:aC,useExisting:It(()=>yE)},gE=(()=>Promise.resolve(null))();let yE=(()=>{class t extends aC{constructor(t,e,n,i){super(),this.control=new rE,this._registered=!1,this.update=new jl,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=XC(this,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),KC(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?UC(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return WC(this._rawValidators)}get asyncValidator(){return $C(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){BC(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof fE)&&this._parent instanceof uE?dE.formGroupNameException():this._parent instanceof fE||this._parent instanceof cE||dE.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||dE.missingNameException()}_updateValue(t){gE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;gE.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(So(rC,9),So(dC,10),So(pC,10),So(Xx,10))},t.\u0275dir=Ee({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Fa([mE]),_a,Sa]}),t})(),vE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const _E=new qt("NgModelWithFormControlWarning"),bE={provide:aC,useExisting:It(()=>wE)};let wE=(()=>{class t extends aC{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new jl,this._ngModelWarningSent=!1,this._rawValidators=t||[],this._rawAsyncValidators=e||[],this.valueAccessor=XC(this,n)}set isDisabled(t){DC.disabledAttrWarning()}ngOnChanges(e){this._isControlChanged(e)&&(BC(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),KC(e,this.viewModel)&&(ZC("formControl",t,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return WC(this._rawValidators)}get asyncValidator(){return $C(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(So(dC,10),So(pC,10),So(Xx,10),So(_E,8))},t.\u0275dir=Ee({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Fa([bE]),_a,Sa]}),t._ngModelWarningSentOnce=!1,t})();const xE={provide:rC,useExisting:It(()=>CE)};let CE=(()=>{class t extends rC{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new jl}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return BC(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){JC(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);zC(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);zC(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,QC(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>HC(e)),e.valueAccessor.registerOnTouched(()=>HC(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&BC(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=WC(this._validators);this.form.validator=mC.compose([this.form.validator,t]);const e=$C(this._asyncValidators);this.form.asyncValidator=mC.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||DC.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(So(dC,10),So(pC,10))},t.\u0275dir=Ee({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Vo("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Fa([xE]),_a,Sa]}),t})();const EE={provide:rC,useExisting:It(()=>SE)};let SE=(()=>{class t extends uE{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){AE(this._parent)&&DC.groupParentException()}}return t.\u0275fac=function(e){return new(e||t)(So(rC,13),So(dC,10),So(pC,10))},t.\u0275dir=Ee({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[Fa([EE]),_a]}),t})();const kE={provide:rC,useExisting:It(()=>IE)};let IE=(()=>{class t extends rC{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return UC(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return WC(this._validators)}get asyncValidator(){return $C(this._asyncValidators)}_checkParentType(){AE(this._parent)&&DC.arrayParentException()}}return t.\u0275fac=function(e){return new(e||t)(So(rC,13),So(dC,10),So(pC,10))},t.\u0275dir=Ee({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[Fa([kE]),_a]}),t})();function AE(t){return!(t instanceof SE||t instanceof CE||t instanceof IE)}const TE={provide:aC,useExisting:It(()=>OE)};let OE=(()=>{class t extends aC{constructor(t,e,n,i,r){super(),this._ngModelWarningConfig=r,this._added=!1,this.update=new jl,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=XC(this,i)}set isDisabled(t){DC.disabledAttrWarning()}ngOnChanges(e){this._added||this._setUpControl(),KC(e,this.viewModel)&&(ZC("formControlName",t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return UC(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return WC(this._rawValidators)}get asyncValidator(){return $C(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof SE)&&this._parent instanceof uE?DC.ngModelGroupException():this._parent instanceof SE||this._parent instanceof CE||this._parent instanceof IE||DC.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(So(rC,13),So(dC,10),So(pC,10),So(Xx,10),So(_E,8))},t.\u0275dir=Ee({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Fa([TE]),_a,Sa]}),t._ngModelWarningSentOnce=!1,t})();const DE={provide:dC,useExisting:It(()=>NE),multi:!0},RE={provide:dC,useExisting:It(()=>PE),multi:!0};let NE=(()=>{class t{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!==`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?mC.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&wo("required",e.required?"":null)},inputs:{required:"required"},features:[Fa([DE])]}),t})(),PE=(()=>{class t extends NE{validate(t){return this.required?mC.requiredTrue(t):null}}return t.\u0275fac=function(e){return FE(e||t)},t.\u0275dir=Ee({type:t,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&wo("required",e.required?"":null)},features:[Fa([RE]),_a]}),t})();const FE=ci(PE),ME={provide:dC,useExisting:It(()=>LE),multi:!0};let LE=(()=>{class t{set email(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}validate(t){return this._enabled?mC.email(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Fa([ME])]}),t})();const VE={provide:dC,useExisting:It(()=>jE),multi:!0};let jE=(()=>{class t{ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=mC.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&wo("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[Fa([VE]),Sa]}),t})();const UE={provide:dC,useExisting:It(()=>BE),multi:!0};let BE=(()=>{class t{ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=mC.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&wo("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Fa([UE]),Sa]}),t})();const qE={provide:dC,useExisting:It(()=>zE),multi:!0};let zE=(()=>{class t{ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=mC.pattern(this.pattern)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&wo("pattern",e.pattern?e.pattern:null)},inputs:{pattern:"pattern"},features:[Fa([qE]),Sa]}),t})(),HE=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)}}),t})(),GE=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let i=null,r=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,r=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,r=null!=e.asyncValidator?e.asyncValidator:null)),new sE(n,{asyncValidators:r,updateOn:s,validators:i})}control(t,e,n){return new rE(t,e,n)}array(t,e,n){const i=t.map(t=>this._createControl(t));return new oE(i,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof rE||t instanceof sE||t instanceof oE?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),WE=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},providers:[EC],imports:[HE]}),t})(),$E=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:_E,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},providers:[GE,EC],imports:[HE]}),t})(),KE=(()=>{class t{}return t.EMAIL_PATTERN="^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",t.G_STORAGE_PREFIX="https://storage.cloud.google.com/my-ecommerce-640b0.appspot.com",t.CLR_VARIANT_EDIT="colorVariantEdit",t})();function YE(t){const e=function(t){return new b(e=>(t.on("state_changed",t=>e.next(t),t=>e.error(t),()=>e.complete()),()=>t.cancel()))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(L(t=>t.bytesTransferred/t.totalBytes*100))}}function QE(t,e,n){return{getDownloadURL:()=>B(t.getDownloadURL(),e.outsideAngular).pipe(n),getMetadata:()=>B(t.getMetadata()).pipe(n),delete:()=>B(t.delete()),child:i=>QE(t.child(i),e,n),updateMetatdata:e=>B(t.updateMetadata(e)),updateMetadata:e=>B(t.updateMetadata(e)),put:(e,n)=>YE(t.put(e,n)),putString:(e,n,i)=>YE(t.putString(e,n,i))}}class XE extends b{constructor(t,e=0,n=Rg){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!jg(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=Rg)}static create(t,e=0,n=Rg){return new XE(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(XE.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class JE{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new XE(e,this.delay,this.scheduler).subscribe(t)}}function ZE(){}class tS{constructor(t,e=$g){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const i=this.zone;return this.delegate.schedule((function(e){i.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class eS{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ZE,{},ZE,ZE)),e.pipe(wp(n,n,n)).subscribe(t).add(n)}unscheduleTask(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}class nS{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new tS(Zone.current)),this.insideAngular=t.run(()=>new tS(Zone.current,Mg))}}function iS(t,e){return function(n){return Jh(e)&&(n=n.lift(new eS(t.ngZone))),n.pipe(function(t,e=0){return function(n){return n.lift(new JE(t,e))}}(t.outsideAngular),Jg(t.insideAngular))}}var rS,sS=n("Wcq6"),oS=n.n(sS);const aS=new qt("angularfire2.app.options"),lS=new qt("angularfire2.app.nameOrConfig");class cS{}const uS=new Wa("5.4.2");function hS(t,e,n){const i="object"==typeof n&&n||{};return i.name=i.name||"string"==typeof n&&n||"[DEFAULT]",oS.a.apps.filter(t=>t&&t.name===i.name)[0]||e.runOutsideAngular(()=>oS.a.initializeApp(t,i))}const dS={provide:cS,useFactory:hS,deps:[aS,Oc,[new at,lS]]};let pS=(()=>{let t=rS=class{constructor(t){oS.a.registerVersion&&(oS.a.registerVersion("angularfire",uS.full,t.toString()),oS.a.registerVersion("angular",$a.full))}static initializeApp(t,e){return{ngModule:rS,providers:[{provide:aS,useValue:t},{provide:lS,useValue:e}]}}};return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)(Jt(fc))},providers:[dS]}),t})();const fS=new qt("angularfire2.storageBucket");let mS=(()=>{let t=class{constructor(t,e,n,i,r){this.schedulers=new nS(r),this.keepUnstableUntilFirst=iS(this.schedulers,i),this.storage=r.runOutsideAngular(()=>hS(t,r,e).storage(n||void 0))}ref(t){return QE(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return QE(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}};return t.\u0275fac=function(e){return new(e||t)(Jt(aS),Jt(lS,8),Jt(fS,8),Jt(fc),Jt(Oc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),gS=(()=>{class t{constructor(){this.categories=[],this.masterColorVariants=[],this.dataFetched=!1,this.cart=new Ix,this.components=[],this.products=[],this.desingData=[],this.layout=new yS,this.shippingOptions=[],this.objPrototypeMap=new Map}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class yS{constructor(){this.applicableScreenSizes=[]}}let vS=(()=>{class t{constructor(t){this.state=t,this.monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],window.util=this}rawCopy(t){performance.now();const e=this.cloneObject(t);return this.removeInternalVariableRecursively(e),performance.now(),e}removeInternalVariableRecursively(t){this.executeFnRecursively(t,t=>{Object.keys(t).filter(t=>t.startsWith("__")).forEach(e=>delete t[e])})}cloneObject(t){if(null==t||"object"!=typeof t)return t;if(t instanceof Array){const e=[];for(let n=0,i=t.length;n<i;n++)e[n]=this.cloneObject(t[n]);return e}if(t instanceof Object){const e={};for(let n in t)t.hasOwnProperty(n)&&(e[n]=this.cloneObject(t[n]));return e}throw new Error("Unable to copy obj! Its type isn't supported.")}executeFnRecursively(t,e){e(t);const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];if(!1===r.startsWith("__")){const n=t[r];this.goFurtherWithChild(n)&&this.executeFnRecursively(n,e)}}}goFurtherWithChild(t){return null!=t&&"object"==typeof t&&(t instanceof Ex||Array.isArray(t)||Object.keys(t).length>0)}deleteBaseIdUsingRecursiveFn(t){this.executeFnRecursively(t,t=>{delete t.baseId})}getUniqueId(){return(new Date).getTime().toString(36)+Math.random().toString(36).slice(2)}getRandomFrom0to25(){return Math.floor(26*Math.random())}getComponent(t){return this.state.components.find(e=>e.compId===t)}getComponentByClass(t){return this.state.components.filter(e=>e.compClass===t)}getRoundedValue(t,e=2){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}addToDataLayer(t,e,n,i="",r=""){dataLayer.push({event:t,category:e,action:n,label:i,value:r})}getFormattedDate(t){return`${t.getMonth()+1}/${t.getDate()}`}}return t.\u0275fac=function(e){return new(e||t)(Jt(gS))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function _S(t){return null==t||""===t.toString().trim()}function bS(t){return null!=t&&""!==t.toString().trim()}let wS=(()=>{class t{constructor(t){this.state=t}ngOnInit(){this.state.components.push(this)}ngOnDestroy(){this.state.components=this.state.components.filter(t=>t!==this)}}return t.\u0275fac=function(e){return new(e||t)(So(gS))},t.\u0275dir=Ee({type:t,selectors:[["","appBase",""]]}),t})(),xS=(()=>{class t extends wS{constructor(t,e){super(e),this.el=t,this.state=e,this.styleKeyMapping={as:"alignSelf",js:"justifySelf",jc:"justifyContent",ac:"alignContent",gtr:"gridTemplateRows",gtc:"gridTemplateColumns",ga:"gridArea",gta:"gridTemplateAreas",d:"display",ai:"alignItems",ji:"justifyItems",pi:"place-items",ps:"place-self",gac:"gridAutoColumns",gar:"gridAutoRows",gaf:"gridAutoFlow",cg:"columnGap",rg:"rowGap",gg:"gridGap",gr:"grid-row",gc:"grid-column",h:"height",w:"width",m:"margin",p:"padding",pos:"position",l:"left",t:"top",r:"right",b:"bottom",pl:"padding-left",pt:"padding-top",pb:"padding-bottom",pr:"padding-right",ml:"margin-left",mt:"margin-top",mr:"margin-right",mb:"margin-bottom",brra:"border-radius",br:"border",brt:"border-top",brr:"border-right",brb:"border-bottom",brl:"border-left",bgc:"background-color",clr:"color",fs:"font-size",fw:"font-weight",zi:"z-index",mh:"min-height",mw:"min-width",bgi:"background-image",lh:"line-height",ws:"white-space",ff:"font-family",op:"opacity"},this.styleValueMapping={g:"grid",abs:"absolute",mxc:"max-content",c:"center",s:"start",e:"end",col:"column",rel:"relative"}}ngOnInit(){this.compClass=t.name,super.ngOnInit(),this.checkAttributes()}checkAttributes(){const t=this.state.layout.applicableScreenSizes,e=this.el.nativeElement.attributes,n=this,i={},r=$(n.el.nativeElement),s=r.attr("dclass");$.each(e,(function(){if(r.attr("bbb"),this.specified){let e=this.name;const r=this.value,o=e.match(/[a-z0-9]+\.(xs|sm|md|lg|xl)/);if(null!==o){if(-1===t.indexOf(o[1]))return;e=e.replace(/\..*$/,"")}const a=n.styleKeyMapping[e];if(bS(a)){const t=r.split(/\s+/).map(t=>{let e=n.styleValueMapping[t],i=_S(e)?t:e;return i=i.startsWith("--")?`var(${i})`:i,i}).join(" ");_S(s)?n.el.nativeElement.style[a]=t:i[a]=t}}})),bS(s)&&this.addCssRule(`.${s}`,i)}addCssRule(t,e){const n=JSON.stringify(e).replace(/"/g,"").replace(/,/g,";");$("<style>").prop("type","text/css").html(t+n).appendTo("head")}makeItResponsive(){this.checkAttributes()}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(gS))},t.\u0275dir=Ee({type:t,selectors:[["","aaa",""]],features:[_a]}),t})();const CS=["underline"],ES=["connectionContainer"],SS=["inputContainer"],kS=["label"];function IS(t,e){1&t&&(No(0),Oo(1,"div",14),Ro(2,"div",15),Ro(3,"div",16),Ro(4,"div",17),Do(),Oo(5,"div",18),Ro(6,"div",15),Ro(7,"div",16),Ro(8,"div",17),Do(),Po())}function AS(t,e){1&t&&(Oo(0,"div",19),Wo(1,1),Do())}function TS(t,e){if(1&t&&(No(0),Wo(1,2),Oo(2,"span"),pa(3),Do(),Po()),2&t){const t=zo(2);gr(3),fa(t._control.placeholder)}}function OS(t,e){1&t&&Wo(0,3,["*ngSwitchCase","true"])}function DS(t,e){1&t&&(Oo(0,"span",23),pa(1," *"),Do())}function RS(t,e){if(1&t){const t=Fo();Oo(0,"label",20,21),Vo("cdkObserveContent",(function(){return tn(t),zo().updateOutlineGap()})),Co(2,TS,4,1,"ng-container",12),Co(3,OS,1,0,void 0,12),Co(4,DS,2,0,"span",22),Do()}if(2&t){const t=zo();na("mat-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),Ao("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),wo("for",t._control.id)("aria-owns",t._control.id),gr(2),Ao("ngSwitchCase",!1),gr(1),Ao("ngSwitchCase",!0),gr(1),Ao("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function NS(t,e){1&t&&(Oo(0,"div",24),Wo(1,4),Do())}function PS(t,e){if(1&t&&(Oo(0,"div",25,26),Ro(2,"span",27),Do()),2&t){const t=zo();gr(2),na("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function FS(t,e){1&t&&(Oo(0,"div"),Wo(1,5),Do()),2&t&&Ao("@transitionMessages",zo()._subscriptAnimationState)}function MS(t,e){if(1&t&&(Oo(0,"div",31),pa(1),Do()),2&t){const t=zo(2);Ao("id",t._hintLabelId),gr(1),fa(t.hintLabel)}}function LS(t,e){if(1&t&&(Oo(0,"div",28),Co(1,MS,2,2,"div",29),Wo(2,6),Ro(3,"div",30),Wo(4,7),Do()),2&t){const t=zo();Ao("@transitionMessages",t._subscriptAnimationState),gr(1),Ao("ngIf",t.hintLabel)}}const VS=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],jS=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let US=0,BS=(()=>{class t{constructor(){this.id=`mat-error-${US++}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&wo("id",e.id)},inputs:{id:"id"}}),t})();const qS={transitionMessages:Uv("transitionMessages",[Gv("enter",Hv({opacity:1,transform:"translateY(0%)"})),$v("void => enter",[Hv({opacity:0,transform:"translateY(-100%)"}),Bv("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let zS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t}),t})();function HS(t){return Error(`A hint was already declared for 'align="${t}"'.`)}let GS=0,WS=(()=>{class t{constructor(){this.align="start",this.id=`mat-hint-${GS++}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,e){2&t&&(wo("id",e.id)("align",null),na("mat-right","end"==e.align))},inputs:{align:"align",id:"id"}}),t})(),$S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["mat-label"]]}),t})(),KS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["mat-placeholder"]]}),t})(),YS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","matPrefix",""]]}),t})(),QS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","matSuffix",""]]}),t})(),XS=0;class JS{constructor(t){this._elementRef=t}}const ZS=_w(JS,"primary"),tk=new qt("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ek=new qt("MatFormField");let nk=(()=>{class t extends ZS{constructor(t,e,n,i,r,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=i,this._defaults=r,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new S,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId=`mat-hint-${XS++}`,this._labelId=`mat-form-field-label-${XS++}`,this._labelOptions=n||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=mg(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(gp(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(qg(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(qg(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Y(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(gp(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(gp(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(qg(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,bg(this._label.nativeElement,"transitionend").pipe(op(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw HS("start");t=n}else if("end"===n.align){if(e)throw HS("end");e=n}})}}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),s=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const r=i.getBoundingClientRect();if(0===r.width&&0===r.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(r),o=this._getStartEnd(t.children[0].getBoundingClientRect());let a=0;for(const e of t.children)a+=e.offsetWidth;e=Math.abs(o-s)-5,n=a>0?.75*a+10:0}for(let o=0;o<r.length;o++)r[o].style.width=`${e}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(Hs),So(Yw,8),So(dy,8),So(tk,8),So(iy),So(Oc),So(aw,8))},t.\u0275cmp=ye({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var i;1&t&&(tc(n,zS,!0),ec(n,zS,!0),tc(n,$S,!0),ec(n,$S,!0),tc(n,KS,!0),tc(n,BS,!0),tc(n,WS,!0),tc(n,YS,!0),tc(n,QS,!0)),2&t&&(Ql(i=ic())&&(e._controlNonStatic=i.first),Ql(i=ic())&&(e._controlStatic=i.first),Ql(i=ic())&&(e._labelChildNonStatic=i.first),Ql(i=ic())&&(e._labelChildStatic=i.first),Ql(i=ic())&&(e._placeholderChild=i.first),Ql(i=ic())&&(e._errorChildren=i),Ql(i=ic())&&(e._hintChildren=i),Ql(i=ic())&&(e._prefixChildren=i),Ql(i=ic())&&(e._suffixChildren=i))},viewQuery:function(t,e){var n;1&t&&(Jl(CS,!0),Xl(ES,!0),Jl(SS,!0),Jl(kS,!0)),2&t&&(Ql(n=ic())&&(e.underlineRef=n.first),Ql(n=ic())&&(e._connectionContainerRef=n.first),Ql(n=ic())&&(e._inputContainerRef=n.first),Ql(n=ic())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&na("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat)("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Fa([{provide:ek,useExisting:t}]),_a],ngContentSelectors:jS,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(Go(VS),Oo(0,"div",0),Oo(1,"div",1,2),Vo("click",(function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)})),Co(3,IS,9,0,"ng-container",3),Co(4,AS,2,0,"div",4),Oo(5,"div",5,6),Wo(7),Oo(8,"span",7),Co(9,RS,5,16,"label",8),Do(),Do(),Co(10,NS,2,0,"div",9),Do(),Co(11,PS,3,4,"div",10),Oo(12,"div",11),Co(13,FS,2,1,"div",12),Co(14,LS,5,2,"div",13),Do(),Do()),2&t&&(gr(3),Ao("ngIf","outline"==e.appearance),gr(1),Ao("ngIf",e._prefixChildren.length),gr(5),Ao("ngIf",e._hasFloatingLabel()),gr(1),Ao("ngIf",e._suffixChildren.length),gr(1),Ao("ngIf","outline"!=e.appearance),gr(1),Ao("ngSwitch",e._getDisplayedMessages()),gr(1),Ao("ngSwitchCase","error"),gr(1),Ao("ngSwitchCase","hint"))},directives:[gh,bh,wh,fv],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[qS.transitionMessages]},changeDetection:0}),t})(),ik=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[Qh,mv]]}),t})();const rk=cy({passive:!0});let sk=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Vd;const e=_g(t),n=this._monitoredElements.get(e);if(n)return n.subject.asObservable();const i=new S,r="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(r)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(r)&&(e.classList.remove(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!1}))):(e.classList.add(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,rk),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:i,unlisten:()=>{e.removeEventListener("animationstart",s,rk)}}),i.asObservable()}stopMonitoring(t){const e=_g(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(Jt(iy),Jt(Oc))},t.\u0275prov=pt({factory:function(){return new t(Jt(iy),Jt(Oc))},token:t,providedIn:"root"}),t})(),ok=(()=>{class t{constructor(t,e){this._elementRef=t,this._autofillMonitor=e,this.cdkAutofill=new jl}ngOnInit(){this._autofillMonitor.monitor(this._elementRef).subscribe(t=>this.cdkAutofill.emit(t))}ngOnDestroy(){this._autofillMonitor.stopMonitoring(this._elementRef)}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(sk))},t.\u0275dir=Ee({type:t,selectors:[["","cdkAutofill",""]],outputs:{cdkAutofill:"cdkAutofill"}}),t})(),ak=(()=>{class t{constructor(t,e,n,i){this._elementRef=t,this._platform=e,this._ngZone=n,this._destroyed=new S,this._enabled=!0,this._previousMinRows=-1,this._document=i,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(t){this._minRows=gg(t),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(t){this._maxRows=gg(t),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(t){t=mg(t),this._enabled!==t&&((this._enabled=t)?this.resizeToFitContent(!0):this.reset())}_setMinHeight(){const t=this.minRows&&this._cachedLineHeight?`${this.minRows*this._cachedLineHeight}px`:null;t&&(this._textareaElement.style.minHeight=t)}_setMaxHeight(){const t=this.maxRows&&this._cachedLineHeight?`${this.maxRows*this._cachedLineHeight}px`:null;t&&(this._textareaElement.style.maxHeight=t)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{bg(this._getWindow(),"resize").pipe(Bg(16),qg(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0))}))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let t=this._textareaElement.cloneNode(!1);t.rows=1,t.style.position="absolute",t.style.visibility="hidden",t.style.border="none",t.style.padding="0",t.style.height="",t.style.minHeight="",t.style.maxHeight="",t.style.overflow="hidden",this._textareaElement.parentNode.appendChild(t),this._cachedLineHeight=t.clientHeight,this._textareaElement.parentNode.removeChild(t),this._setMinHeight(),this._setMaxHeight()}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(t=!1){if(!this._enabled)return;if(this._cacheTextareaLineHeight(),!this._cachedLineHeight)return;const e=this._elementRef.nativeElement,n=e.value;if(!t&&this._minRows===this._previousMinRows&&n===this._previousValue)return;const i=e.placeholder;e.classList.add("cdk-textarea-autosize-measuring"),e.placeholder="",e.style.height=`${e.scrollHeight-4}px`,e.classList.remove("cdk-textarea-autosize-measuring"),e.placeholder=i,this._ngZone.runOutsideAngular(()=>{"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(()=>this._scrollToCaretPosition(e)):setTimeout(()=>this._scrollToCaretPosition(e))}),this._previousValue=n,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(t){const{selectionStart:e,selectionEnd:n}=t,i=this._getDocument();this._destroyed.isStopped||i.activeElement!==t||t.setSelectionRange(e,n)}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(iy),So(Oc),So(cu,8))},t.\u0275dir=Ee({type:t,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(t,e){1&t&&Vo("input",(function(){return e._noopInputHandler()}))},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"]},exportAs:["cdkTextareaAutosize"]}),t})(),lk=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[ry]]}),t})(),ck=(()=>{class t extends ak{get matAutosizeMinRows(){return this.minRows}set matAutosizeMinRows(t){this.minRows=t}get matAutosizeMaxRows(){return this.maxRows}set matAutosizeMaxRows(t){this.maxRows=t}get matAutosize(){return this.enabled}set matAutosize(t){this.enabled=t}get matTextareaAutosize(){return this.enabled}set matTextareaAutosize(t){this.enabled=t}}return t.\u0275fac=function(e){return uk(e||t)},t.\u0275dir=Ee({type:t,selectors:[["textarea","mat-autosize",""],["textarea","matTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize","mat-autosize"],inputs:{cdkAutosizeMinRows:"cdkAutosizeMinRows",cdkAutosizeMaxRows:"cdkAutosizeMaxRows",matAutosizeMinRows:"matAutosizeMinRows",matAutosizeMaxRows:"matAutosizeMaxRows",matAutosize:["mat-autosize","matAutosize"],matTextareaAutosize:"matTextareaAutosize"},exportAs:["matTextareaAutosize"],features:[_a]}),t})();const uk=ci(ck),hk=new qt("MAT_INPUT_VALUE_ACCESSOR"),dk=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let pk=0;class fk{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const mk=xw(fk);let gk=(()=>{class t extends mk{constructor(t,e,n,i,r,s,o,a,l){super(s,i,r,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._uid=`mat-input-${pk++}`,this._isServer=!1,this._isNativeSelect=!1,this.focused=!1,this.stateChanges=new S,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>oy().has(t));const c=this._elementRef.nativeElement;this._inputValueAccessor=o||c,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&l.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===c.nodeName.toLowerCase(),this._isNativeSelect&&(this.controlType=c.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=mg(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=mg(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea()&&oy().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=mg(t)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_isTextarea(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(dk.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(iy),So(aC,10),So(cE,8),So(CE,8),So(Cw),So(hk,10),So(sk),So(Oc))},t.\u0275dir=Ee({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:10,hostBindings:function(t,e){1&t&&Vo("blur",(function(){return e._focusChanged(!1)}))("focus",(function(){return e._focusChanged(!0)}))("input",(function(){return e._onInput()})),2&t&&(ga("disabled",e.disabled)("required",e.required),wo("id",e.id)("placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-describedby",e._ariaDescribedby||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),na("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher"},exportAs:["matInput"],features:[Fa([{provide:zS,useExisting:t}]),_a,Sa]}),t})(),yk=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},providers:[Cw],imports:[[lk,ik],lk,ik]}),t})();function vk(t,e){if(1&t&&(En(),Ro(0,"circle",3)),2&t){const t=zo();ea("animation-name","mat-progress-spinner-stroke-rotate-"+t.diameter)("stroke-dashoffset",t._strokeDashOffset,"px")("stroke-dasharray",t._strokeCircumference,"px")("stroke-width",t._circleStrokeWidth,"%"),wo("r",t._circleRadius)}}function _k(t,e){if(1&t&&(En(),Ro(0,"circle",3)),2&t){const t=zo();ea("stroke-dashoffset",t._strokeDashOffset,"px")("stroke-dasharray",t._strokeCircumference,"px")("stroke-width",t._circleStrokeWidth,"%"),wo("r",t._circleRadius)}}function bk(t,e){if(1&t&&(En(),Ro(0,"circle",3)),2&t){const t=zo();ea("animation-name","mat-progress-spinner-stroke-rotate-"+t.diameter)("stroke-dashoffset",t._strokeDashOffset,"px")("stroke-dasharray",t._strokeCircumference,"px")("stroke-width",t._circleStrokeWidth,"%"),wo("r",t._circleRadius)}}function wk(t,e){if(1&t&&(En(),Ro(0,"circle",3)),2&t){const t=zo();ea("stroke-dashoffset",t._strokeDashOffset,"px")("stroke-dasharray",t._strokeCircumference,"px")("stroke-width",t._circleStrokeWidth,"%"),wo("r",t._circleRadius)}}class xk{constructor(t){this._elementRef=t}}const Ck=_w(xk,"primary"),Ek=new qt("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});let Sk=(()=>{class t extends Ck{constructor(e,n,i,r,s){super(e),this._elementRef=e,this._document=i,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const o=t._diameters;o.has(i.head)||o.set(i.head,new Set([100])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=gg(t),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=gg(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,gg(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=uy(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}get _circleRadius(){return(this.diameter-10)/2}get _viewBox(){const t=2*this._circleRadius+this.strokeWidth;return`0 0 ${t} ${t}`}get _strokeCircumference(){return 2*Math.PI*this._circleRadius}get _strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._strokeCircumference:null}get _circleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,n=this._diameter,i=t._diameters;let r=i.get(e);if(!r||!r.has(n)){const t=this._document.createElement("style");t.setAttribute("mat-spinner-animation",n+""),t.textContent=this._getAnimationText(),e.appendChild(t),r||(r=new Set,i.set(e,r)),r.add(n)}}_getAnimationText(){return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,`${.95*this._strokeCircumference}`).replace(/END_VALUE/g,`${.2*this._strokeCircumference}`).replace(/DIAMETER/g,`${this.diameter}`)}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(iy),So(cu,8),So(aw,8),So(Ek))},t.\u0275cmp=ye({type:t,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(wo("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),ea("width",e.diameter,"px")("height",e.diameter,"px"),na("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[_a],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(En(),Oo(0,"svg",0),Co(1,vk,1,9,"circle",1),Co(2,_k,1,7,"circle",2),Do()),2&t&&(ea("width",e.diameter,"px")("height",e.diameter,"px"),Ao("ngSwitch","indeterminate"===e.mode),wo("viewBox",e._viewBox),gr(1),Ao("ngSwitchCase",!0),gr(1),Ao("ngSwitchCase",!1))},directives:[bh,wh],styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),t._diameters=new WeakMap,t})(),kk=(()=>{class t extends Sk{constructor(t,e,n,i,r){super(t,e,n,i,r),this.mode="indeterminate"}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(iy),So(cu,8),So(aw,8),So(Ek))},t.\u0275cmp=ye({type:t,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,e){2&t&&(ea("width",e.diameter,"px")("height",e.diameter,"px"),na("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color"},features:[_a],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(En(),Oo(0,"svg",0),Co(1,bk,1,9,"circle",1),Co(2,wk,1,7,"circle",2),Do()),2&t&&(ea("width",e.diameter,"px")("height",e.diameter,"px"),Ao("ngSwitch","indeterminate"===e.mode),wo("viewBox",e._viewBox),gr(1),Ao("ngSwitchCase",!0),gr(1),Ao("ngSwitchCase",!1))},directives:[bh,wh],styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),t})(),Ik=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[yw,Qh],yw]}),t})();function Ak(t,e){if(1&t){const t=Fo();Oo(0,"div",2),Oo(1,"div",3),Oo(2,"h4"),pa(3,"We have successfully created your account and have logged you in."),Do(),Oo(4,"h4"),pa(5,"Please verify your email by clicking the link that we have just emailed."),Do(),Oo(6,"span"),pa(7,"Happy shopping!"),Do(),Do(),Oo(8,"button",4),Vo("click",(function(){return tn(t),zo().dialogRef.close("yes")})),pa(9,"Ok"),Do(),Do()}}function Tk(t,e){if(1&t){const t=Fo();Oo(0,"div",2),Oo(1,"div",5),Oo(2,"h4"),pa(3),Do(),Do(),Oo(4,"button",4),Vo("click",(function(){return tn(t),zo().dialogRef.close("yes")})),pa(5,"Ok"),Do(),Do()}if(2&t){const t=zo();gr(3),fa(t.dialogData.message)}}function Ok(t,e){1&t&&(Oo(0,"mat-error"),pa(1," color key is required "),Do())}function Dk(t,e){1&t&&(Oo(0,"mat-error"),pa(1," color value is required "),Do())}function Rk(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Image name is required "),Do())}function Nk(t,e){1&t&&Ro(0,"mat-spinner",22)}function Pk(t,e){1&t&&(Oo(0,"span"),pa(1,"Upload"),Do())}function Fk(t,e){if(1&t){const t=Fo();Oo(0,"div",2),Oo(1,"form",6),Oo(2,"mat-form-field",7),Oo(3,"mat-label"),pa(4,"Color Key"),Do(),Ro(5,"input",8),Co(6,Ok,2,0,"mat-error",9),Do(),Oo(7,"mat-form-field",7),Oo(8,"mat-label"),pa(9,"Color Value"),Do(),Ro(10,"input",10),Co(11,Dk,2,0,"mat-error",9),Do(),Oo(12,"div",11),Oo(13,"input",12,13),Vo("change",(function(e){return tn(t),zo().onFileChanged(e)})),Do(),Oo(15,"button",14),Vo("click",(function(){return tn(t),Eo(14).click()})),pa(16,"Select File"),Do(),Oo(17,"mat-form-field",15),Oo(18,"mat-label"),pa(19,"Image Name"),Do(),Ro(20,"input",16),Co(21,Rk,2,0,"mat-error",9),Do(),Do(),Oo(22,"button",17),Vo("click",(function(){return tn(t),zo().onUpload()})),Co(23,Nk,1,0,"mat-spinner",18),Co(24,Pk,2,0,"span",9),Do(),Oo(25,"div",19),Oo(26,"button",20),Vo("click",(function(){return tn(t),zo().saveColorVariant()})),pa(27,"Save"),Do(),Oo(28,"button",21),Vo("click",(function(){return tn(t),zo().dialogRef.close(void 0)})),pa(29,"Cancel"),Do(),Do(),Do(),Do()}if(2&t){const t=zo();gr(1),Ao("formGroup",t.colorVariantForm),gr(5),Ao("ngIf",t.f.colorKey.hasError("required")),gr(5),Ao("ngIf",t.f.colorValue.hasError("required")),gr(10),Ao("ngIf",t.f.imgName.hasError("required")),gr(1),Ao("disabled",void 0===t.selectedFile),gr(1),Ao("ngIf",!0===t.isUploading),gr(1),Ao("ngIf",!1===t.isUploading)}}let Mk=(()=>{class t{constructor(t,e,n,i){this.dialogRef=t,this.siteService=e,this.afStorage=n,this.isUploading=!1,console.log("info",i),this.dialogData=i}ngOnInit(){console.log("data",this.dialogData),this.dialogData.infoType===KE.CLR_VARIANT_EDIT&&this.setupClrVariantForm()}setupClrVariantForm(){this.colorVariantForm=new sE({colorKey:new rE(null,[mC.required]),colorValue:new rE(null,[mC.required]),imgName:new rE(null,[mC.required]),imgUrl:new rE(null,[mC.required])});const t={};["colorKey","colorValue","imgName","imgUrl"].forEach(e=>t[e]=this.dialogData.formData[e]),this.colorVariantForm.setValue(t)}saveColorVariant(){const t=this.colorVariantForm.getRawValue();Object.assign(this.dialogData.formData,t),this.dialogRef.close(t)}onUpload(){if(void 0===this.selectedFile)return void this.siteService.showInfoDialog({message:"Please select a file to upload"});const t=this.colorVariantForm.getRawValue().imgName,e=`${this.siteService.getImageUrlPrefix(this.dialogData.product)}/${t}`,n=this.afStorage.upload(e,this.selectedFile);this.isUploading=!0,console.log("fileloca",e),n.then(()=>{console.log("werew");const t=this.afStorage.ref(e);this.isUploading=!1,t.getDownloadURL().subscribe(t=>{this.f.imgUrl.setValue(t),this.selectedFile=void 0,console.log("url",t)})},t=>{console.error("reached in error",t)}),n.percentageChanges().subscribe(t=>{console.log("progresss",t)})}onFileChanged(t){t.target.files[0]&&(t.target.files[0].size/1048576>3?this.siteService.showInfoDialog({message:"File size cannot be more than 3MB"}):(this.selectedFile=t.target.files[0],this.colorVariantForm.controls.imgName.setValue(this.selectedFile.name)))}get f(){return this.colorVariantForm.controls}}return t.\u0275fac=function(e){return new(e||t)(So(nx),So(Lk),So(mS),So(ix))},t.\u0275cmp=ye({type:t,selectors:[["app-info-popup"]],decls:4,vars:3,consts:[[1,"app-popup"],["class","app-popup-content text-center",4,"ngIf"],[1,"app-popup-content","text-center"],["aaa","","d","g",1,"mb-4"],["mat-raised-button","","color","accent",1,"mr-3",3,"click"],[1,"mb-4"],["aaa","","d","g",1,"edit",3,"formGroup"],["aaa","","w","150px",1,"item"],["matInput","","type","text","formControlName","colorKey"],[4,"ngIf"],["matInput","","type","text","formControlName","colorValue"],["aaa","","d","g","gac","mxc","gaf","col","cg","10px",1,"upload"],["type","file",2,"display","none",3,"change"],["fileInput",""],["aaa","","mat-flat-button","","color","primary","as","c",3,"click"],["aaa","","w","200px"],["matInput","","type","text","formControlName","imgName"],["aaa","","mat-flat-button","","color","primary","as","c",1,"upload",3,"disabled","click"],["color","accent","aaa","","diameter","20","w","50px",4,"ngIf"],["aaa","","d","g","gtc","mxc mxc","cg","10px","mt","10px",1,"actions"],["aaa","","mat-flat-button","","color","accent","as","c",3,"click"],["aaa","","mat-button","","as","c",3,"click"],["color","accent","aaa","","diameter","20","w","50px"]],template:function(t,e){1&t&&(Oo(0,"div",0),Co(1,Ak,10,0,"div",1),Co(2,Tk,6,1,"div",1),Co(3,Fk,30,7,"div",1),Do()),2&t&&(gr(1),Ao("ngIf","account-created-email-pswd"===e.dialogData.infoType),gr(1),Ao("ngIf","general"===e.dialogData.infoType),gr(1),Ao("ngIf","colorVariantEdit"===e.dialogData.infoType))},directives:[gh,xS,bx,vE,uC,CE,nk,$S,gk,nC,cC,OE,BS,kk],styles:[".app-popup-content[_ngcontent-%COMP%]{max-width:500px}button[_ngcontent-%COMP%]{width:100px!important}button.upload[_ngcontent-%COMP%]{width:100%!important}"]}),t})(),Lk=(()=>{class t{constructor(t,e){this.dialog=t,this.state=e}confirmationPopup(t){let e;return e=this.dialog.open(Cx),e.componentInstance.message=t,e.afterClosed()}showInfoDialog(t,e){t.infoType=void 0===t.infoType?"general":t.infoType,this.dialog.open(Mk,{data:t}).afterClosed().subscribe(t=>{void 0!==e&&e(t)})}getGalleryImgByPrefix(t){return`${KE.G_STORAGE_PREFIX}/${t}`}getGalleryImgUrl(t,e){return e.imgUrl}getImageUrlPrefix(t){return`${t.categories[0].replace(/\>/g,"/")}`}getUserLocation(){return`/users/${this.state.appUser.__fireUser.uid}`}getShippingAddressText(t){const e=Kx.find(e=>e.abbreviation===t.state).name;return`${t.fName} ${t.lName},${t.line1},${void 0===t.line2?"":t.line2},${t.city},${e},${t.country}`.replace(/,\s*,/,",")}setScreenSize(){this.state.layout.currentSize=window.innerWidth;const t=window.innerWidth;this.state.layout.applicableScreenSizes=[],this.state.layout.applicableScreenSizes.push(zx.XS),t>=576&&this.state.layout.applicableScreenSizes.push(zx.SM),t>=768&&this.state.layout.applicableScreenSizes.push(zx.MD),t>=992&&this.state.layout.applicableScreenSizes.push(zx.LG),t>=1200&&this.state.layout.applicableScreenSizes.push(zx.XL)}closeModalPopup(t){$(`.modal-popup[modal-id=${t}]`).hide(),$(`.overlay-backdrop[modal-id=${t}]`).hide()}getPopupData(t){return $(`.modal-popup[${t}]`).data("data")}openModalPopup(t,e={}){$(`.modal-popup[modal-id=${t}]`).appendTo("body").show(),$(`<div class="overlay-backdrop" modal-id="${t}">`).appendTo("body").show()}getTaxonomy(t){let e=t.categories[0];const n=[];for(;;){const t=this.state.categories.find(t=>t.baseId===e);if(void 0===t)break;n.push(t),e=t.parentId}return n.reverse()}}return t.\u0275fac=function(e){return new(e||t)(Jt(ax),Jt(gS))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Vk=n("mrSG"),jk=n("iqUP");function Uk(t,e){return function(t,e=Mg){return new b(n=>{let i;return null!=e?e.schedule(()=>{i=t.onSnapshot(n)}):i=t.onSnapshot(n),function(){null!=i&&i()}})}(t,e)}function Bk(t,e){return Uk(t,e).pipe(L(t=>({payload:t,type:"query"})))}function qk(t,e){return Bk(t,e).pipe(L(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function zk(t,e,n){return Bk(t,n).pipe(L(t=>t.payload.docChanges()),yp((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),L(t=>t.map(t=>({type:t.type,payload:t}))))}function Hk(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Gk{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?qk(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,L(e=>e.filter(e=>t.indexOf(e.type)>-1)),qd(t=>t.length>0)):qk(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(yp((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Hk(t);return zk(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Bk(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,L(e=>e.payload.docs.map(e=>t.idField?Object.assign({},e.data(),{[t.idField]:e.id}):e.data())))}get(t){return B(this.query.get(t)).pipe(Jg(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Wk(this.ref.doc(t),this.afs)}}class Wk{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:i,query:r}=eI(n,e);return new Gk(i,r,this.afs)}snapshotChanges(){return Uk(this.ref,this.afs.schedulers.outsideAngular).pipe(L(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(L(t=>t.payload.data()))}get(t){return B(this.ref.get(t)).pipe(Jg(this.afs.schedulers.insideAngular))}}class $k{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?qk(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,L(e=>e.filter(e=>t.indexOf(e.type)>-1)),qd(t=>t.length>0)):qk(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(yp((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Hk(t);return zk(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return Bk(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,L(t=>t.payload.docs.map(t=>t.data())))}get(t){return B(this.query.get(t)).pipe(Jg(this.afs.schedulers.insideAngular))}}const Kk=new qt("angularfire2.enableFirestorePersistence"),Yk=new qt("angularfire2.firestore.persistenceSettings"),Qk=Kk,Xk=Yk,Jk=new qt("angularfire2.firestore.settings"),Zk=parseInt(oS.a.SDK_VERSION.split(".")[0]),tI=Zk<5||5==Zk&&parseInt(oS.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function eI(t,e=(t=>t)){return{query:e(t),ref:t}}let nI=(()=>{let t=class{constructor(t,e,n,i,r,s,o){this.schedulers=new nS(s),this.keepUnstableUntilFirst=iS(this.schedulers,r),this.firestore=s.runOutsideAngular(()=>{const n=hS(t,s,e).firestore();return n.settings(i||tI),n}),this.persistenceEnabled$=n&&!Jh(r)?s.runOutsideAngular(()=>{try{return B(this.firestore.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(t){return Dd(!1)}}):Dd(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:i,query:r}=eI(n,e);return new Gk(i,r,this)}collectionGroup(t,e){if(Zk<6)throw"collection group queries require Firebase JS SDK >= 6.0";const n=e||(t=>t),i=this.firestore.collectionGroup(t);return new $k(n(i),this)}doc(t){let e;return e="string"==typeof t?this.firestore.doc(t):t,new Wk(e,this)}createId(){return this.firestore.collection("_").doc().id}};return t.\u0275fac=function(e){return new(e||t)(Jt(aS),Jt(lS,8),Jt(Qk,8),Jt(Jk,8),Jt(fc),Jt(Oc),Jt(Xk,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),iI=(()=>{class t{constructor(t,e,n,i){this.state=t,this.firestore=e,this.firebase=n,this.utilService=i}createUser(){return this.firebase.firestore().collection("users").add({name:"anoop",nameToSearch:"anoop",surname:"isaac",age:10})}getDocument(t){return Object(Vk.__awaiter)(this,void 0,void 0,(function*(){const e=this.firebase.firestore().doc(t);return(yield e.get()).data()}))}getUserPurchaseData(t){return Object(Vk.__awaiter)(this,void 0,void 0,(function*(){const e=this.firebase.firestore().doc(`/users/${t}`),n=yield e.get();return void 0===n.data()?void 0:n.data().purchase}))}getSettings(){return this.firestore.doc("").ref.get()}updateUser(t,e,n=!0){return this.firestore.collection("/users").doc(t).set(e,{merge:!0}).then(t=>{console.log("insert comment success")}).catch(t=>{console.error("error",t)})}insertContactUs(t){const e=this.utilService.rawCopy(t),n=this.utilService.getUniqueId();return this.firestore.collection("/contactus").doc(n+"|"+t.email).set(e).then(t=>{}).catch(t=>{console.error("error",t)})}getCollection(t){return Object(Vk.__awaiter)(this,void 0,void 0,(function*(){const e=[],n=this.firestore.collection(t);return(yield n.ref.get()).docs.forEach(t=>{const n=t.data();e.push(n)}),e}))}updateObject(t,e,n=!0){return Object(Vk.__awaiter)(this,void 0,void 0,(function*(){e=this.utilService.rawCopy(e);try{return yield this.firestore.doc(t).set(e,{merge:n})}catch(i){throw console.error("error",i,t),i}}))}deleteDocument(t){return Object(Vk.__awaiter)(this,void 0,void 0,(function*(){console.log("docloc",t);try{return yield this.firestore.doc(t).delete()}catch(e){throw console.error("error",e,t),e}}))}deleteMapField(t,e){console.log("fireloc:",t,"update",e),this.firestore.doc(t).update({[e]:jk.firestore.FieldValue.delete()}).then(t=>{console.log("success",t)}).catch(n=>{console.error("error",n,t,e)})}signInAnonymous(){return Object(Vk.__awaiter)(this,void 0,void 0,(function*(){try{return(yield jk.auth().signInAnonymously()).user}catch(t){throw console.error("reached in f error",t),t}}))}}return t.\u0275fac=function(e){return new(e||t)(Jt(gS),Jt(nI),Jt(cS),Jt(vS))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),rI=(()=>{class t{constructor(t,e){this.state=t,this.utilService=e}getShippingByCartLine(t){const e=this.state.shippingOptions.find(e=>e.id===t.shipOptionId);return 1===t.qty?e.initCost:t.qty>1?this.utilService.getRoundedValue(e.initCost+e.increment*(t.qty-1)):0}getShippingTotal(){return this.state.cart.cartLines.reduce((t,e)=>t+this.getShippingByCartLine(e),0)}}return t.\u0275fac=function(e){return new(e||t)(Jt(gS),Jt(vS))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),sI=(()=>{class t{constructor(t,e,n,i,r){this.state=t,this.fireService=e,this.siteService=n,this.utilService=i,this.shipService=r}getProdPrimaryImage(t){return t.colorVariants[0].imgUrl}getProdPrimaryPrice(t){return t.sizeVariants[0].price}getProductPrice(t){return t.__selectedSize.price}getLinePrice(t){return this.utilService.getRoundedValue(this.getProductPrice(t.productSku.__product)*t.qty)}isPresentInTheCart(t){var e,n;return void 0!==(null===(n=null===(e=this.state.cart)||void 0===e?void 0:e.cartLines)||void 0===n?void 0:n.find(e=>e.productSku.__product===t&&e.productSku.sizeKey===t.__selectedSize.sizeKey&&e.productSku.colorKey===t.__selectedColor.colorKey))}getProductSku(t){const e=t.__selectedColor,n=t.__selectedSize,i=new jx;return Object.assign(i,{__color:e,__sizeVariant:n,__product:t,colorKey:e.colorKey,sizeKey:n.sizeKey,productId:t.id}),i}getCartLinesTotal(){return this.state.cart.cartLines.reduce((t,e)=>t+this.getLinePrice(e),0)}getShippingOption(t){return this.state.shippingOptions.find(e=>e.id===t)}getProdImage(t){return t.productSku.__color.imgUrl}addToCart(t){const e=this.getProductSku(t),n=new Ax;n.shipOptionId=t.avialableShippingOptions[0],n.productSku=e,n.qty=1,this.state.cart.cartLines.push(n);const i=this.siteService.getUserLocation();this.fireService.updateObject(`${i}`,{cart:{cartLineMap:{[n.baseId]:n}}})}deleteCartLine(t){let e;this.siteService.confirmationPopup("Are you sure you want to delete this product?").subscribe(t=>{e=t},t=>console.log(t),()=>{console.log("res",e),"yes"===e&&this.removeProductFromCart(t)})}updateCart(t){const e=this.siteService.getUserLocation(),n=this.utilService.rawCopy(t);n.cartLineMap={},n.cartLines.forEach(t=>{n.cartLineMap[t.baseId]=t}),delete n.cartLines,this.fireService.updateObject(`${e}`,{cart:n})}removeProductFromCart(t){this.state.cart.cartLines=this.state.cart.cartLines.filter(e=>e!==t);const e=this.siteService.getUserLocation();this.fireService.deleteMapField(`${e}`,`cart.cartLineMap.${t.baseId}`)}updateCartQuantity(t){const e=this.siteService.getUserLocation();this.fireService.updateObject(`${e}`,{cart:{cartLineMap:{[t.baseId]:{qty:t.qty}}}})}createOrder(t){const e=this.state.cart,n=e.cartLines.map(t=>{const e=t.productSku.__product,n=new Tx;return n.qty=t.qty,n.productSku=t.productSku,n.price=t.productSku.__product.__selectedSize.price,n.status=Nx.CREATED,n.product={description:e.description,title:e.title,id:e.id,imgUrl:e.__selectedColor.imgUrl},n.shippingOption=this.state.shippingOptions.find(e=>e.id=t.shipOptionId),n.shippingCost=this.shipService.getShippingByCartLine(t),n}),i=new Ox(t);i.email=e.contactEmail,i.orderLines=n,i.orderStatus=Rx.CREATED,i.shippingAddress=e.shippingAddress,i.shippingTotal=this.shipService.getShippingTotal(),i.checkoutStatus=e.checkoutStatus;const r=this.utilService.rawCopy(i);return this.addOrder(r),this.state.currOrder=i,i}addOrder(t){const e=this.siteService.getUserLocation();this.fireService.updateObject(`${e}/orderLines/${t.baseId}`,t)}getOrder(t){return Object(Vk.__awaiter)(this,void 0,void 0,(function*(){const e=this.siteService.getUserLocation();return yield this.fireService.getDocument(`${e}/orderLines/${t}`)}))}deleteCart(){this.state.cart=new Ix;const t=this.siteService.getUserLocation();this.fireService.deleteMapField(`${t}`,"cart")}}return t.\u0275fac=function(e){return new(e||t)(Jt(gS),Jt(iI),Jt(Lk),Jt(vS),Jt(rI))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const oI=["*"];class aI{constructor(t){this._elementRef=t}}const lI=ww(_w(bw(vw(aI)),"primary"),-1);let cI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["mat-chip-avatar"],["","matChipAvatar",""]],hostAttrs:[1,"mat-chip-avatar"]}),t})(),uI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["mat-chip-trailing-icon"],["","matChipTrailingIcon",""]],hostAttrs:[1,"mat-chip-trailing-icon"]}),t})(),hI=(()=>{class t extends lI{constructor(t,e,n,i,r,s,o,a){super(t),this._elementRef=t,this._ngZone=e,this._changeDetectorRef=s,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._selected=!1,this._selectable=!0,this._removable=!0,this._onFocus=new S,this._onBlur=new S,this.selectionChange=new jl,this.destroyed=new jl,this.removed=new jl,this._addHostClassName(),this._chipRippleTarget=(a||document).createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new Dw(this,e,this._chipRippleTarget,n),this._chipRipple.setupTriggerEvents(t),this.rippleConfig=i||{},this._animationsDisabled="NoopAnimations"===r,this.tabIndex=null!=o&&parseInt(o)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(t){const e=mg(t);e!==this._selected&&(this._selected=e,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(t){this._value=t}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=mg(t)}get removable(){return this._removable}set removable(t){this._removable=mg(t)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const t=this._elementRef.nativeElement;t.hasAttribute("mat-basic-chip")||"mat-basic-chip"===t.tagName.toLowerCase()?t.classList.add("mat-basic-chip"):t.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._markForCheck())}toggleSelected(t=!1){return this._selected=!this.selected,this._dispatchSelectionChange(t),this._markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(t){this.disabled?t.preventDefault():t.stopPropagation()}_handleKeydown(t){if(!this.disabled)switch(t.keyCode){case 46:case 8:this.remove(),t.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}_blur(){this._ngZone.onStable.asObservable().pipe(op(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(t=!1){this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})}_markForCheck(){this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(Oc),So(iy),So(Rw,8),So(aw,8),So(Hs),ko("tabindex"),So(cu,8))},t.\u0275dir=Ee({type:t,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(t,e,n){var i;1&t&&(tc(n,cI,!0),tc(n,uI,!0),tc(n,dI,!0)),2&t&&(Ql(i=ic())&&(e.avatar=i.first),Ql(i=ic())&&(e.trailingIcon=i.first),Ql(i=ic())&&(e.removeIcon=i.first))},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(t,e){1&t&&Vo("click",(function(t){return e._handleClick(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("focus",(function(){return e.focus()}))("blur",(function(){return e._blur()})),2&t&&(wo("tabindex",e.disabled?null:e.tabIndex)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString())("aria-selected",e.ariaSelected),na("mat-chip-selected",e.selected)("mat-chip-with-avatar",e.avatar)("mat-chip-with-trailing-icon",e.trailingIcon||e.removeIcon)("mat-chip-disabled",e.disabled)("_mat-animation-noopable",e._animationsDisabled))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[_a]}),t})(),dI=(()=>{class t{constructor(t,e){this._parentChip=t,e&&"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}_handleClick(t){const e=this._parentChip;e.removable&&!e.disabled&&e.remove(),t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(So(hI),So(ja))},t.\u0275dir=Ee({type:t,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(t,e){1&t&&Vo("click",(function(t){return e._handleClick(t)}))}}),t})();const pI=new qt("mat-chips-default-options");class fI{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const mI=xw(fI);let gI=0;class yI{constructor(t,e){this.source=t,this.value=e}}let vI=(()=>{class t extends mI{constructor(t,e,n,i,r,s,o){super(s,i,r,o),this._elementRef=t,this._changeDetectorRef=e,this._dir=n,this.ngControl=o,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new S,this._uid=`mat-chip-list-${gI++}`,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(t,e)=>t===e,this._required=!1,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new jl,this.valueChange=new jl,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(t){this._multiple=mg(t),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required}set required(t){this._required=mg(t),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&0===this.chips.length}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=mg(t),this._syncChipsState()}get selectable(){return this._selectable}set selectable(t){this._selectable=mg(t),this.chips&&this.chips.forEach(t=>t.chipListSelectable=this._selectable)}set tabIndex(t){this._userTabIndex=t,this._tabIndex=t}get chipSelectionChanges(){return Y(...this.chips.map(t=>t.selectionChange))}get chipFocusChanges(){return Y(...this.chips.map(t=>t._onFocus))}get chipBlurChanges(){return Y(...this.chips.map(t=>t._onBlur))}get chipRemoveChanges(){return Y(...this.chips.map(t=>t.destroyed))}ngAfterContentInit(){this._keyManager=new Cv(this.chips).withWrap().withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(qg(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.tabOut.pipe(qg(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(gp(null),qg(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new my(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(t){this._chipInput=t}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}writeValue(t){this.chips&&this._setSelectionByValue(t,!1)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this.stateChanges.next()}onContainerClick(t){this._originatesFromChip(t)||this.focus()}focus(t){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(t),this.stateChanges.next()))}_focusInput(t){this._chipInput&&this._chipInput.focus(t)}_keydown(t){const e=t.target;8===t.keyCode&&this._isInputEmpty(e)?(this._keyManager.setLastItemActive(),t.preventDefault()):e&&e.classList.contains("mat-chip")&&(36===t.keyCode?(this._keyManager.setFirstItemActive(),t.preventDefault()):35===t.keyCode?(this._keyManager.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const t=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(t)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(t){return t>=0&&t<this.chips.length}_isInputEmpty(t){return!(!t||"input"!==t.nodeName.toLowerCase()||t.value)}_setSelectionByValue(t,e=!0){if(this._clearSelection(),this.chips.forEach(t=>t.deselect()),Array.isArray(t))t.forEach(t=>this._selectValue(t,e)),this._sortValues();else{const n=this._selectValue(t,e);n&&e&&this._keyManager.setActiveItem(n)}}_selectValue(t,e=!0){const n=this.chips.find(e=>null!=e.value&&this._compareWith(e.value,t));return n&&(e?n.selectViaInteraction():n.select(),this._selectionModel.select(n)),n}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(t){this._selectionModel.clear(),this.chips.forEach(e=>{e!==t&&e.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(t=>{t.selected&&this._selectionModel.select(t)}),this.stateChanges.next())}_propagateChanges(t){let e=null;e=Array.isArray(this.selected)?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.change.emit(new yI(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(t=>{t.source.selected?this._selectionModel.select(t.source):this._selectionModel.deselect(t.source),this.multiple||this.chips.forEach(t=>{!this._selectionModel.isSelected(t)&&t.selected&&t.deselect()}),t.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(t=>{let e=this.chips.toArray().indexOf(t.chip);this._isValidIndex(e)&&this._keyManager.updateActiveItem(e),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(t=>{const e=t.chip,n=this.chips.toArray().indexOf(t.chip);this._isValidIndex(n)&&e._hasFocus&&(this._lastDestroyedChipIndex=n)})}_originatesFromChip(t){let e=t.target;for(;e&&e!==this._elementRef.nativeElement;){if(e.classList.contains("mat-chip"))return!0;e=e.parentElement}return!1}_hasFocusedChip(){return this.chips.some(t=>t._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(t=>{t.disabled=this._disabled,t._chipListMultiple=this.multiple})}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(Hs),So(dy,8),So(cE,8),So(CE,8),So(Cw),So(aC,10))},t.\u0275cmp=ye({type:t,selectors:[["mat-chip-list"]],contentQueries:function(t,e,n){var i;1&t&&tc(n,hI,!0),2&t&&Ql(i=ic())&&(e.chips=i)},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(t,e){1&t&&Vo("focus",(function(){return e.focus()}))("blur",(function(){return e._blur()}))("keydown",(function(t){return e._keydown(t)})),2&t&&(ga("id",e._uid),wo("tabindex",e.disabled?null:e._tabIndex)("aria-describedby",e._ariaDescribedby||null)("aria-required",e.role?e.required:null)("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-multiselectable",e.multiple)("role",e.role)("aria-orientation",e.ariaOrientation),na("mat-chip-list-disabled",e.disabled)("mat-chip-list-invalid",e.errorState)("mat-chip-list-required",e.required))},inputs:{ariaOrientation:["aria-orientation","ariaOrientation"],multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",selectable:"selectable",tabIndex:"tabIndex",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[Fa([{provide:zS,useExisting:t}]),_a],ngContentSelectors:oI,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(t,e){1&t&&(Go(),Oo(0,"div",0),Wo(1),Do())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),t})(),_I=0,bI=(()=>{class t{constructor(t,e){this._elementRef=t,this._defaultOptions=e,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new jl,this.placeholder="",this.id=`mat-chip-list-input-${_I++}`,this._disabled=!1,this._inputElement=this._elementRef.nativeElement}set chipList(t){t&&(this._chipList=t,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(t){this._addOnBlur=mg(t)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(t){this._disabled=mg(t)}get empty(){return!this._inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}_keydown(t){t&&9===t.keyCode&&!Ty(t,"shiftKey")&&this._chipList._allowFocusEscape(),this._emitChipEnd(t)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._chipList.stateChanges.next()}_emitChipEnd(t){!this._inputElement.value&&t&&this._chipList._keydown(t),t&&!this._isSeparatorKey(t)||(this.chipEnd.emit({input:this._inputElement,value:this._inputElement.value}),t&&t.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(t){this._inputElement.focus(t)}_isSeparatorKey(t){if(Ty(t))return!1;const e=this.separatorKeyCodes,n=t.keyCode;return Array.isArray(e)?e.indexOf(n)>-1:e.has(n)}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(pI))},t.\u0275dir=Ee({type:t,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(t,e){1&t&&Vo("keydown",(function(t){return e._keydown(t)}))("blur",(function(){return e._blur()}))("focus",(function(){return e._focus()}))("input",(function(){return e._onInput()})),2&t&&(ga("id",e.id),wo("disabled",e.disabled||null)("placeholder",e.placeholder||null)("aria-invalid",e._chipList&&e._chipList.ngControl?e._chipList.ngControl.invalid:null)("aria-required",e._chipList&&e._chipList.required||null))},inputs:{separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[Sa]}),t})();const wI={separatorKeyCodes:[13]};let xI=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},providers:[Cw,{provide:pI,useValue:wI}]}),t})();function CI(t,e){if(1&t){const t=Fo();Oo(0,"mat-chip",11),Vo("click",(function(){tn(t);const n=e.$implicit,i=zo();return i.selectSize(i.product,n)})),Oo(1,"span"),pa(2),Do(),Do()}if(2&t){const t=e.$implicit;Ao("selected",zo().product.__selectedSize===t),gr(2),fa(t.sizeKey)}}function EI(t,e){if(1&t){const t=Fo();Oo(0,"div",12),Vo("click",(function(){tn(t);const n=e.$implicit,i=zo();return i.selectColor(i.product,n)})),Ro(1,"div",13),Do()}if(2&t){const t=e.$implicit;na("selected",zo().product.__selectedColor===t),gr(1),ea("background-color",t.colorValue)}}function SI(t,e){if(1&t){const t=Fo();Oo(0,"button",14),Vo("click",(function(){return tn(t),zo().addToCart()})),pa(1,"Add To Cart"),Do()}}const kI=function(){return["/cart"]};function II(t,e){1&t&&(Oo(0,"button",15),pa(1,"View Cart"),Do()),2&t&&Ao("routerLink",Ol(1,kI))}let AI=(()=>{class t{constructor(t,e,n){this.siteService=t,this.cartService=e,this.router=n}ngOnInit(){}getProdImage(t){return this.cartService.getProdPrimaryImage(t)}getPrice(t){return this.cartService.getProductPrice(t)}isPresentInTheCart(t){return this.cartService.isPresentInTheCart(t)}getSizes(t){return Object.values(t.sizeVariants)}getColors(t){return[t.colorVariants[0],t.colorVariants[1],t.colorVariants[2]]}selectSize(t,e){t.__selectedSize=e}selectColor(t,e){t.__selectedColor=e}addToCart(){this.cartService.addToCart(this.product)}selectProduct(t){this.router.navigate([`/product-detail/${t.id}`])}}return t.\u0275fac=function(e){return new(e||t)(So(Lk),So(sI),So(zm))},t.\u0275cmp=ye({type:t,selectors:[["app-product-select"]],inputs:{product:"product"},decls:15,vars:10,consts:[["aaa","","d","grid","gar","mxc","p","20px","rg","10px","brra","4px","w","100%",1,"product-select","bb","box-shadow-md","mat-card"],["href","javascript:void(0)"],["alt","Photo","aaa","","w","100%","bbb","",3,"src","click"],["aaa","","m","0px"],[1,"accent-color"],["aria-label","Size selection",1,"size-selection"],["class","same","color","accent",3,"selected","click",4,"ngFor","ngForOf"],["aaa","","d","grid","gtc","repeat(3,30px)","pi","center","gtr","35px","cg","5px",1,"apparel-colors","bb"],["class","color","aaa","","d","g","brra","50%","w","28px","h","28px",3,"selected","click",4,"ngFor","ngForOf"],["mat-raised-button","","class","button-grey",3,"click",4,"ngIf"],["mat-raised-button","","class","button-grey",3,"routerLink",4,"ngIf"],["color","accent",1,"same",3,"selected","click"],["aaa","","d","g","brra","50%","w","28px","h","28px",1,"color",3,"click"],["aaa","","ps","center center","brra","50%","w","22px","h","22px",1,"inner-color","bb"],["mat-raised-button","",1,"button-grey",3,"click"],["mat-raised-button","",1,"button-grey",3,"routerLink"]],template:function(t,e){1&t&&(Oo(0,"div",0),Oo(1,"a",1),Oo(2,"img",2),Vo("click",(function(){return e.selectProduct(e.product)})),Do(),Do(),Oo(3,"h4",3),Oo(4,"a",1),pa(5),Do(),Do(),Oo(6,"span",4),pa(7),Pl(8,"currency"),Do(),Oo(9,"mat-chip-list",5),Co(10,CI,3,2,"mat-chip",6),Do(),Oo(11,"div",7),Co(12,EI,2,4,"div",8),Do(),Co(13,SI,2,0,"button",9),Co(14,II,2,2,"button",10),Do()),2&t&&(gr(2),Ao("src",e.getProdImage(e.product),Ji),gr(3),ma(" ",null==e.product?null:e.product.title,""),gr(2),fa(Ml(8,7,e.getPrice(e.product),"USD")),gr(3),Ao("ngForOf",e.getSizes(e.product)),gr(2),Ao("ngForOf",e.getColors(e.product)),gr(1),Ao("ngIf",!e.isPresentInTheCart(e.product)),gr(1),Ao("ngIf",e.isPresentInTheCart(e.product)))},directives:[xS,vI,fh,gh,hI,bx,Hm],pipes:[Wh],styles:[".size-selection[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:10px}.apparel-colors[_ngcontent-%COMP%]   .color.selected[_ngcontent-%COMP%]{border:1px solid grey}"]}),t})();function TI(t,e){1&t&&Ro(0,"app-product-select",6),2&t&&Ao("product",e.$implicit)}const OI=function(){return["/product-list"]};let DI=(()=>{class t{constructor(t,e){this.siteService=t,this.state=e}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(So(Lk),So(gS))},t.\u0275cmp=ye({type:t,selectors:[["app-top-products"]],decls:9,vars:3,consts:[["aaa","","d","grid","gar","max-content","gaf","row","m","70px 50px",1,"container"],["aaa","","d","grid","gtc","max-content 1fr max-content","gta","'top . viewall'",1,"w-100"],["aaa","","ga","top",1,"block-title"],["aaa","","ga","viewall",3,"routerLink"],["aaa","","d","grid","gtc","repeat(4,20%)","cg","10px","jc","space-between",1,"top-products"],[3,"product",4,"ngFor","ngForOf"],[3,"product"]],template:function(t,e){1&t&&(Oo(0,"div",0),Oo(1,"div",1),Oo(2,"div",2),Oo(3,"h2"),pa(4,"Top Products"),Do(),Do(),Oo(5,"a",3),pa(6,"View All"),Do(),Do(),Oo(7,"div",4),Co(8,TI,1,1,"app-product-select",5),Do(),Do()),2&t&&(gr(5),Ao("routerLink",Ol(2,OI)),gr(3),Ao("ngForOf",e.state.products))},directives:[xS,Gm,fh,AI],styles:[""]}),t})(),RI=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ye({type:t,selectors:[["app-home"]],decls:1,vars:0,template:function(t,e){1&t&&Ro(0,"app-top-products")},directives:[DI],styles:[""]}),t})(),NI=(()=>{class t{constructor(t){this.state=t}ngOnInit(){console.log("compid",this.compId),window[this.compId]=this,this.state.components.push(this)}ngOnDestroy(){console.log("destoryed",this.compId),window[this.compId]=void 0,this.state.components=this.state.components.filter(t=>t!==this)}}return t.\u0275fac=function(e){return new(e||t)(So(gS))},t.\u0275cmp=ye({type:t,selectors:[["app-base"]],decls:2,vars:0,template:function(t,e){1&t&&(Oo(0,"p"),pa(1,"base works!"),Do())},styles:[""]}),t})();const PI=function(){return["/home"]};let FI=(()=>{class t extends NI{constructor(t,e){super(t),this.state=t,this.cd=e,this.compId="main"}ngOnInit(){super.ngOnInit()}showToolBar(){return null===window.location.href.match(/\/checkout/)}}return t.\u0275fac=function(e){return new(e||t)(So(gS),So(Hs))},t.\u0275cmp=ye({type:t,selectors:[["app-main"]],features:[_a],decls:14,vars:2,consts:[["color","primary",1,"header"],[1,"h-100"],["gdColumns","max-content 1fr max-content","gdAreas","logo . usertools",1,"contianer","acd","w-100"],["gdColumns","max-content max-content","gdArea","logo",1,"logo-site","acd"],["routerLinkActive","tab-active",3,"routerLink"],["src","/assets/images/fire.png","alt","",1,"spicy-logo"],[1,"spicy-logo-txt","mxc","txt"],["aaa","","d","grid","gac","max-content","gaf","column","pi","center","gg","10px","ga","usertools",1,"user-tool"],["aaa","","h","35px"]],template:function(t,e){1&t&&(Oo(0,"mat-toolbar",0),Oo(1,"mat-toolbar-row",1),Oo(2,"div",2),Oo(3,"div",3),Oo(4,"a",4),Oo(5,"span"),Ro(6,"img",5),Do(),Do(),Oo(7,"span",6),pa(8,"Spicy Purple"),Do(),Do(),Oo(9,"div",7),Ro(10,"app-header-cart"),Ro(11,"app-header-user-profile-drop-down",8),Do(),Do(),Do(),Do(),Ro(12,"app-page-size-detector"),Ro(13,"router-outlet")),2&t&&(gr(4),Ao("routerLink",Ol(1,PI)))},styles:["[_nghost-%COMP%]{height:100%;display:grid;grid-template-rows:-webkit-max-content 1fr;grid-template-rows:max-content 1fr}[_nghost-%COMP%]   mat-toolbar.header[_ngcontent-%COMP%]{height:80px}[_nghost-%COMP%]   mat-toolbar.header[_ngcontent-%COMP%]   img.spicy-logo[_ngcontent-%COMP%]{height:50px}"]}),t})();function MI(t,e){1&t&&Ro(0,"app-cart-line",13),2&t&&Ao("cartLine",e.$implicit)}const LI=function(){return["/checkout/start"]};function VI(t,e){if(1&t&&(No(0),Oo(1,"div",2),Co(2,MI,1,1,"app-cart-line",3),Do(),Oo(3,"div",4),Oo(4,"div",5),Oo(5,"span",6),pa(6,"Subtotal"),Do(),Oo(7,"span",7),pa(8),Pl(9,"currency"),Do(),Do(),Oo(10,"div",8),Oo(11,"span",6),pa(12,"Shipping"),Do(),Oo(13,"span",7),pa(14),Pl(15,"currency"),Do(),Do(),Ro(16,"div",9),Oo(17,"div",8),Oo(18,"span",10),pa(19,"Shipping"),Do(),Oo(20,"span",11),pa(21),Pl(22,"currency"),Do(),Do(),Oo(23,"button",12),pa(24,"Checkout"),Do(),Do(),Po()),2&t){const t=zo();gr(2),Ao("ngForOf",t.state.cart.cartLines),gr(6),fa(Ml(9,5,t.getCartLinesTotal(),"USD")),gr(6),fa(Ml(15,8,t.getShippingTotal(),"USD")),gr(7),fa(Ml(22,11,t.getCartTotal(),"USD")),gr(2),Ao("routerLink",Ol(14,LI))}}const jI=function(){return["/home"]};function UI(t,e){1&t&&(Oo(0,"div",14),Ro(1,"img",15),Oo(2,"span",16),pa(3,"Your shopping bag is empty"),Do(),Oo(4,"span",17),pa(5,"Go Shopping"),Do(),Do()),2&t&&(gr(4),Ao("routerLink",Ol(1,jI)))}let BI=(()=>{class t extends NI{constructor(t,e,n,i){super(t),this.state=t,this.cd=e,this.cartService=n,this.shippingService=i,this.compId="cart"}ngOnInit(){super.ngOnInit()}getCartLinesTotal(){return this.cartService.getCartLinesTotal()}getShippingTotal(){return this.shippingService.getShippingTotal()}getCartTotal(){return this.cartService.getCartLinesTotal()+this.shippingService.getShippingTotal()}}return t.\u0275fac=function(e){return new(e||t)(So(gS),So(Hs),So(sI),So(rI))},t.\u0275cmp=ye({type:t,selectors:[["app-cart"]],features:[_a],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["emptycart",""],["aaa","","w","80%","d","g",1,"cart-line-container","custom-shadow"],["aaa","","brb","--def-border",3,"cartLine",4,"ngFor","ngForOf"],["aaa","","d","g","w","80%","js","center","rg","20px","mt","20px",1,"cart-price-detail"],["w","40%","aaa","","d","g","gtc","3fr 1fr","js","e",1,"detail-line"],["aaa","","js","s",1,"txt"],["aaa","","js","e",1,"txt"],["aaa","","w","40%","d","g","gtc","3fr 1fr","js","e",1,"detail-line"],["aaa","","w","40%","h","1px","bgc","--border-color","m","5px 0px","js","e",1,"line"],["aaa","","fs","larger","js","s",1,"txt"],["aaa","","fs","larger","js","e",1,"txt"],["mat-raised-button","","aaa","","color","accent","w","200px","js","e","h","40px",3,"routerLink"],["aaa","","brb","--def-border",3,"cartLine"],["aaa","","ps","center center","d","g","pi","center center","rg","10px",1,"empty-cart"],["src","/assets/images/empty-cart.png","alt","Photo","aaa","","w","100px"],[1,"h5"],["fs","smaller","aaa","",1,"cp",3,"routerLink"]],template:function(t,e){if(1&t&&(Co(0,VI,25,15,"ng-container",0),Co(1,UI,6,2,"ng-template",null,1,ac)),2&t){const t=Eo(2);Ao("ngIf",(null==e.state.cart?null:e.state.cart.cartLines.length)>0)("ngIfElse",t)}},styles:["[_nghost-%COMP%]{display:grid;margin-top:70px;align-self:start}[_nghost-%COMP%]   .cart-line-container[_ngcontent-%COMP%]{display:grid;justify-self:center}"]}),t})(),qI=(()=>{class t{constructor(){}ngOnInit(){window.badgeimage=this}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ye({type:t,selectors:[["app-prod-image-with-qty-badge"]],inputs:{imgUrl:"imgUrl",qty:"qty"},decls:4,vars:2,consts:[["w","100%","alt","Photo","aaa","","ps","center","brra","4px",3,"src"],["aaa","","r","-7px","t","-5px","brra","50%","w","15px","h","15px","bgc","--badge-bg-color","clr","white","ga","holder","pos","abs","d","g",1,"badge"],["aaa","","fs","10px","lh","10px","ps","c","h","mxc"]],template:function(t,e){1&t&&(Ro(0,"img",0),Oo(1,"div",1),Oo(2,"span",2),pa(3),Do(),Do()),2&t&&(Ao("src",e.imgUrl,Ji),gr(3),fa(e.qty))},directives:[xS],styles:[""]}),t})();function zI(t,e){if(1&t&&(Oo(0,"div",12),Ro(1,"app-prod-image-with-qty-badge",13),Oo(2,"span",14),pa(3),Do(),Oo(4,"span",15),pa(5),Pl(6,"currency"),Do(),Oo(7,"span",16),pa(8),Pl(9,"currency"),Do(),Oo(10,"i",17),pa(11,"local_shipping"),Do(),Do()),2&t){const t=e.$implicit,n=zo(2);gr(1),Ao("imgUrl",n.getProdImage(t))("qty",t.qty),gr(2),fa(n.getProdTitle(t)),gr(2),fa(Ml(6,5,n.getLinePrice(t),"USD")),gr(3),fa(Ml(9,8,n.getShippingByLine(t),"USD"))}}function HI(t,e){if(1&t&&(Oo(0,"div",1),Oo(1,"div",2),Co(2,zI,12,11,"div",3),Do(),Oo(3,"div",4),Oo(4,"div",5),Oo(5,"span",6),pa(6,"Subtotal"),Do(),Oo(7,"span",7),pa(8),Pl(9,"currency"),Do(),Do(),Oo(10,"div",8),Oo(11,"span",6),pa(12,"Shipping"),Do(),Oo(13,"span",7),pa(14),Pl(15,"currency"),Do(),Do(),Do(),Oo(16,"div",9),Oo(17,"span",10),pa(18,"Total"),Do(),Oo(19,"span",11),pa(20),Pl(21,"currency"),Do(),Do(),Do()),2&t){const t=zo();gr(2),Ao("ngForOf",null==t.state.cart?null:t.state.cart.cartLines),gr(6),fa(Ml(9,4,t.getCartLinesTotal(),"USD")),gr(6),fa(Ml(15,7,t.getShippingTotal(),"USD")),gr(6),fa(Ml(21,10,t.getCartTotal(),"USD"))}}let GI=(()=>{class t extends NI{constructor(t,e,n,i,r){super(t),this.state=t,this.cartService=e,this.activeRoute=n,this.cd=i,this.shippingService=r,this.compId="checkout"}ngOnInit(){super.ngOnInit(),this.cart=this.state.cart,console.log("this.activeRoute.pathFromRoot",this.activeRoute.pathFromRoot)}getProdTitle(t){return t.productSku.__product.title}getLinePrice(t){return this.cartService.getLinePrice(t)}getProdImage(t){return this.cartService.getProdImage(t)}getCartLinesTotal(){return this.cartService.getCartLinesTotal()}getCartTotal(){return this.cartService.getCartLinesTotal()+this.shippingService.getShippingTotal()}getShippingByLine(t){return this.shippingService.getShippingByCartLine(t)}getShippingTotal(){return this.shippingService.getShippingTotal()}}return t.\u0275fac=function(e){return new(e||t)(So(gS),So(sI),So(Ff),So(Hs),So(rI))},t.\u0275cmp=ye({type:t,selectors:[["app-checkout"]],features:[_a],decls:2,vars:1,consts:[["class","cart-details","aaa","","d","grid","d","grid","gtr","mxc 80px 50px",4,"ngIf"],["aaa","","d","grid","d","grid","gtr","mxc 80px 50px",1,"cart-details"],["aaa","","d","g","h","mxc","rg","10px",1,"cart-lines"],["class","cart-detail bb","aaa","","d","grid","d","grid","gtc","1fr 4fr 1fr 1fr","d","g","gta","'img title price shipprice '",4,"ngFor","ngForOf"],["aaa","","d","g","fs","unset","rg","5px","mt","10px",1,"prices"],["aaa","","d","grid","gtc","1fr 1fr","as","e",1,"shipping-price"],["aaa","","js","s",1,"txt"],["aaa","","js","e",1,"txt"],["aaa","","d","grid","gtc","1fr 1fr","as","s",1,"product-price"],["d","g","d","grid","gtc","1fr 1fr","aaa","","mt","10px",1,"total"],["aaa","","fs","large","js","s","as","s",1,"txt"],["aaa","","fs","large","js","e","as","s",1,"txt"],["aaa","","d","grid","d","grid","gtc","1fr 4fr 1fr 1fr","d","g","gta","'img title price shipprice '",1,"cart-detail","bb"],["alt","Photo","aaa","","w","80%","bbb","","ps","center start","brra","4px","pos","rel","ga","img",3,"imgUrl","qty"],["aaa","","ps","center center","ga","title",1,""],["aaa","","ps","center center","ga","price",1,""],["aaa","","ps","center end","ga","shipprice",1,"txt","line-shipping-cost"],["aaa","","ga","shipprice","fs","15px","js","end",1,"material-icons","mr-1"]],template:function(t,e){1&t&&(Ro(0,"router-outlet"),Co(1,HI,22,13,"div",0)),2&t&&(gr(1),Ao("ngIf",!0===e.state.dataFetched))},directives:[Qm,gh,xS,fh,qI],pipes:[Wh],styles:["[_nghost-%COMP%]{display:grid;width:100%;grid-template-columns:1.5fr 1fr;grid-template-rows:1fr}[_nghost-%COMP%] > .cart-details[_ngcontent-%COMP%]{background:#fafafa;padding:70px 30px;border-left:1px solid #e1e1e1}[_nghost-%COMP%] > .cart-details[_ngcontent-%COMP%] > .cart-lines[_ngcontent-%COMP%], [_nghost-%COMP%] > .cart-details[_ngcontent-%COMP%] > .prices[_ngcontent-%COMP%]{border-bottom:var(--def-border)}"]}),t})(),WI=(()=>{let t=class{constructor(t,e,n,i){const r=iS(new nS(i),n);this.auth=i.runOutsideAngular(()=>hS(t,i,e).auth()),this.authState=new b(t=>i.runOutsideAngular(()=>this.auth.onAuthStateChanged(t))).pipe(r),this.user=new b(t=>i.runOutsideAngular(()=>this.auth.onIdTokenChanged(t))).pipe(r),this.idToken=this.user.pipe(dp(t=>t?B(t.getIdToken()):Dd(null))),this.idTokenResult=this.user.pipe(dp(t=>t?B(t.getIdTokenResult()):Dd(null)))}};return t.\u0275fac=function(e){return new(e||t)(Jt(aS),Jt(lS,8),Jt(fc),Jt(Oc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),$I=(()=>{class t{constructor(t,e){this.state=t,this.fireService=e}signInAnonymous(){return Object(Vk.__awaiter)(this,void 0,void 0,(function*(){return yield sS.auth().signInAnonymously()}))}getUserEmail(){return void 0!==this.state.appUser&&void 0!==this.state.appUser.__fireUser?this.state.appUser.__fireUser.email:""}isAnonymouseUser(){const t=this.state.appUser;return void 0===t||void 0===t.__fireUser||t.__fireUser.isAnonymous}updateUser(t){return Object(Vk.__awaiter)(this,void 0,void 0,(function*(){try{this.fireService.updateUser(t.__fireUser.uid,{fName:t.fName,lName:t.lName}),console.log("status",status)}catch(e){console.log("error",e)}}))}}return t.\u0275fac=function(e){return new(e||t)(Jt(gS),Jt(iI))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function KI(t,e){1&t&&(Oo(0,"mat-error"),pa(1," First name is required "),Do())}function YI(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Last name is required "),Do())}function QI(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Please enter a valid email "),Do())}function XI(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Please enter a valid password "),Do())}function JI(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Password must be at least 6 characters long "),Do())}function ZI(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Confirm password is required "),Do())}function tA(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Passwords must match "),Do())}function eA(t,e){1&t&&Ro(0,"mat-spinner",15)}function nA(t,e){1&t&&(Oo(0,"span",16),pa(1,"Submit"),Do())}const iA=function(){return["/signin"]};let rA=(()=>{class t{constructor(t,e,n,i,r,s,o){this.formBuilder=t,this.state=e,this.siteService=n,this.afAuth=i,this.fireService=r,this.userService=s,this.router=o,this.userBeingCreated=!1}ngOnInit(){this.newUserForm=this.formBuilder.group({email:new rE(null,[mC.required,mC.pattern(KE.EMAIL_PATTERN)]),fName:new rE(null,[mC.required]),lName:new rE(null,[mC.required]),password:new rE(null,[mC.required,mC.minLength(3)]),confirmPassword:new rE(null,[mC.required])},{validator:t=>{const e=t.controls.confirmPassword;e.errors&&!e.errors.mustMatch||e.setErrors(t.controls.password.value!==e.value?{mustMatch:!0}:null)}})}submit(){this.newUserForm.valid&&this.createUserWithEmailPassword()}get f(){return this.newUserForm.controls}createUserWithEmailPassword(){return Object(Vk.__awaiter)(this,void 0,void 0,(function*(){const t=this;this.userBeingCreated=!0;const e=this.state.appUser.__fireUser,n=this.newUserForm.controls;var i=sS.auth.EmailAuthProvider.credential(n.email.value,n.password.value);e.linkWithCredential(i).then(e=>Object(Vk.__awaiter)(this,void 0,void 0,(function*(){console.log("created success!!");const n=t.state.appUser;t.state.appUser.__fireUser=e.user;const i=t.newUserForm.controls;n.fName=i.fName.value,n.lName=i.lName.value,yield t.userService.updateUser(n),t.verifyEmail(e.user)}))).catch((function(e){var n=e.code;console.error("error",e.message,n),t.siteService.showInfoDialog("auth/invalid-email"===n?{message:"Please enter a valid email"}:"auth/email-already-in-use"===n?{message:"Email is already in use. If it belongs to you, please try 'forgot password' link below"}:{message:"An error occured while creating the account. Please try after some time"}),t.userBeingCreated=!1}))}))}verifyEmail(t){const e=this;t.sendEmailVerification({url:"https://localhost/tool/"}).then((function(){e.router.navigate(["/home"]),e.siteService.showInfoDialog({message:"",infoType:"account-created-email-pswd"}),e.userBeingCreated=!1})).catch((function(t){e.router.navigate(["/home"]),e.siteService.showInfoDialog({message:"An error occured while creating the verfication email.We will get in touch with you shortly. Meanwhile please continue shopping"}),e.userBeingCreated=!1,console.log("err",t)}))}handleVerifyEmail(t){this.afAuth.auth.applyActionCode("hvEiBafeGEshEt3x2OLvBp5TZj398JSBtZL5h1sfahAAAAFvdYf_xQ").then((function(t){console.log("verified",t)})).catch((function(t){console.log("error",t)}))}}return t.\u0275fac=function(e){return new(e||t)(So(GE),So(gS),So(Lk),So(WI),So(iI),So($I),So(zm))},t.\u0275cmp=ye({type:t,selectors:[["app-user-registration"]],decls:39,vars:14,consts:[["src","/assets/images/register.jpg","alt","","aaa","","ga","content","zi","1","width","350px","ps","s c","pos","rel","t","35px","l","-160px"],["aaa","","mt","70px","ps","s c","w","400px","h","mxc","p","16px","brra","4px","ga","content","zi","2","pos","rel","l","160px",1,"new-user","bb","mat-card"],["d","g","aaa","",3,"formGroup"],[1,"h4"],["aaa","","mt","10px"],["matInput","","formControlName","fName"],[4,"ngIf"],["matInput","","formControlName","lName"],["matInput","","formControlName","email"],["matInput","","type","password","formControlName","password"],["matInput","","type","password","formControlName","confirmPassword"],["mat-raised-button","","color","accent","fs","small","js","s","aaa","","p","0px 0px","d","g","h","mxc",1,"submit",3,"click"],["class","user-reg","color","primary","aaa","","diameter","20","w","50px",4,"ngIf"],["class","user-reg",4,"ngIf"],[1,"accent-color",3,"routerLink"],["color","primary","aaa","","diameter","20","w","50px",1,"user-reg"],[1,"user-reg"]],template:function(t,e){1&t&&(Ro(0,"img",0),Oo(1,"div",1),Oo(2,"form",2),Oo(3,"span",3),pa(4,"Enter your details"),Do(),Oo(5,"mat-form-field",4),Oo(6,"mat-label"),pa(7,"First Name"),Do(),Ro(8,"input",5),Co(9,KI,2,0,"mat-error",6),Do(),Oo(10,"mat-form-field"),Oo(11,"mat-label"),pa(12,"Last Name"),Do(),Ro(13,"input",7),Co(14,YI,2,0,"mat-error",6),Do(),Oo(15,"mat-form-field"),Oo(16,"mat-label"),pa(17,"Email"),Do(),Ro(18,"input",8),Co(19,QI,2,0,"mat-error",6),Do(),Oo(20,"mat-form-field"),Oo(21,"mat-label"),pa(22,"Enter Password"),Do(),Ro(23,"input",9),Co(24,XI,2,0,"mat-error",6),Co(25,JI,2,0,"mat-error",6),Do(),Oo(26,"mat-form-field"),Oo(27,"mat-label"),pa(28,"Retype Password"),Do(),Ro(29,"input",10),Co(30,ZI,2,0,"mat-error",6),Co(31,tA,2,0,"mat-error",6),Do(),Oo(32,"button",11),Vo("click",(function(){return e.submit()})),Co(33,eA,1,0,"mat-spinner",12),Co(34,nA,2,0,"span",13),Do(),Oo(35,"div"),pa(36," Already have account? then "),Oo(37,"a",14),pa(38,"Sign In"),Do(),Do(),Do(),Do()),2&t&&(gr(2),Ao("formGroup",e.newUserForm),gr(7),Ao("ngIf",e.f.fName.hasError("required")),gr(5),Ao("ngIf",e.f.lName.hasError("required")),gr(5),Ao("ngIf",e.f.email.hasError("required")||e.f.email.hasError("pattern")),gr(5),Ao("ngIf",e.f.password.hasError("required")),gr(1),Ao("ngIf",e.f.password.hasError("minlength")),gr(5),Ao("ngIf",e.f.confirmPassword.hasError("required")),gr(1),Ao("ngIf",e.f.confirmPassword.hasError("mustMatch")),gr(1),na("user-being-created",e.userBeingCreated),gr(1),Ao("ngIf",!0===e.userBeingCreated),gr(1),Ao("ngIf",!1===e.userBeingCreated),gr(3),Ao("routerLink",Ol(13,iA)))},directives:[xS,vE,uC,CE,nk,$S,gk,nC,cC,OE,gh,bx,Gm,BS,kk],styles:['[_nghost-%COMP%]{display:grid;grid-template-areas:"content"}[_nghost-%COMP%]   .submit.user-being-created[_ngcontent-%COMP%]{pointer-events:none}']}),t})();function sA(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Email is required "),Do())}function oA(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Password is required "),Do())}function aA(t,e){1&t&&(Oo(0,"mat-error",15),pa(1," Login Invalid: Invalid username or password. "),Do())}function lA(t,e){1&t&&Ro(0,"mat-spinner",16)}function cA(t,e){1&t&&(Oo(0,"span",17),pa(1,"Sign In"),Do())}const uA=function(){return["/forgotpswd"]},hA=function(){return["/userreg"]};let dA=(()=>{class t{constructor(t,e,n,i,r,s,o){this.formBuilder=t,this.state=e,this.siteService=n,this.afAuth=i,this.fireService=r,this.userService=s,this.router=o,this.isSigningIn=!1,this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",this.loginError=!1}ngOnInit(){this.signInForm=this.formBuilder.group({email:new rE(null,[mC.required,mC.pattern(this.emailPattern)]),password:new rE(null,[mC.required,mC.minLength(3)])})}submit(){this.signInForm.valid&&this.signInWithUsernamePassword()}get f(){return this.signInForm.controls}signInWithUsernamePassword(){this.loginError=!1;const t=this;this.isSigningIn=!0;const e=this.signInForm.controls.email.value,n=this.signInForm.controls.password.value;this.afAuth.auth.signInWithEmailAndPassword(e,n).then(e=>{t.isSigningIn=!1,t.router.navigate(["/home"]),t.state.appUser.__fireUser=e.user,console.log("sing success")}).catch(i=>{console.error("error",i,e,n),t.loginError=!0,t.isSigningIn=!1})}}return t.\u0275fac=function(e){return new(e||t)(So(GE),So(gS),So(Lk),So(WI),So(iI),So($I),So(zm))},t.\u0275cmp=ye({type:t,selectors:[["app-sign-in"]],decls:26,vars:12,consts:[["src","/assets/images/login-img.jpg","alt","","aaa","","ga","content","zi","1","width","350px","ps","s c","pos","rel","t","35px","l","-160px"],["aaa","","mt","70px","ps","s c","w","400px","h","mxc","p","16px","brra","4px","ga","content","zi","2","pos","rel","l","160px",1,"new-user","bb","mat-card"],["d","g","aaa","",3,"formGroup"],[1,"h4"],["aaa","","mt","10px"],["matInput","","formControlName","email"],[4,"ngIf"],["matInput","","type","password","formControlName","password"],["fs","smaller","aaa","",4,"ngIf"],["aaa",""],[3,"routerLink"],["mat-raised-button","","color","accent","mt","10px","fs","small","js","s","aaa","","p","0px 0px","d","g","h","mxc",1,"submit",3,"click"],["class","user-reg","color","primary","aaa","","diameter","20","w","50px",4,"ngIf"],["class","user-reg",4,"ngIf"],[1,"accent-color",3,"routerLink"],["fs","smaller","aaa",""],["color","primary","aaa","","diameter","20","w","50px",1,"user-reg"],[1,"user-reg"]],template:function(t,e){1&t&&(Ro(0,"img",0),Oo(1,"div",1),Oo(2,"form",2),Oo(3,"span",3),pa(4,"User Sign In"),Do(),Oo(5,"mat-form-field",4),Oo(6,"mat-label"),pa(7,"Email"),Do(),Ro(8,"input",5),Co(9,sA,2,0,"mat-error",6),Do(),Oo(10,"mat-form-field"),Oo(11,"mat-label"),pa(12,"Enter Password"),Do(),Ro(13,"input",7),Co(14,oA,2,0,"mat-error",6),Do(),Co(15,aA,2,0,"mat-error",8),Oo(16,"div",9),Oo(17,"a",10),pa(18,"Forgot Password"),Do(),Do(),Oo(19,"button",11),Vo("click",(function(){return e.submit()})),Co(20,lA,1,0,"mat-spinner",12),Co(21,cA,2,0,"span",13),Do(),Oo(22,"div",4),pa(23," Don't have an account? "),Oo(24,"a",14),pa(25,"Click here to create one"),Do(),Do(),Do(),Do()),2&t&&(gr(2),Ao("formGroup",e.signInForm),gr(7),Ao("ngIf",e.f.email.hasError("required")),gr(5),Ao("ngIf",e.f.password.hasError("required")),gr(1),Ao("ngIf",e.loginError),gr(2),Ao("routerLink",Ol(10,uA)),gr(2),na("user-being-signedin",e.isSigningIn),gr(1),Ao("ngIf",!0===e.isSigningIn),gr(1),Ao("ngIf",!1===e.isSigningIn),gr(3),Ao("routerLink",Ol(11,hA)))},directives:[xS,vE,uC,CE,nk,$S,gk,nC,cC,OE,gh,Gm,bx,BS,kk],styles:['[_nghost-%COMP%]{display:grid;grid-template-areas:"content"}[_nghost-%COMP%]   .submit.user-being-signedin[_ngcontent-%COMP%]{pointer-events:none}']}),t})();function pA(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Please enter a valid email "),Do())}function fA(t,e){if(1&t&&(Oo(0,"mat-error",13),pa(1),Do()),2&t){const t=zo();gr(1),ma(" ",t.resetPasswordMessage," ")}}function mA(t,e){1&t&&Ro(0,"mat-spinner",14)}function gA(t,e){1&t&&(Oo(0,"span",15),pa(1,"Submit"),Do())}const yA=function(){return["/signin"]};let vA=(()=>{class t{constructor(t,e,n,i){this.state=t,this.siteService=e,this.afAuth=n,this.router=i,this.resetPasswordEmailCntrol=new rE(null,[mC.required,mC.pattern(KE.EMAIL_PATTERN)]),this.processing=!1,this.emailSent=!1,this.resetPasswordMessage=void 0}ngOnInit(){}sendResetPasswordEmail(){this.resetPasswordMessage=void 0;const t=this;if(!this.resetPasswordEmailCntrol.valid)return;this.processing=!0;const e=this.resetPasswordEmailCntrol.value;this.afAuth.auth.sendPasswordResetEmail(e).then((function(){console.log("email send for "+e),t.processing=!1,t.emailSent=!0,t.siteService.showInfoDialog({message:"An email is sent with instructions to reset your password. Please check your email and reset the same."},()=>{t.router.navigate(["/home"])})})).catch((function(e){t.processing=!1,t.resetPasswordMessage="auth/user-not-found"===e.code?"Provided email doesn't exist in the system. Please verify your email and try again.":e.message,console.error("error",e)}))}}return t.\u0275fac=function(e){return new(e||t)(So(gS),So(Lk),So(WI),So(zm))},t.\u0275cmp=ye({type:t,selectors:[["app-forgot-password"]],decls:20,vars:9,consts:[["src","/assets/images/forgot-password.jpg","alt","","aaa","","ga","content","zi","1","width","350px","ps","s c","pos","rel","t","35px","l","-160px"],["aaa","","mt","70px","ps","s c","w","400px","h","mxc","p","16px","brra","4px","ga","content","zi","2","pos","rel","l","160px",1,"new-user","bb","mat-card"],["d","g","aaa",""],["aaa","","fs","large",1,"accent-color"],["aaa","","mt","10px","fs","smaller"],["aaa","","mt","10px"],["matInput","",3,"formControl","click"],[4,"ngIf"],["aaa","","fs","small",4,"ngIf"],["mat-raised-button","","color","accent","fs","smaller","js","s","aaa","","mt","5px","d","g","h","mxc",1,"submit",3,"click"],["class","user-reg","color","primary","aaa","","diameter","20","w","50px",4,"ngIf"],["class","user-reg",4,"ngIf"],[1,"accent-color",3,"routerLink"],["aaa","","fs","small"],["color","primary","aaa","","diameter","20","w","50px",1,"user-reg"],[1,"user-reg"]],template:function(t,e){1&t&&(Ro(0,"img",0),Oo(1,"div",1),Oo(2,"form",2),Oo(3,"span",3),pa(4,"Forgot password?"),Do(),Oo(5,"span",4),pa(6,"Please enter your email below. We will send you a link to reset your password "),Do(),Oo(7,"mat-form-field",5),Oo(8,"mat-label"),pa(9,"Email"),Do(),Oo(10,"input",6),Vo("click",(function(){return e.resetPasswordMessage=void 0})),Do(),Co(11,pA,2,0,"mat-error",7),Do(),Co(12,fA,2,1,"mat-error",8),Oo(13,"button",9),Vo("click",(function(){return e.sendResetPasswordEmail()})),Co(14,mA,1,0,"mat-spinner",10),Co(15,gA,2,0,"span",11),Do(),Oo(16,"div",5),pa(17," If you have an account then "),Oo(18,"a",12),pa(19,"Sign In"),Do(),Do(),Do(),Do()),2&t&&(gr(10),Ao("formControl",e.resetPasswordEmailCntrol),gr(1),Ao("ngIf",e.resetPasswordEmailCntrol.hasError("required")||e.resetPasswordEmailCntrol.hasError("pattern")),gr(1),Ao("ngIf",void 0!==e.resetPasswordMessage),gr(1),na("processing",e.processing),gr(1),Ao("ngIf",!0===e.processing),gr(1),Ao("ngIf",!1===e.processing),gr(3),Ao("routerLink",Ol(8,yA)))},directives:[xS,vE,uC,cE,nk,$S,gk,nC,cC,wE,gh,bx,Gm,BS,kk],styles:['[_nghost-%COMP%]{display:grid;grid-template-areas:"content"}[_nghost-%COMP%]   .submit.processing[_ngcontent-%COMP%]{pointer-events:none}']}),t})();const _A=function(){return["/home"]},bA=function(){return["/cart"]};let wA=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ye({type:t,selectors:[["app-bread-crumbs"]],decls:7,vars:4,consts:[["aaa","","d","g","gtc","mxc mxc mxc",1,"crumbs"],["fs","smaller","aaa","",1,"cp","txt",3,"routerLink"],["aaa","","ml","5px","mr","5px",1,"txt"]],template:function(t,e){1&t&&(Oo(0,"div",0),Oo(1,"span",1),pa(2,"Home"),Do(),Oo(3,"span",2),pa(4,">"),Do(),Oo(5,"span",1),pa(6,"Cart"),Do(),Do()),2&t&&(gr(1),Ao("routerLink",Ol(2,_A)),gr(4),Ao("routerLink",Ol(3,bA)))},directives:[xS,Hm],styles:[""]}),t})();const xA=["trigger"],CA=["panel"];function EA(t,e){if(1&t&&(Oo(0,"span",8),pa(1),Do()),2&t){const t=zo();gr(1),fa(t.placeholder||"\xa0")}}function SA(t,e){if(1&t&&(Oo(0,"span"),pa(1),Do()),2&t){const t=zo(2);gr(1),fa(t.triggerValue||"\xa0")}}function kA(t,e){1&t&&Wo(0,0,["*ngSwitchCase","true"])}function IA(t,e){1&t&&(Oo(0,"span",9),Co(1,SA,2,1,"span",10),Co(2,kA,1,0,void 0,11),Do()),2&t&&(Ao("ngSwitch",!!zo().customTrigger),gr(2),Ao("ngSwitchCase",!0))}function AA(t,e){if(1&t){const t=Fo();Oo(0,"div",12),Oo(1,"div",13,14),Vo("@transformPanel.done",(function(e){return tn(t),zo()._panelDoneAnimatingStream.next(e.toState)}))("keydown",(function(e){return tn(t),zo()._handleKeydown(e)})),Wo(3,1),Do(),Do()}if(2&t){const t=zo();Ao("@transformPanelWrap",void 0),gr(1),n="mat-select-panel ",i=t._getPanelTheme(),r="",function(t,e,n,i){const r=Ze(),s=un(2);r.firstUpdatePass&&oa(r,null,s,!0);const o=Je();if(n!==fr&&bo(o,s,n)){const i=r.data[wn()+19];if(da(i,!0)&&!sa(r,s)){let t=i.classes;null!==t&&(n=St(t,n||"")),To(r,i,o,n,!0)}else!function(t,e,n,i,r,s,o,a){r===fr&&(r=Ko);let l=0,c=0,u=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const o=l<r.length?r[l+1]:void 0,d=c<s.length?s[c+1]:void 0;let p=null,f=void 0;u===h?(l+=2,c+=2,o!==d&&(p=h,f=d)):null===h||null!==u&&u<h?(l+=2,p=u):(c+=2,p=h,f=d),null!==p&&ca(t,e,n,i,p,f,!0,a),u=l<r.length?r[l]:null,h=c<s.length?s[c]:null}}(r,i,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return Ko;const i=[],r=bi(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(t,e,n),0,s)}}(ce,ia,xo(Je(),n,i,r)),ea("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),Ao("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing")}var n,i,r}const TA=[[["mat-select-trigger"]],"*"],OA=["mat-select-trigger","*"],DA={transformPanelWrap:Uv("transformPanelWrap",[$v("* => void",Yv("@transformPanel",[Kv()],{optional:!0}))]),transformPanel:Uv("transformPanel",[Gv("void",Hv({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Gv("showing",Hv({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Gv("showing-multiple",Hv({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),$v("void => *",Bv("120ms cubic-bezier(0, 0, 0.2, 1)")),$v("* => void",Bv("100ms 25ms linear",Hv({opacity:0})))])};let RA=0;const NA=new qt("mat-select-scroll-strategy"),PA=new qt("MAT_SELECT_CONFIG"),FA={provide:NA,deps:[ev],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class MA{constructor(t,e){this.source=t,this.value=e}}class LA{constructor(t,e,n,i,r){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}}const VA=bw(ww(vw(xw(LA))));let jA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["mat-select-trigger"]]}),t})(),UA=(()=>{class t extends VA{constructor(t,e,n,i,r,s,o,a,l,c,u,h,d,p){super(r,i,o,a,c),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=s,this._parentFormField=l,this.ngControl=c,this._liveAnnouncer=d,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(t,e)=>t===e,this._uid=`mat-select-${RA++}`,this._destroy=new S,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._optionIds="",this._transformOrigin="top",this._panelDoneAnimatingStream=new S,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=Ud(()=>{const t=this.options;return t?t.changes.pipe(gp(t),dp(()=>Y(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.asObservable().pipe(op(1),dp(()=>this.optionSelectionChanges))}),this.openedChange=new jl,this._openedStream=this.openedChange.pipe(qd(t=>t),L(()=>{})),this._closedStream=this.openedChange.pipe(qd(t=>!t),L(()=>{})),this.selectionChange=new jl,this.valueChange=new jl,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=h,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(u)||0,this.id=this.id,p&&(null!=p.disableOptionCentering&&(this.disableOptionCentering=p.disableOptionCentering),null!=p.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=p.typeaheadDebounceInterval))}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=mg(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=mg(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=mg(t)}get compareWith(){return this._compareWith}set compareWith(t){if("function"!=typeof t)throw Error("`compareWith` must be a function.");this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.writeValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=gg(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new my(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Ng(),qg(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(qg(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(qg(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(gp(null),qg(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(op(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.options&&this._setSelectionByValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,i=13===e||32===e,r=this._keyManager;if(!r.isTyping()&&i&&!Ty(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const n=this.selected;36===e||35===e?(36===e?r.setFirstItemActive():r.setLastItemActive(),t.preventDefault()):r.onKeydown(t);const i=this.selected;i&&n!==i&&this._liveAnnouncer.announce(i.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,i=40===n||38===n,r=e.isTyping();if(36===n||35===n)t.preventDefault(),36===n?e.setFirstItemActive():e.setLastItemActive();else if(i&&t.altKey)t.preventDefault(),this.close();else if(r||13!==n&&32!==n||!e.activeItem||Ty(t))if(!r&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&i&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(op(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._selectionModel.clear(),t.forEach(t=>this._selectValue(t)),this._sortValues()}else{this._selectionModel.clear();const e=this._selectValue(t);e?this._keyManager.setActiveItem(e):this.panelOpen||this._keyManager.setActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return Si()&&console.warn(n),!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new xv(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(qg(this._destroy)).subscribe(()=>{!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close()}),this._keyManager.change.pipe(qg(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Y(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(qg(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Y(...this.options.map(t=>t._stateChanges)).pipe(qg(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()}),this._setOptionIds()}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new MA(this,e)),this._changeDetectorRef.markForCheck()}_setOptionIds(){this._optionIds=this.options.map(t=>t.id).join(" ")}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const t=this._keyManager.activeItemIndex||0,e=Ww(t,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=$w(t+e,this._getItemHeight(),this.panel.nativeElement.scrollTop,256)}focus(t){this._elementRef.nativeElement.focus(t)}_getOptionIndex(t){return this.options.reduce((e,n,i)=>void 0!==e?e:t===n?i:void 0,void 0)}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,256),i=e*t-n;let r=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);r+=Ww(r,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(r,s,i),this._offsetY=this._calculateOverlayOffsetY(r,s,i),this._checkOverlayWithinViewport(i)}_calculateOverlayScroll(t,e,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*t-e+i/2),n)}_getAriaLabel(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder}_getAriaLabelledby(){return this.ariaLabelledby?this.ariaLabelledby:this._parentFormField&&this._parentFormField._hasFloatingLabel()&&!this._getAriaLabel()&&this._parentFormField._labelId||null}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?56:32;let r;if(this.multiple)r=40;else{let t=this._selectionModel.selected[0]||this.options.first;r=t&&t.group?32:16}n||(r*=-1);const s=0-(t.left+r-(n?i:0)),o=t.right+r-e.width+(n?0:i);s>0?r+=s+8:o>0&&(r-=o+8),this.overlayDir.offsetX=Math.round(r),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const i=this._getItemHeight(),r=(i-this._triggerRect.height)/2,s=Math.floor(256/i);let o;return this._disableOptionCentering?0:(o=0===this._scrollTop?t*i:this._scrollTop===n?(t-(this._getItemCount()-s))*i+(i-(this._getItemCount()*i-256)%i):e-i/2,Math.round(-1*o-r))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,r=n.height-this._triggerRect.bottom-8,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*e,256)-s-this._triggerRect.height;o>r?this._adjustPanelUp(o,r):s>i?this._adjustPanelDown(s,i,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const i=Math.round(t-e);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return 3*this._triggerFontSize}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return t.\u0275fac=function(e){return new(e||t)(So(vy),So(Hs),So(Oc),So(Cw),So(ja),So(dy,8),So(cE,8),So(CE,8),So(ek,8),So(aC,10),ko("tabindex"),So(NA),So(Dv),So(PA,8))},t.\u0275cmp=ye({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){var i;1&t&&(tc(n,jA,!0),tc(n,Gw,!0),tc(n,Uw,!0)),2&t&&(Ql(i=ic())&&(e.customTrigger=i.first),Ql(i=ic())&&(e.options=i),Ql(i=ic())&&(e.optionGroups=i))},viewQuery:function(t,e){var n;1&t&&(Jl(xA,!0),Jl(CA,!0),Jl(sv,!0)),2&t&&(Ql(n=ic())&&(e.trigger=n.first),Ql(n=ic())&&(e.panel=n.first),Ql(n=ic())&&(e.overlayDir=n.first))},hostAttrs:["role","listbox",1,"mat-select"],hostVars:19,hostBindings:function(t,e){1&t&&Vo("keydown",(function(t){return e._handleKeydown(t)}))("focus",(function(){return e._onFocus()}))("blur",(function(){return e._onBlur()})),2&t&&(wo("id",e.id)("tabindex",e.tabIndex)("aria-label",e._getAriaLabel())("aria-labelledby",e._getAriaLabelledby())("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-owns",e.panelOpen?e._optionIds:null)("aria-multiselectable",e.multiple)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),na("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",disableOptionCentering:"disableOptionCentering",typeaheadDebounceInterval:"typeaheadDebounceInterval",placeholder:"placeholder",required:"required",multiple:"multiple",compareWith:"compareWith",value:"value",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[Fa([{provide:zS,useExisting:t},{provide:Hw,useExisting:t}]),_a,Sa],ngContentSelectors:OA,decls:9,vars:9,consts:[["cdk-overlay-origin","","aria-hidden","true",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],[3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(Go(TA),Oo(0,"div",0,1),Vo("click",(function(){return e.toggle()})),Oo(3,"div",2),Co(4,EA,2,1,"span",3),Co(5,IA,3,2,"span",4),Do(),Oo(6,"div",5),Ro(7,"div",6),Do(),Do(),Co(8,AA,4,10,"ng-template",7),Vo("backdropClick",(function(){return e.close()}))("attach",(function(){return e._onAttached()}))("detach",(function(){return e.close()}))),2&t){const t=Eo(1);gr(3),Ao("ngSwitch",e.empty),gr(1),Ao("ngSwitchCase",!0),gr(1),Ao("ngSwitchCase",!1),gr(3),Ao("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[rv,bh,wh,sv,xh,hh],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[DA.transformPanelWrap,DA.transformPanel]},changeDetection:0}),t})(),BA=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},providers:[FA],imports:[[Qh,av,Kw,yw],ik,Kw,yw]}),t})();function qA(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Please enter a valid email "),Do())}function zA(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Please enter a valid first name "),Do())}function HA(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Please enter a valid last name "),Do())}function GA(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Please enter a valid address "),Do())}function WA(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Please enter a valid address "),Do())}function $A(t,e){if(1&t&&(Oo(0,"mat-option",22),pa(1),Do()),2&t){const t=e.$implicit;Ao("value",t),gr(1),ma(" ",t.name,"")}}function KA(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Please select a State "),Do())}function YA(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Please enter a valid PIN code "),Do())}function QA(t,e){if(1&t){const t=Fo();Oo(0,"form",1),Oo(1,"div",2),Ro(2,"app-bread-crumbs"),Oo(3,"div",3),Oo(4,"span",4),pa(5,"Contact Information"),Do(),Oo(6,"mat-form-field",5),Oo(7,"mat-label"),pa(8,"Email"),Do(),Ro(9,"input",6),Co(10,qA,2,0,"mat-error",7),Do(),Do(),Oo(11,"div",8),Oo(12,"span",4),pa(13,"Shipping Address"),Do(),Oo(14,"div",9),Oo(15,"mat-form-field"),Oo(16,"mat-label"),pa(17,"First Name"),Do(),Ro(18,"input",10),Co(19,zA,2,0,"mat-error",7),Do(),Oo(20,"mat-form-field"),Oo(21,"mat-label"),pa(22,"Last Name"),Do(),Ro(23,"input",11),Co(24,HA,2,0,"mat-error",7),Do(),Do(),Oo(25,"mat-form-field"),Oo(26,"mat-label"),pa(27,"Address"),Do(),Ro(28,"input",12),Co(29,GA,2,0,"mat-error",7),Do(),Oo(30,"mat-form-field"),Oo(31,"mat-label"),pa(32,"Apartment, suite etc. (optional)"),Do(),Ro(33,"input",13),Do(),Oo(34,"mat-form-field"),Oo(35,"mat-label"),pa(36,"City"),Do(),Ro(37,"input",14),Co(38,WA,2,0,"mat-error",7),Do(),Oo(39,"div",15),Oo(40,"mat-form-field"),Oo(41,"mat-label"),pa(42,"Contry"),Do(),Ro(43,"input",16),Do(),Oo(44,"mat-form-field"),Oo(45,"mat-label"),pa(46,"State"),Do(),Oo(47,"mat-select",17),Oo(48,"mat-option"),pa(49,"None"),Do(),Co(50,$A,2,2,"mat-option",18),Do(),Co(51,KA,2,0,"mat-error",7),Do(),Oo(52,"mat-form-field"),Oo(53,"mat-label"),pa(54,"PIN Code"),Do(),Ro(55,"input",19),Co(56,YA,2,0,"mat-error",7),Do(),Do(),Do(),Oo(57,"div",20),Oo(58,"button",21),Vo("click",(function(){return tn(t),zo().continueShipAddrReview()})),pa(59,"Continue to payment"),Do(),Do(),Do(),Do()}if(2&t){const t=zo();Ao("formGroup",t.shippingAddrForm),gr(9),Ao("ngModel",t.cart.contactEmail),gr(1),Ao("ngIf",t.shippingAddrForm.controls.email.hasError("required")||t.shippingAddrForm.controls.email.hasError("email")),gr(8),Ao("ngModel",t.shippingAddress.fName),gr(1),Ao("ngIf",t.shippingAddrForm.controls.fName.hasError("required")),gr(4),Ao("ngModel",t.shippingAddress.lName),gr(1),Ao("ngIf",t.shippingAddrForm.controls.lName.hasError("required")),gr(4),Ao("ngModel",t.shippingAddress.line1),gr(1),Ao("ngIf",t.shippingAddrForm.controls.line1.hasError("required")),gr(4),Ao("ngModel",t.shippingAddress.line2),gr(4),Ao("ngModel",t.shippingAddress.city),gr(1),Ao("ngIf",t.shippingAddrForm.controls.city.hasError("required")),gr(9),Ao("ngModel",t.getShippingState()),gr(3),Ao("ngForOf",t.getStates()),gr(1),Ao("ngIf",t.shippingAddrForm.controls.state.hasError("required")),gr(4),Ao("ngModel",t.shippingAddress.pin),gr(1),Ao("ngIf",t.shippingAddrForm.controls.pin.hasError("required"))}}let XA=(()=>{class t extends NI{constructor(t,e,n,i,r,s){super(t),this.state=t,this.activeRoute=e,this.siteService=n,this.router=i,this.cartService=r,this.cd=s,this.OrderStatus=qx,this.compId="checkship"}ngOnInit(){super.ngOnInit(),console.log("reachere..here",this.activeRoute.snapshot.url[0].path),this.activeRoute.paramMap.subscribe(t=>{console.log("in param"),void 0!==this.state.appUser.__fireUser&&this.setCheckoutData()})}getStates(){return Kx}setCheckoutData(){const t=this.activeRoute.snapshot.url[0].path;console.log("path",t),"start"===t&&void 0===this.state.cart.shippingAddress&&(this.state.cart.shippingAddress=new Px,this.state.cart.contactEmail=this.state.appUser.__fireUser.email,void 0!==this.state.appUser.savedShippingAddress&&(this.state.cart.shippingAddress=Object.assign({},this.state.appUser.savedShippingAddress))),this.cart=this.state.cart,this.shippingAddress=this.cart.shippingAddress,this.setupForm()}setupForm(){this.shippingAddrForm=new sE({email:new rE(null,[mC.required,mC.email]),fName:new rE(null,[mC.required]),lName:new rE(null,[mC.required]),line1:new rE(null,[mC.required]),line2:new rE(null),city:new rE(null,[mC.required]),country:new rE(null),state:new rE(null,[mC.required]),pin:new rE(null,[mC.required])}),this.shippingAddrForm.controls.country.disable(),this.shippingAddrForm.controls.country.setValue("USA")}continueShipAddrReview(){if(0!==this.state.cart.cartLines.length)if(this.shippingAddrForm.valid){this.router.navigate(["/checkout/payment"]);const t=this.shippingAddrForm.getRawValue();Object.assign(this.shippingAddress,t),this.shippingAddress.state=t.state.abbreviation,this.cart.contactEmail=t.email,this.cartService.updateCart(this.cart)}else this.siteService.showInfoDialog({message:"Please complete shipping address form"});else this.router.navigate(["/home"])}getShippingState(){return void 0===this.shippingAddress.state?void 0:Kx.find(t=>t.abbreviation===this.shippingAddress.state)}compareFn(t,e){return t.abbreviation===e.abbreviation}}return t.\u0275fac=function(e){return new(e||t)(So(gS),So(Ff),So(Lk),So(zm),So(sI),So(Hs))},t.\u0275cmp=ye({type:t,selectors:[["app-checkout-shipping"]],features:[_a],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],["aaa","","p","70px 70px",1,"information","shippping-addr-edit"],["aaa","","d","g","mt","10px",1,"contact-info"],["aaa","","js","s","fs","large",1,"txt"],["aaa",""],["matInput","","formControlName","email",3,"ngModel"],[4,"ngIf"],["aaa","","d","g","mt","50px",1,"shipping-address"],["d","g","gtc","1fr 1fr","aaa","","gg","10px",1,"name"],["matInput","","type","text","formControlName","fName",3,"ngModel"],["matInput","","type","text","formControlName","lName",3,"ngModel"],["matInput","","type","text","formControlName","line1",3,"ngModel"],["matInput","","type","text","formControlName","line2",3,"ngModel"],["matInput","","type","text","formControlName","city",3,"ngModel"],["aaa","","d","g","gtc","1fr 1fr 1fr","gg","5px",1,"country-state-pin"],["matInput","","value","USA","formControlName","country"],["formControlName","state",3,"ngModel"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","pin",3,"ngModel"],["aaa","","d","g","d","grid",1,"continue"],["mat-flat-button","","color","accent","fs","small","aaa","","js","e","w","mxc",3,"click"],[3,"value"]],template:function(t,e){1&t&&Co(0,QA,60,17,"form",0),2&t&&Ao("ngIf",void 0!==e.cart)},directives:[gh,vE,uC,CE,xS,wA,nk,$S,gk,nC,cC,OE,UA,Gw,fh,bx,BS],styles:[""]}),t})();const JA=["input"],ZA=function(){return{enterDuration:150}},tT=["*"],eT=new qt("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}});let nT=0;const iT={provide:Xx,useExisting:It(()=>sT),multi:!0};class rT{constructor(t,e){this.source=t,this.value=e}}let sT=(()=>{class t{constructor(t){this._changeDetector=t,this._value=null,this._name=`mat-radio-group-${nT++}`,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new jl}get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=mg(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=mg(t),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(t=>{t.checked=this.value===t.value,t.checked&&(this._selected=t)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new rT(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(So(Hs))},t.\u0275dir=Ee({type:t,selectors:[["mat-radio-group"]],contentQueries:function(t,e,n){var i;1&t&&tc(n,lT,!0),2&t&&Ql(i=ic())&&(e._radios=i)},hostAttrs:["role","radiogroup",1,"mat-radio-group"],inputs:{name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[Fa([iT])]}),t})();class oT{constructor(t){this._elementRef=t}}const aT=bw(ww(oT));let lT=(()=>{class t extends aT{constructor(t,e,n,i,r,s,o){super(e),this._changeDetector=n,this._focusMonitor=i,this._radioDispatcher=r,this._animationMode=s,this._providerOverride=o,this._uniqueId=`mat-radio-${++nT}`,this.id=this._uniqueId,this.change=new jl,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._removeUniqueSelectionListener=r.listen((t,e)=>{t!==this.id&&e===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(t){const e=mg(t);this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(mg(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=mg(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}focus(t){this._focusMonitor.focusVia(this._inputElement,"keyboard",t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.name=this.radioGroup.name)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new rT(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputChange(t){t.stopPropagation();const e=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),e&&this.radioGroup._emitChangeEvent())}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(So(sT,8),So(ja),So(Hs),So(Pv),So(gy),So(aw,8),So(eT,8))},t.\u0275cmp=ye({type:t,selectors:[["mat-radio-button"]],viewQuery:function(t,e){var n;1&t&&Jl(JA,!0),2&t&&Ql(n=ic())&&(e._inputElement=n.first)},hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(t,e){1&t&&Vo("focus",(function(){return e._inputElement.nativeElement.focus()})),2&t&&(wo("tabindex",-1)("id",e.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),na("mat-radio-checked",e.checked)("mat-radio-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-primary","primary"===e.color)("mat-accent","accent"===e.color)("mat-warn","warn"===e.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",id:"id",checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change"},exportAs:["matRadioButton"],features:[_a],ngContentSelectors:tT,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(t,e){if(1&t&&(Go(),Oo(0,"label",0,1),Oo(2,"div",2),Ro(3,"div",3),Ro(4,"div",4),Oo(5,"input",5,6),Vo("change",(function(t){return e._onInputChange(t)}))("click",(function(t){return e._onInputClick(t)})),Do(),Oo(7,"div",7),Ro(8,"div",8),Do(),Do(),Oo(9,"div",9),Oo(10,"span",10),pa(11,"\xa0"),Do(),Wo(12),Do(),Do()),2&t){const t=Eo(1);wo("for",e.inputId),gr(5),Ao("id",e.inputId)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex)("required",e.required),wo("name",e.name)("value",e.value)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby)("aria-describedby",e.ariaDescribedby),gr(2),Ao("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",Ol(18,ZA)),gr(2),na("mat-radio-label-before","before"==e.labelPosition)}},directives:[Nw],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:transform ease 280ms,background-color ease 280ms;width:20px;transform:scale(0.001)}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5)}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),t})(),cT=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[Pw,yw],yw]}),t})();const uT=["paypal"];let hT=(()=>{class t{constructor(t,e,n,i){this.state=t,this.catService=e,this.siteService=n,this.utilService=i,this.close=new jl}ngOnInit(){this.setupPaypalPayment(this.state.cart.cartLines)}setupPaypalPayment(t){const e=t.map(t=>({description:t.productSku.__product.title,amount:{currency_code:"USD",value:this.catService.getProductPrice(t.productSku.__product)}}));paypal.Buttons({createOrder:(t,n)=>n.order.create({purchase_units:e,application_context:{brand_name:"Spicy Purple",shipping_preference:"NO_SHIPPING"}}),onApprove:(t,e)=>Object(Vk.__awaiter)(this,void 0,void 0,(function*(){this.state.cart.checkoutStatus=qx.PAYMENT_AUTHORIZED;const n=this;try{yield e.order.capture().then((function(e){n.onPaymentCapture(e.payer.email_address,t.orderID),n.close.emit(t.orderID)}))}catch(i){console.error("payment",i),this.siteService.showInfoDialog({message:"An error occured while capturing payment. We will get in touch with you shortly"}),n.utilService.addToDataLayer("payment","payment","paypal","capture_failed"),this.state.cart.checkoutStatus=qx.PAYMENT_CAPTURE_FAILED,n.close.emit(t.orderID)}})),onError:t=>{this.utilService.addToDataLayer("payment","payment","paypal","approve_failed"),this.siteService.showInfoDialog({message:"An error occured while authorizing the payment. Please try again after some time."}),console.log(t),this.state.cart.checkoutStatus=qx.PAYMENT_AUTH_FAILED},style:{color:"blue",label:"pay",height:30,size:"small"}}).render(this.paypalElement.nativeElement)}onPaymentCapture(t,e){new Ox(e).email=t,this.state.cart.checkoutStatus=qx.PAYMENT_CAPTURED,this.utilService.addToDataLayer("payment","payment","paypal","capture_success")}}return t.\u0275fac=function(e){return new(e||t)(So(gS),So(sI),So(Lk),So(vS))},t.\u0275cmp=ye({type:t,selectors:[["app-payment"]],viewQuery:function(t,e){var n;1&t&&Xl(uT,!0),2&t&&Ql(n=ic())&&(e.paypalElement=n.first)},outputs:{close:"close"},decls:2,vars:0,consts:[[1,"paypal-holder"],["paypal",""]],template:function(t,e){1&t&&Ro(0,"div",0,1)},styles:[""]}),t})();function dT(t,e){if(1&t){const t=Fo();No(0),Oo(1,"mat-radio-button",20),Vo("change",(function(){tn(t);const n=e.$implicit,i=zo().$implicit;return zo(2).selectShipOption(i,n)})),Do(),Oo(2,"span",4),pa(3),Do(),Oo(4,"span",4),pa(5),Do(),Oo(6,"span",4),pa(7),Pl(8,"currency"),Do(),Po()}if(2&t){const t=e.$implicit,n=zo(3);gr(1),Ao("value",t),gr(2),fa(t.title),gr(2),fa(n.getDateRange(t)),gr(2),fa(Ml(8,4,t.initCost,"USD"))}}function pT(t,e){if(1&t&&(Oo(0,"div",13),Oo(1,"div",14),Ro(2,"app-prod-image-with-qty-badge",15),Oo(3,"span",16),pa(4),Do(),Oo(5,"span",17),pa(6),Pl(7,"currency"),Do(),Do(),Ro(8,"div",7),Oo(9,"mat-radio-group",18),Co(10,dT,9,7,"ng-container",19),Do(),Do()),2&t){const t=e.$implicit,n=zo(2);gr(2),Ao("imgUrl",n.getProdImage(t))("qty",t.qty),gr(2),fa(n.getProdTitle(t)),gr(2),fa(Ml(7,6,n.getLinePrice(t),"USD")),gr(3),Ao("ngModel",n.getSelectedShippingOption(t)),gr(1),Ao("ngForOf",n.getShippingOptions(t))}}function fT(t,e){if(1&t){const t=Fo();Oo(0,"button",21),Vo("click",(function(){return tn(t),zo(2).placeOrder()})),pa(1,"Place Order"),Do()}}function mT(t,e){if(1&t){const t=Fo();Oo(0,"app-payment",22),Vo("close",(function(e){return tn(t),zo(2).closePayment(e)})),Do()}}const gT=function(){return["/checkout/edit-ship-address"]};function yT(t,e){if(1&t&&(Oo(0,"div",1),Ro(1,"app-bread-crumbs"),Oo(2,"div",2),Oo(3,"div",3),Oo(4,"span",4),pa(5,"Contact"),Do(),Oo(6,"span",5),pa(7),Do(),Oo(8,"i",6),pa(9,"edit"),Do(),Do(),Ro(10,"div",7),Oo(11,"div",3),Oo(12,"span",4),pa(13,"Ship to"),Do(),Oo(14,"span",4),pa(15),Do(),Oo(16,"i",6),pa(17,"edit"),Do(),Do(),Do(),Oo(18,"div",8),Co(19,pT,11,9,"div",9),Do(),Oo(20,"div",10),Co(21,fT,2,0,"button",11),Co(22,mT,1,0,"ng-template",null,12,ac),Do(),Do()),2&t){const t=Eo(23),e=zo();gr(7),fa(e.state.cart.contactEmail),gr(1),Ao("routerLink",Ol(7,gT)),gr(7),fa(e.getShippingAddressText()),gr(1),Ao("routerLink",Ol(8,gT)),gr(3),Ao("ngForOf",null==e.state.cart?null:e.state.cart.cartLines),gr(2),Ao("ngIf",e.showPaypalBtn())("ngIfElse",t)}}let vT=(()=>{class t extends NI{constructor(t,e,n,i,r){super(e),this.siteService=t,this.state=e,this.cartService=n,this.router=i,this.shippingService=r,this.compId="checkpay"}ngOnInit(){super.ngOnInit()}getShippingAddressText(){var t,e;return this.siteService.getShippingAddressText(null===(e=null===(t=this.state)||void 0===t?void 0:t.cart)||void 0===e?void 0:e.shippingAddress)}closePayment(t){this.ordId=t}placeOrder(){console.log("order id",this.ordId);const t=this.state.cart.checkoutStatus;if(t===qx.PAYMENT_CAPTURED||t===qx.PAYMENT_CAPTURE_FAILED){const t=this.cartService.createOrder(this.ordId);this.cartService.deleteCart(),this.router.navigate(["/order-complete"],{queryParams:{ordId:t.baseId}})}}showPaypalBtn(){const t=this.state.cart.checkoutStatus;return t===qx.PAYMENT_CAPTURED||t===qx.PAYMENT_CAPTURE_FAILED}getProdTitle(t){return t.productSku.__product.title}getLinePrice(t){return this.cartService.getLinePrice(t)}getShippingOptions(t){return t.productSku.__product.avialableShippingOptions.map(t=>this.state.shippingOptions.find(e=>e.id===t))}getShippingCost(t){return this.shippingService.getShippingByCartLine(t)}getDateRange(t){return`${t.dateRange[0]}-${t.dateRange[1]} days`}selectShipOption(t,e){t.shipOptionId=e.id}getProdImage(t){return this.cartService.getProdImage(t)}getSelectedShippingOption(t){return this.state.shippingOptions.find(e=>e.id===t.shipOptionId)}}return t.\u0275fac=function(e){return new(e||t)(So(Lk),So(gS),So(sI),So(zm),So(rI))},t.\u0275cmp=ye({type:t,selectors:[["app-checkout-payment"]],features:[_a],decls:1,vars:1,consts:[["class","information shippping-addr-review","aaa","","p","70px 70px",4,"ngIf"],["aaa","","p","70px 70px",1,"information","shippping-addr-review"],["aaa","","d","grid","p","20px","mt","10px",1,"shipping-info","curved-border"],["aaa","","d","g","cg","5px","gtc","90px 5fr 1fr",1,"ship-line"],["aaa","","js","s",1,"txt"],["aaa","","js","s"],[1,"material-icons","notranslate",3,"routerLink"],["aaa","","h","1px","bgc","--border-color","m","5px 0px",1,"line"],["aaa","","mt","10px","d","g","rg","10px",1,"cart-lines"],["class","cart-line bb curved-border","aaa","","d","grid","d","grid","p","20px",4,"ngFor","ngForOf"],["aaa","","d","g","d","grid","mt","10px",1,"continue"],["mat-raised-button","","aaa","","color","accent","w","100%","js","e","h","40px","type","button",3,"click",4,"ngIf","ngIfElse"],["paypalHolder",""],["aaa","","d","grid","d","grid","p","20px",1,"cart-line","bb","curved-border"],["aaa","","d","g","gtc","1fr 4fr 1fr",1,"line-detail"],["alt","Photo","aaa","","w","80%","bbb","","ps","center start","brra","4px","pos","rel",3,"imgUrl","qty"],["aaa","","ps","center center",1,""],["aaa","","ps","center end",1,""],["aaa","","d","grid","cg","5px","gtc","30px 150px 100px 1fr","rg","10px",3,"ngModel"],[4,"ngFor","ngForOf"],["aaa","","ps","center",3,"value","change"],["mat-raised-button","","aaa","","color","accent","w","100%","js","e","h","40px","type","button",3,"click"],[3,"close"]],template:function(t,e){1&t&&Co(0,yT,24,9,"div",0),2&t&&Ao("ngIf",!0===(null==e.state?null:e.state.dataFetched))},directives:[gh,xS,wA,Hm,fh,qI,sT,cC,yE,lT,bx,hT],pipes:[Wh],styles:[""]}),t})();function _T(t,e){if(1&t&&(Oo(0,"span",6),pa(1),Do()),2&t){const t=zo(2);gr(1),ma("Thank You ",t.getFirstName(),"!")}}function bT(t,e){if(1&t&&(No(0),Oo(1,"div",7),Oo(2,"div",8),Ro(3,"app-prod-image-with-qty-badge",9),Oo(4,"div",10),pa(5),Do(),Do(),Ro(6,"div",11),Oo(7,"div",12),Oo(8,"span",13),pa(9,"Preparing for shipment"),Do(),Oo(10,"span",14),pa(11,"We are currently preparing item for shipment"),Do(),Oo(12,"span",15),pa(13),Do(),Do(),Do(),Po()),2&t){const t=e.$implicit,n=zo(2);gr(3),Ao("imgUrl",n.getImageUrl(t))("qty",t.qty),gr(2),fa(n.getProdTitle(t)),gr(8),ma("Est. Date of Delivery: ",n.getDeliveryRange(t.shippingOption),"")}}function wT(t,e){if(1&t&&(Oo(0,"div",2),Oo(1,"span",3),pa(2),Do(),Co(3,_T,2,1,"span",4),Co(4,bT,14,4,"ng-container",5),Do()),2&t){const t=zo();gr(2),ma("Order #",t.order.ordId,""),gr(1),Ao("ngIf",!t.isAnonymous()),gr(1),Ao("ngForOf",t.order.orderLines)}}function xT(t,e){if(1&t&&(Oo(0,"div",27),Ro(1,"app-prod-image-with-qty-badge",28),Oo(2,"span",29),pa(3),Do(),Oo(4,"span",30),pa(5),Pl(6,"currency"),Do(),Oo(7,"span",31),pa(8),Pl(9,"currency"),Do(),Oo(10,"i",32),pa(11,"local_shipping"),Do(),Do()),2&t){const t=e.$implicit,n=zo(2);gr(1),Ao("imgUrl",n.getProdImage(t))("qty",t.qty),gr(2),fa(n.getProdTitle(t)),gr(2),fa(Ml(6,5,n.getOrdLinePrice(t),"USD")),gr(3),fa(Ml(9,8,n.getShippingByLine(t),"USD"))}}function CT(t,e){if(1&t&&(Oo(0,"div",16),Oo(1,"div",17),Co(2,xT,12,11,"div",18),Do(),Oo(3,"div",19),Oo(4,"div",20),Oo(5,"span",21),pa(6,"Subtotal"),Do(),Oo(7,"span",22),pa(8),Pl(9,"currency"),Do(),Do(),Oo(10,"div",23),Oo(11,"span",21),pa(12,"Shipping"),Do(),Oo(13,"span",22),pa(14),Pl(15,"currency"),Do(),Do(),Do(),Oo(16,"div",24),Oo(17,"span",25),pa(18,"Total"),Do(),Oo(19,"span",26),pa(20),Pl(21,"currency"),Do(),Do(),Do()),2&t){const t=zo();gr(2),Ao("ngForOf",t.order.orderLines),gr(6),fa(Ml(9,4,t.getOrdLinesTotal(),"USD")),gr(6),fa(Ml(15,7,t.order.shippingTotal,"USD")),gr(6),fa(Ml(21,10,t.getOrderTotal(),"USD"))}}let ET=(()=>{class t extends NI{constructor(t,e,n,i){super(t),this.state=t,this.activeRoute=e,this.cartService=n,this.utilService=i,this.compId="ordconf"}ngOnInit(){super.ngOnInit(),this.activeRoute.queryParamMap.subscribe(t=>Object(Vk.__awaiter)(this,void 0,void 0,(function*(){var e;console.log("reached",t),this.ordBaseId=t.get("ordId"),void 0!==(null===(e=this.state.appUser)||void 0===e?void 0:e.__fireUser)&&this.fetchOrder()})))}getDeliveryRange(t){const e=this.order.createdDate+24*t.dateRange[1]*60*60*1e3;return`${this.utilService.getFormattedDate(new Date(this.order.createdDate+24*t.dateRange[0]*60*60*1e3))} - ${this.utilService.getFormattedDate(new Date(e))}`}getDateRange(t){return`${t.dateRange[0]}-${t.dateRange[1]} days`}get order(){return this.state.currOrder}getImageUrl(t){return`${t.product.imgUrl}`}getProdTitle(t){return t.product.title}getLineQty(t){return t.qty}getOrdLinePrice(t){return t.price*t.qty}getShippingByLine(t){return t.shippingCost}getOrdLinesTotal(){return this.state.currOrder.orderLines.reduce((t,e)=>t+this.getOrdLinePrice(e),0)}getProdImage(t){return t.product.imgUrl}getOrderTotal(){return this.getOrdLinesTotal()+this.state.currOrder.shippingTotal}fetchOrder(){return Object(Vk.__awaiter)(this,void 0,void 0,(function*(){this.state.currOrder=yield this.cartService.getOrder(this.ordBaseId)}))}isAnonymous(){return this.state.appUser.__fireUser.isAnonymous}getFirstName(){return`${this.state.appUser.fName}`}}return t.\u0275fac=function(e){return new(e||t)(So(gS),So(Ff),So(sI),So(vS))},t.\u0275cmp=ye({type:t,selectors:[["app-order-complete"]],features:[_a],decls:2,vars:2,consts:[["class","order-detail","aaa","","d","g","d","grid","d","grid","gar","mxc","p","70px","rg","10px",4,"ngIf"],["class","cart-details","aaa","","d","grid","d","grid","gtr","mxc 80px 50px",4,"ngIf"],["aaa","","d","g","d","grid","d","grid","gar","mxc","p","70px","rg","10px",1,"order-detail"],["aaa","","fs","10px","clr","black"],["aaa","",4,"ngIf"],[4,"ngFor","ngForOf"],["aaa",""],["aaa","","d","g",1,"order-line","curved-border"],["aaa","","d","g","gtc","90px 1fr","p","10px","d","g","gta","'left right'",1,"order-line-detail"],["aaa","","d","g","ga","left","w","80%","gta","'holder'","pos","rel",1,"img-holder",3,"imgUrl","qty"],["aaa","","js","start","ga","right",1,"prod-title"],["aaa","","h","1px","bgc","--border-color","m","5px 0px",1,"line"],["aaa","","d","g","p","10px",1,"shipment-status"],["aaa","","js","s",1,"txt","status-header"],["aaa","","js","s","fs","10px",1,"txt","status-detail"],["aaa","","js","s","fs","smaller",1,"txt"],["aaa","","d","grid","d","grid","gtr","mxc 80px 50px",1,"cart-details"],["aaa","","d","g","h","mxc","rg","10px",1,"cart-lines"],["class","cart-detail bb","aaa","","d","grid","d","grid","gtc","1fr 4fr 1fr 1fr","d","g","gta","'img title price shipprice '",4,"ngFor","ngForOf"],["aaa","","d","g","fs","unset","rg","5px","mt","10px",1,"prices"],["aaa","","d","grid","gtc","1fr 1fr","as","e",1,"shipping-price"],["aaa","","js","s",1,"txt"],["aaa","","js","e",1,"txt"],["aaa","","d","grid","gtc","1fr 1fr","as","s",1,"product-price"],["d","g","d","grid","gtc","1fr 1fr","aaa","","mt","10px",1,"total"],["aaa","","fs","large","js","s","as","s",1,"txt"],["aaa","","fs","large","js","e","as","s",1,"txt"],["aaa","","d","grid","d","grid","gtc","1fr 4fr 1fr 1fr","d","g","gta","'img title price shipprice '",1,"cart-detail","bb"],["alt","Photo","aaa","","w","80%","bbb","","ps","center start","brra","4px","pos","rel","ga","img",3,"imgUrl","qty"],["aaa","","ps","center center","ga","title",1,""],["aaa","","ps","center center","ga","price",1,""],["aaa","","ps","center end","ga","shipprice",1,"txt","line-shipping-cost"],["aaa","","ga","shipprice","fs","15px","js","end",1,"material-icons","mr-1"]],template:function(t,e){1&t&&(Co(0,wT,5,3,"div",0),Co(1,CT,22,13,"div",1)),2&t&&(Ao("ngIf",void 0!==e.order),gr(1),Ao("ngIf",void 0!==e.order))},directives:[gh,xS,fh,qI],pipes:[Wh],styles:["[_nghost-%COMP%]{display:grid;width:100%;grid-template-columns:1.5fr 1fr;grid-template-rows:1fr}[_nghost-%COMP%] > .cart-details[_ngcontent-%COMP%]{background:#fafafa;padding:70px 30px;border-left:1px solid #e1e1e1}[_nghost-%COMP%] > .cart-details[_ngcontent-%COMP%] > .cart-lines[_ngcontent-%COMP%], [_nghost-%COMP%] > .cart-details[_ngcontent-%COMP%] > .prices[_ngcontent-%COMP%]{border-bottom:var(--def-border)}"]}),t})();function ST(t,e){if(1&t){const t=Fo();Oo(0,"div",24),Oo(1,"img",25),Vo("click",(function(){tn(t);const n=e.$implicit;return zo(2).selectThumb(n)})),Do(),Do()}if(2&t){const t=e.$implicit,n=zo(2);gr(1),na("selected",t.__selected),Ao("src",n.getImgUrl(t),Ji)}}function kT(t,e){if(1&t){const t=Fo();Oo(0,"div",26),Vo("click",(function(){tn(t);const n=e.$implicit;return zo(2).selectSize(n)})),Oo(1,"span"),pa(2),Do(),Do()}if(2&t){const t=e.$implicit;na("selected",zo(2).product.__selectedSize===t),gr(2),fa(t.sizeKey)}}function IT(t,e){if(1&t){const t=Fo();Oo(0,"div",27),Vo("click",(function(){tn(t);const n=e.$implicit;return zo(2).selectColor(n)})),Ro(1,"div",28),Do()}if(2&t){const t=e.$implicit;na("selected",zo(2).product.__selectedColor===t),gr(1),ea("background-color",t.colorValue)}}function AT(t,e){if(1&t){const t=Fo();Oo(0,"button",29),Vo("click",(function(){return tn(t),zo(2).addToCart()})),pa(1,"Add To Cart"),Do()}}const TT=function(){return["/cart"]};function OT(t,e){1&t&&(Oo(0,"button",30),pa(1,"View Cart"),Do()),2&t&&Ao("routerLink",Ol(1,TT))}function DT(t,e){if(1&t){const t=Fo();Oo(0,"div",1),Oo(1,"div",2),Oo(2,"div",3),Co(3,ST,2,3,"div",4),Do(),Oo(4,"div",5),Ro(5,"img",6),Do(),Do(),Oo(6,"div",7),Oo(7,"span",8),pa(8),Do(),Ro(9,"div",9),Oo(10,"span",10),pa(11),Pl(12,"currency"),Do(),Oo(13,"p",11),pa(14),Do(),Oo(15,"div",12),Co(16,kT,3,3,"div",13),Do(),Oo(17,"div",14),Co(18,IT,2,4,"div",15),Do(),Oo(19,"div",16),Oo(20,"div",17),Oo(21,"span",18),Vo("click",(function(){return tn(t),zo().changeQty(-1)})),pa(22,"-"),Do(),Ro(23,"div",19),Oo(24,"span",20),pa(25),Do(),Ro(26,"div",19),Oo(27,"span",21),Vo("click",(function(){return tn(t),zo().changeQty(1)})),pa(28,"+"),Do(),Do(),Co(29,AT,2,0,"button",22),Co(30,OT,2,2,"button",23),Do(),Do(),Do()}if(2&t){const t=zo();gr(3),Ao("ngForOf",t.getGalleryImages()),gr(2),Ao("src",t.getSelectedImgUrl(),Ji),gr(3),fa(t.product.title),gr(3),fa(Ml(12,10,t.getProdPrice(),"USD")),gr(3),fa(t.product.description),gr(2),Ao("ngForOf",t.getSizes()),gr(2),Ao("ngForOf",t.getColors()),gr(7),fa(t.qty),gr(4),Ao("ngIf",!t.isPresentInTheCart(t.product)),gr(1),Ao("ngIf",t.isPresentInTheCart(t.product))}}let RT=(()=>{class t extends NI{constructor(t,e,n,i){super(t),this.state=t,this.cartService=e,this.activeRoute=n,this.siteService=i,this.compId="proddetail",this.qty=1}ngOnInit(){super.ngOnInit(),this.activeRoute.paramMap.subscribe(t=>Object(Vk.__awaiter)(this,void 0,void 0,(function*(){var t;void 0!==this.activeRoute.snapshot.params.prodId&&(this.productId=this.activeRoute.snapshot.params.prodId,void 0!==(null===(t=this.state.appUser)||void 0===t?void 0:t.__fireUser)&&this.fetchProduct())})))}getSizes(){return Object.values(this.product.sizeVariants)}selectThumb(t){this.selectedImg=t}fetchProduct(){this.product=this.state.products.find(t=>t.id===this.productId),this.selectedImg=Object.values(this.product.galleryImages)[0]}getProdPrice(){return this.cartService.getProductPrice(this.product)}getColors(){return this.product.colorVariants}addToCart(){this.cartService.addToCart(this.product)}selectSize(t){this.product.__selectedSize=t}selectColor(t){this.product.__selectedColor=t}changeQty(t){this.qty+=t,this.qty=this.qty<1?1:this.qty}getImgUrl(t){return this.siteService.getGalleryImgUrl(this.product,t)}getSelectedImgUrl(){return this.siteService.getGalleryImgUrl(this.product,this.selectedImg)}getGalleryImages(){return Object.values(this.product.galleryImages)}isPresentInTheCart(t){return this.cartService.isPresentInTheCart(t)}}return t.\u0275fac=function(e){return new(e||t)(So(gS),So(sI),So(Ff),So(Lk))},t.\u0275cmp=ye({type:t,selectors:[["app-product-detail"]],features:[_a],decls:1,vars:1,consts:[["class","product-detail","aaa","","w","80%","d","g","gtc","2fr 1fr","cg","15px",4,"ngIf"],["aaa","","w","80%","d","g","gtc","2fr 1fr","cg","15px",1,"product-detail"],["aaa","","d","g","cg","10px","gtc","80px 1fr",1,"img-gallery"],["aaa","","d","g","d","grid","gar","mxc",1,"gallery"],["class","thumbnail",4,"ngFor","ngForOf"],[1,"main-image"],["alt","Photo","aaa","","w","100%",3,"src"],["aaa","","gar","mxc","d","g","w","300px","js","s","rg","10px",1,"other"],["aaa","","js","s",1,"txt"],["aaa","","h","1px","bgc","--border-color","m","2px 0px",1,"line"],["aaa","","js","s",1,"txt","price"],["aaa","","ff","Roboto","ws","pre-wrap","clr","--text-color",1,"description"],["aria-label","Size selection","aaa","","d","g","gac","35px","gaf","column","fs","10px","cg","5px",1,"size-selection"],["class","size cp","aaa","","d","g","pi","center","br","1px solid --border-color","brra","10px",3,"selected","click",4,"ngFor","ngForOf"],["aaa","","d","grid","d","grid","gtc","repeat(8,30px)","d","grid","gtr","35px","gg","5px","pi","center",1,"apparel-colors","bb"],["class","color cp","aaa","","d","g","brra","50%","w","28px","h","28px",3,"selected","click",4,"ngFor","ngForOf"],["aaa","","d","g","gtc","mxc mxc","cg","5px",1,"add-to-cart"],["aaa","","br","1px solid --border-color","d","g","gtc","40px 1px 40px 1px 40px","pi","center",1,"qty"],["aaa","","fs","25px",1,"txt","cp",3,"click"],["aaa","","h","100%","w","100%","bgc","--border-color",1,"line"],[1,"txt"],[1,"txt","cp",3,"click"],["w","200px","js","e","h","40px","mat-raised-button","","aaa","","color","accent",3,"click",4,"ngIf"],["w","200px","js","e","h","40px","mat-raised-button","","aaa","","color","accent",3,"routerLink",4,"ngIf"],[1,"thumbnail"],["alt","Photo","aaa","","w","100%",3,"src","click"],["aaa","","d","g","pi","center","br","1px solid --border-color","brra","10px",1,"size","cp",3,"click"],["aaa","","d","g","brra","50%","w","28px","h","28px",1,"color","cp",3,"click"],["aaa","","ps","center center","brra","50%","w","22px","h","22px",1,"inner-color","bb"],["w","200px","js","e","h","40px","mat-raised-button","","aaa","","color","accent",3,"click"],["w","200px","js","e","h","40px","mat-raised-button","","aaa","","color","accent",3,"routerLink"]],template:function(t,e){1&t&&Co(0,DT,31,13,"div",0),2&t&&Ao("ngIf",!0===e.state.dataFetched)},directives:[gh,xS,fh,bx,Hm],pipes:[Wh],styles:["[_nghost-%COMP%]{display:grid;margin-top:70px;align-self:start}[_nghost-%COMP%]   .product-detail[_ngcontent-%COMP%]{display:grid;justify-self:center}[_nghost-%COMP%]   .size-selection[_ngcontent-%COMP%] > .size.selected[_ngcontent-%COMP%]{border-color:#000!important}[_nghost-%COMP%]   .apparel-colors[_ngcontent-%COMP%]   .color.selected[_ngcontent-%COMP%]{border:1px solid grey}"]}),t})();function NT(t,e){1&t&&Ro(0,"app-product-select",2),2&t&&Ao("product",e.$implicit)}let PT=(()=>{class t{constructor(t){this.state=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(So(gS))},t.\u0275cmp=ye({type:t,selectors:[["app-product-list"]],decls:2,vars:1,consts:[["aaa","","d","grid","gtc","repeat(4,260px)","w","mxc","cg","10px","jc","space-between",1,"product-list"],[3,"product",4,"ngFor","ngForOf"],[3,"product"]],template:function(t,e){1&t&&(Oo(0,"div",0),Co(1,NT,1,1,"app-product-select",1),Do()),2&t&&(gr(1),Ao("ngForOf",e.state.products))},directives:[xS,fh,AI],styles:["[_nghost-%COMP%]{display:grid;margin-top:70px;align-self:start}[_nghost-%COMP%]   .product-list[_ngcontent-%COMP%]{display:grid;justify-self:center}"]}),t})();const FT=function(){return["/admin/product-list"]},MT=function(){return["/admin/categories"]};let LT=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ye({type:t,selectors:[["app-admin-home"]],decls:9,vars:4,consts:[["aaa","","d","g","w","80%","gtc","150px mxc","cg","15px",1,"admin-home"],["aaa","","d","g","h","mxc","p","10px 10px","pi","center start","rg","10px","mh","200px","gar","10px",1,"menu","curved-border"],["aaa","","js","s",1,"txt","cp",3,"routerLink"],["aaa","","js","s",1,"txt","cp"]],template:function(t,e){1&t&&(Oo(0,"div",0),Oo(1,"div",1),Oo(2,"span",2),pa(3,"Products"),Do(),Oo(4,"span",2),pa(5,"Categories"),Do(),Oo(6,"span",3),pa(7,"Shipping Methods"),Do(),Do(),Ro(8,"router-outlet"),Do()),2&t&&(gr(2),Ao("routerLink",Ol(2,FT)),gr(2),Ao("routerLink",Ol(3,MT)))},directives:[xS,Hm,Qm],styles:["[_nghost-%COMP%]{display:grid;margin-top:70px;align-self:start}[_nghost-%COMP%]   .admin-home[_ngcontent-%COMP%]{display:grid;justify-self:center}"]}),t})();function VT(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Id is required "),Do())}function jT(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Title is required "),Do())}function UT(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Description is required "),Do())}function BT(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Start date range is required "),Do())}function qT(t,e){1&t&&(Oo(0,"mat-error"),pa(1," End date range is required "),Do())}function zT(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Initial cost is required "),Do())}function HT(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Incremental cost is required "),Do())}let GT=(()=>{class t{constructor(t,e,n,i){this.dialogRef=t,this.state=e,this.siteService=i,console.log("info",n),this.dialogData=n}ngOnInit(){window.shipOptEditor=this,this.shippingOption=this.dialogData.so,this.setupForm()}setupForm(){this.shippingOptionForm=new sE({id:new rE(null,[mC.required]),title:new rE(null,[mC.required]),method:new rE(null,[]),description:new rE(null,[mC.required]),startDateRange:new rE(null,[mC.required]),endDateRange:new rE(null,[mC.required]),initCost:new rE(null,[mC.required]),increment:new rE(null,[mC.required])}),!0===this.shippingOption.__isEdit&&this.shippingOptionForm.controls.id.disable()}save(){const t=this.shippingOptionForm.getRawValue();1!=this.state.shippingOptions.findIndex(e=>e.id===t.id)>-1?(Object.assign(this.shippingOption,t),this.shippingOption.dateRange[0]=parseInt(t.startDateRange),this.shippingOption.dateRange[1]=parseInt(t.endDateRange),this.dialogRef.close(t)):this.siteService.showInfoDialog({message:"The given Shipping Id already exist. Please choose a new one"},()=>{})}get f(){return this.shippingOptionForm.controls}}return t.\u0275fac=function(e){return new(e||t)(So(nx),So(gS),So(ix),So(Lk))},t.\u0275cmp=ye({type:t,selectors:[["app-shipping-options-editor"]],decls:45,vars:16,consts:[["aaa","","d","g","w","350px","gtc","1fr 1fr","cg","15px",1,"shipping-option",3,"formGroup"],["aaa","","gc","1",1,"item"],["matInput","","type","text","formControlName","id",3,"ngModel"],[4,"ngIf"],["aaa","","gc","2",1,"item"],["matInput","","type","text","formControlName","title",3,"ngModel"],["aaa","","gc","1/3",1,"item"],["matInput","","type","text","formControlName","method",3,"ngModel"],["matInput","","type","text","formControlName","description",3,"ngModel"],["matInput","","type","number","formControlName","startDateRange","min","1",3,"ngModel"],["matInput","","type","number","formControlName","endDateRange","min","1",3,"ngModel"],["matInput","","type","number","formControlName","initCost",3,"ngModel"],["matInput","","type","number","formControlName","increment",3,"ngModel"],["aaa","","d","g","gtc","mxc mxc","cg","10px","mt","10px","gc","1/3","w","100%",1,"actions"],["aaa","","mat-flat-button","","color","accent","as","c",1,"cp",3,"click"],["aaa","","mat-button","","as","c",1,"cp",3,"click"]],template:function(t,e){1&t&&(Oo(0,"form",0),Oo(1,"mat-form-field",1),Oo(2,"mat-label"),pa(3,"Id"),Do(),Ro(4,"input",2),Co(5,VT,2,0,"mat-error",3),Do(),Oo(6,"mat-form-field",4),Oo(7,"mat-label"),pa(8,"Title"),Do(),Ro(9,"input",5),Co(10,jT,2,0,"mat-error",3),Do(),Oo(11,"mat-form-field",6),Oo(12,"mat-label"),pa(13,"Method"),Do(),Ro(14,"input",7),Do(),Oo(15,"mat-form-field",6),Oo(16,"mat-label"),pa(17,"Description"),Do(),Ro(18,"input",8),Co(19,UT,2,0,"mat-error",3),Do(),Oo(20,"mat-form-field",1),Oo(21,"mat-label"),pa(22,"Start Date Range"),Do(),Ro(23,"input",9),Co(24,BT,2,0,"mat-error",3),Do(),Oo(25,"mat-form-field",4),Oo(26,"mat-label"),pa(27,"End Date Range"),Do(),Ro(28,"input",10),Co(29,qT,2,0,"mat-error",3),Do(),Oo(30,"mat-form-field",1),Oo(31,"mat-label"),pa(32,"Initial Cost"),Do(),Ro(33,"input",11),Co(34,zT,2,0,"mat-error",3),Do(),Oo(35,"mat-form-field",4),Oo(36,"mat-label"),pa(37,"Incremental cost"),Do(),Ro(38,"input",12),Co(39,HT,2,0,"mat-error",3),Do(),Oo(40,"div",13),Oo(41,"button",14),Vo("click",(function(){return e.save()})),pa(42,"Save"),Do(),Oo(43,"button",15),Vo("click",(function(){return e.dialogRef.close(void 0)})),pa(44,"Cancel"),Do(),Do(),Do()),2&t&&(Ao("formGroup",e.shippingOptionForm),gr(4),Ao("ngModel",e.shippingOption.id),gr(1),Ao("ngIf",e.f.id.hasError("required")),gr(4),Ao("ngModel",e.shippingOption.title),gr(1),Ao("ngIf",e.f.title.hasError("required")),gr(4),Ao("ngModel",e.shippingOption.method),gr(4),Ao("ngModel",e.shippingOption.description),gr(1),Ao("ngIf",e.f.description.hasError("required")),gr(4),Ao("ngModel",e.shippingOption.dateRange[0]),gr(1),Ao("ngIf",e.f.startDateRange.hasError("required")),gr(4),Ao("ngModel",e.shippingOption.dateRange[1]),gr(1),Ao("ngIf",e.f.endDateRange.hasError("required")),gr(4),Ao("ngModel",e.shippingOption.initCost),gr(1),Ao("ngIf",e.f.initCost.hasError("required")),gr(4),Ao("ngModel",e.shippingOption.increment),gr(1),Ao("ngIf",e.f.increment.hasError("required")))},directives:[vE,uC,xS,CE,nk,$S,gk,nC,cC,OE,gh,xC,bx,BS],styles:["[_nghost-%COMP%]   .item[_ngcontent-%COMP%]{width:100%}"]}),t})();const WT=["input"],$T=function(){return{enterDuration:150}},KT=["*"],YT=new qt("mat-checkbox-default-options",{providedIn:"root",factory:function(){return{color:"accent",clickAction:"check-indeterminate"}}}),QT=new qt("mat-checkbox-click-action");let XT=0;const JT={provide:Xx,useExisting:It(()=>nO),multi:!0};class ZT{}class tO{constructor(t){this._elementRef=t}}const eO=ww(_w(bw(vw(tO))));let nO=(()=>{class t extends eO{constructor(t,e,n,i,r,s,o,a){super(t),this._changeDetectorRef=e,this._focusMonitor=n,this._ngZone=i,this._clickAction=s,this._animationMode=o,this._options=a,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId=`mat-checkbox-${++XT}`,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new jl,this.indeterminateChange=new jl,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||{},this._options.color&&(this.color=this._options.color),this.tabIndex=parseInt(r)||0,this._focusMonitor.monitor(t,!0).subscribe(t=>{t||Promise.resolve().then(()=>{this._onTouched(),e.markForCheck()})}),this._clickAction=this._clickAction||this._options.clickAction}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=mg(t)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const e=mg(t);e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const e=t!=this._indeterminate;this._indeterminate=mg(t),e&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let e=this._currentCheckState,n=this._elementRef.nativeElement;if(e!==t&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const t=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(t)},1e3)})}}_emitChangeEvent(){const t=new ZT;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t)}toggle(){this.checked=!this.checked}_onInputClick(t){t.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(t="keyboard",e){this._focusMonitor.focusVia(this._inputElement,t,e)}_onInteractionEvent(t){t.stopPropagation()}_getAnimationClassForCheckStateTransition(t,e){if("NoopAnimations"===this._animationMode)return"";let n="";switch(t){case 0:if(1===e)n="unchecked-checked";else{if(3!=e)return"";n="unchecked-indeterminate"}break;case 2:n=1===e?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===e?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===e?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${n}`}_syncIndeterminate(t){const e=this._inputElement;e&&(e.nativeElement.indeterminate=t)}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(Hs),So(Pv),So(Oc),ko("tabindex"),So(QT,8),So(aw,8),So(YT,8))},t.\u0275cmp=ye({type:t,selectors:[["mat-checkbox"]],viewQuery:function(t,e){var n;1&t&&(Jl(WT,!0),Jl(Nw,!0)),2&t&&(Ql(n=ic())&&(e._inputElement=n.first),Ql(n=ic())&&(e.ripple=n.first))},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(t,e){2&t&&(ga("id",e.id),wo("tabindex",null),na("mat-checkbox-indeterminate",e.indeterminate)("mat-checkbox-checked",e.checked)("mat-checkbox-disabled",e.disabled)("mat-checkbox-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Fa([JT]),_a],ngContentSelectors:KT,decls:17,vars:19,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,e){if(1&t&&(Go(),Oo(0,"label",0,1),Oo(2,"div",2),Oo(3,"input",3,4),Vo("change",(function(t){return e._onInteractionEvent(t)}))("click",(function(t){return e._onInputClick(t)})),Do(),Oo(5,"div",5),Ro(6,"div",6),Do(),Ro(7,"div",7),Oo(8,"div",8),En(),Oo(9,"svg",9),Ro(10,"path",10),Do(),Qe.lFrame.currentNamespace=null,Ro(11,"div",11),Do(),Do(),Oo(12,"span",12,13),Vo("cdkObserveContent",(function(){return e._onLabelTextChange()})),Oo(14,"span",14),pa(15,"\xa0"),Do(),Wo(16),Do(),Do()),2&t){const t=Eo(1),n=Eo(13);wo("for",e.inputId),gr(2),na("mat-checkbox-inner-container-no-side-margin",!n.textContent||!n.textContent.trim()),gr(1),Ao("id",e.inputId)("required",e.required)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex),wo("value",e.value)("name",e.name)("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby)("aria-checked",e._getAriaChecked()),gr(2),Ao("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",Ol(18,$T))}},directives:[Nw,fv],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox.cdk-keyboard-focused .cdk-high-contrast-active .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),t})();const iO={provide:dC,useExisting:It(()=>rO),multi:!0};let rO=(()=>{class t extends PE{}return t.\u0275fac=function(e){return sO(e||t)},t.\u0275dir=Ee({type:t,selectors:[["mat-checkbox","required","","formControlName",""],["mat-checkbox","required","","formControl",""],["mat-checkbox","required","","ngModel",""]],features:[Fa([iO]),_a]}),t})();const sO=ci(rO);let oO=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)}}),t})(),aO=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[Pw,yw,mv,oO],yw,oO]}),t})();function lO(t,e){if(1&t){const t=Fo();No(0),Oo(1,"mat-checkbox",9),Vo("ngModelChange",(function(n){return tn(t),e.$implicit.__checked=n})),Do(),Oo(2,"span",2),pa(3),Do(),Oo(4,"span",2),pa(5),Do(),Oo(6,"span",2),pa(7),Do(),Oo(8,"span",2),pa(9),Do(),Oo(10,"span",2),pa(11),Do(),Oo(12,"span",2),pa(13),Do(),Oo(14,"span",2),pa(15),Do(),Oo(16,"i",10),Vo("click",(function(){tn(t);const n=e.$implicit;return zo().edit(n)})),pa(17," edit "),Do(),Oo(18,"i",10),Vo("click",(function(){tn(t);const n=e.$implicit;return zo().delete(n)})),pa(19," delete "),Do(),Ro(20,"div",11),Po()}if(2&t){const t=e.$implicit;gr(1),Ao("ngModel",t.__checked)("disabled",!0===t.__alreadyAssignedToProduct),gr(2),fa(t.id),gr(2),fa(t.title),gr(2),fa(t.method),gr(2),fa(t.description),gr(2),fa(t.dateRange.join(" - ")),gr(2),fa(t.initCost),gr(2),fa(t.increment)}}let cO=(()=>{class t{constructor(t,e,n,i,r){this.currDialogRef=t,this.state=e,this.siteService=n,this.shoppingOptionEditorDialog=i,this.dialogData=r,console.log("dialogdata",this.dialogData)}ngOnInit(){var t;this.product=null===(t=this.dialogData)||void 0===t?void 0:t.product,void 0!==this.product&&this.state.shippingOptions.forEach(t=>{-1===this.product.avialableShippingOptions.indexOf(t.id)?(t.__alreadyAssignedToProduct=!1,t.__checked=!1):(t.__checked=!0,t.__alreadyAssignedToProduct=!0)})}getShippingOptions(){return this.state.shippingOptions}addNew(){const t=new Dx("express",[2,3],"Express","Express Shipping",10,2,"");this.shoppingOptionEditorDialog.open(GT,{data:{so:t}}).afterClosed().subscribe(e=>{void 0!==e&&(console.log("reached ehre..."),this.state.shippingOptions.push(t))})}edit(t){const e={so:t};t.__isEdit=!0,this.shoppingOptionEditorDialog.open(GT,{data:e}).afterClosed().subscribe(t=>{void 0!==t&&console.log("reached ehre...")})}delete(t){this.siteService.confirmationPopup("Are you sure you want to delete the shipping option?").subscribe(e=>{"yes"===e&&this.state.shippingOptions.splice(this.state.shippingOptions.indexOf(t),1)})}add(){const t=this.state.shippingOptions.filter(t=>{return!0===t.__checked&&(void 0===(e=t.__alreadyAssignedToProduct)||!1===e);var e});0!==t.length?(t.forEach(t=>this.product.avialableShippingOptions.push(t.id)),this.currDialogRef.close("added")):this.siteService.showInfoDialog({message:"Please select a shipping option to be added"},()=>{})}}return t.\u0275fac=function(e){return new(e||t)(So(nx),So(gS),So(Lk),So(ax),So(ix))},t.\u0275cmp=ye({type:t,selectors:[["app-shipping-list"]],decls:27,vars:1,consts:[["aaa","","d","g","cg","10px","gtc","repeat(9,max-content)","pi","center start","pos","rel",1,"shipping-options"],["mat-mini-fab","","color","accent","aria-label","Add new shipping option","aaa","","pos","abs","r","0px","t","0px",1,"mdb-25",3,"click"],[1,"txt","item"],[1,"txt"],[1,"divider","header"],[4,"ngFor","ngForOf"],["mt","10px","aaa","","d","g","gc","1/span 10","gtc","mxc mxc",1,"actions"],["aaa","","mat-flat-button","","color","accent","as","c",1,"cp",3,"click"],["aaa","","mat-button","","as","c",1,"cp",3,"click"],[3,"ngModel","disabled","ngModelChange"],["aaa","","ps","center",1,"material-icons",3,"click"],[1,"divider"]],template:function(t,e){1&t&&(Oo(0,"div",0),Oo(1,"button",1),Vo("click",(function(){return e.addNew()})),pa(2," + "),Do(),Ro(3,"span",2),Oo(4,"span",2),pa(5,"Id"),Do(),Oo(6,"span",2),pa(7,"Title"),Do(),Oo(8,"span",2),pa(9,"Method"),Do(),Oo(10,"span",2),pa(11,"Description"),Do(),Oo(12,"span",2),pa(13,"Date Range"),Do(),Oo(14,"span",2),pa(15,"Initial Cost"),Do(),Oo(16,"span",2),pa(17,"Increment"),Do(),Ro(18,"span",3),Ro(19,"span",3),Ro(20,"div",4),Co(21,lO,21,9,"ng-container",5),Oo(22,"div",6),Oo(23,"button",7),Vo("click",(function(){return e.add()})),pa(24,"Add"),Do(),Oo(25,"button",8),Vo("click",(function(){return e.currDialogRef.close(void 0)})),pa(26,"Cancel"),Do(),Do(),Do()),2&t&&(gr(21),Ao("ngForOf",e.getShippingOptions()))},directives:[xS,bx,fh,nO,cC,yE],styles:["[_nghost-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(-n+10){font-weight:500}[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]{grid-column:1/span 10}"]}),t})();function uO(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Id is required "),Do())}function hO(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Title is required "),Do())}function dO(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Description is required "),Do())}function pO(t,e){if(1&t){const t=Fo();Oo(0,"i",29),Vo("click",(function(){return tn(t),zo(2).showGalleryImages=!0})),pa(1,"expand_more"),Do()}}function fO(t,e){if(1&t){const t=Fo();Oo(0,"i",29),Vo("click",(function(){return tn(t),zo(2).showGalleryImages=!1})),pa(1,"expand_less"),Do()}}function mO(t,e){1&t&&Ro(0,"app-gallery-image-editor",30),2&t&&Ao("product",zo(2).editProduct)}function gO(t,e){if(1&t){const t=Fo();Oo(0,"i",29),Vo("click",(function(){return tn(t),zo(2).showCategoryAssigner=!0})),pa(1,"expand_more"),Do()}}function yO(t,e){if(1&t){const t=Fo();Oo(0,"i",29),Vo("click",(function(){return tn(t),zo(2).showCategoryAssigner=!1})),pa(1,"expand_less"),Do()}}function vO(t,e){1&t&&Ro(0,"app-product-category-editor",31),2&t&&Ao("product",zo(2).editProduct)}function _O(t,e){if(1&t){const t=Fo();Oo(0,"i",29),Vo("click",(function(){return tn(t),zo(2).showColorVariants=!0})),pa(1,"expand_more"),Do()}}function bO(t,e){if(1&t){const t=Fo();Oo(0,"i",29),Vo("click",(function(){return tn(t),zo(2).showColorVariants=!1})),pa(1,"expand_less"),Do()}}function wO(t,e){1&t&&Ro(0,"app-color-variant-editor",32),2&t&&Ao("product",zo(2).editProduct)}function xO(t,e){if(1&t){const t=Fo();Oo(0,"i",29),Vo("click",(function(){return tn(t),zo(2).showSizeVariants=!0})),pa(1,"expand_more"),Do()}}function CO(t,e){if(1&t){const t=Fo();Oo(0,"i",29),Vo("click",(function(){return tn(t),zo(2).showSizeVariants=!1})),pa(1,"expand_less"),Do()}}function EO(t,e){1&t&&Ro(0,"app-size-variant-editor",32),2&t&&Ao("product",zo(2).editProduct)}function SO(t,e){if(1&t){const t=Fo();Oo(0,"i",29),Vo("click",(function(){return tn(t),zo(2).showShippingOptions=!0})),pa(1,"expand_more"),Do()}}function kO(t,e){if(1&t){const t=Fo();Oo(0,"i",29),Vo("click",(function(){return tn(t),zo(2).showShippingOptions=!1})),pa(1,"expand_less"),Do()}}function IO(t,e){if(1&t){const t=Fo();Oo(0,"div",37),Oo(1,"span",19),pa(2),Do(),Oo(3,"span",19),pa(4),Do(),Oo(5,"span",19),pa(6),Do(),Oo(7,"span",19),pa(8),Do(),Oo(9,"span",19),pa(10),Do(),Oo(11,"span",19),pa(12),Do(),Oo(13,"span",19),pa(14),Do(),Oo(15,"i",38),Vo("click",(function(){tn(t);const n=e.$implicit;return zo(3).deleteShippingOption(n)})),pa(16," delete "),Do(),Do()}if(2&t){const t=e.$implicit;gr(2),fa(t.id),gr(2),fa(t.title),gr(2),fa(t.method),gr(2),fa(t.description),gr(2),fa(t.dateRange.join(" - ")),gr(2),fa(t.initCost),gr(2),fa(t.increment)}}function AO(t,e){if(1&t){const t=Fo();No(0),Oo(1,"div",33),Oo(2,"span",34),pa(3,"Id"),Do(),Oo(4,"span",34),pa(5,"Title"),Do(),Oo(6,"span",34),pa(7,"Method"),Do(),Oo(8,"span",34),pa(9,"Description"),Do(),Oo(10,"span",34),pa(11,"Date Range"),Do(),Oo(12,"span",34),pa(13,"Initial Cost"),Do(),Oo(14,"span",34),pa(15,"Increment"),Do(),Oo(16,"button",35),Vo("click",(function(){return tn(t),zo(2).addNewShippingOption()})),pa(17," + "),Do(),Do(),Co(18,IO,17,7,"div",36),Po()}if(2&t){const t=zo(2);gr(18),Ao("ngForOf",t.getShippingOptions())}}function TO(t,e){1&t&&Ro(0,"mat-spinner",39)}function OO(t,e){1&t&&(Oo(0,"span"),pa(1,"Save"),Do())}function DO(t,e){if(1&t){const t=Fo();Oo(0,"form",1),Oo(1,"div",2),Oo(2,"div",3),Oo(3,"mat-form-field",4),Oo(4,"mat-label"),pa(5,"Id"),Do(),Ro(6,"input",5),Co(7,uO,2,0,"mat-error",6),Do(),Oo(8,"mat-form-field",4),Oo(9,"mat-label"),pa(10,"Title"),Do(),Ro(11,"input",7),Co(12,hO,2,0,"mat-error",6),Do(),Oo(13,"mat-form-field",4),Oo(14,"mat-label"),pa(15,"Price"),Do(),Ro(16,"input",8),Do(),Do(),Oo(17,"mat-form-field"),Oo(18,"mat-label"),pa(19,"Product description"),Do(),Ro(20,"textarea",9),Co(21,dO,2,0,"mat-error",6),Do(),Do(),Oo(22,"div",10),Oo(23,"div",11),Oo(24,"span",12),pa(25,"Gallery Images"),Do(),Co(26,pO,2,0,"i",13),Co(27,fO,2,0,"i",13),Do(),Co(28,mO,1,1,"app-gallery-image-editor",14),Do(),Oo(29,"div",15),Oo(30,"div",16),Oo(31,"span",12),pa(32,"Assign Categories"),Do(),Co(33,gO,2,0,"i",13),Co(34,yO,2,0,"i",13),Do(),Co(35,vO,1,1,"app-product-category-editor",17),Do(),Oo(36,"div",18),Oo(37,"div",11),Oo(38,"span",19),pa(39,"Color Variants"),Do(),Co(40,_O,2,0,"i",13),Co(41,bO,2,0,"i",13),Do(),Co(42,wO,1,1,"app-color-variant-editor",20),Do(),Oo(43,"div",21),Oo(44,"div",22),Oo(45,"span",23),pa(46,"Size Variants"),Do(),Co(47,xO,2,0,"i",13),Co(48,CO,2,0,"i",13),Do(),Co(49,EO,1,1,"app-size-variant-editor",20),Do(),Oo(50,"div",24),Oo(51,"div",22),Oo(52,"span",12),pa(53,"Assigned Shipping Options"),Do(),Co(54,SO,2,0,"i",13),Co(55,kO,2,0,"i",13),Do(),Co(56,AO,19,1,"ng-container",6),Do(),Oo(57,"div",25),Oo(58,"button",26),Vo("click",(function(){return tn(t),zo().saveProuct()})),Co(59,TO,1,0,"mat-spinner",27),Co(60,OO,2,0,"span",6),Do(),Oo(61,"button",28),Vo("click",(function(){return tn(t),zo().cancel()})),pa(62,"Cancel"),Do(),Do(),Do()}if(2&t){const t=zo();Ao("formGroup",t.editProductForm),gr(6),Ao("ngModel",t.editProduct.id),gr(1),Ao("ngIf",t.f.id.hasError("required")),gr(4),Ao("ngModel",t.editProduct.title),gr(1),Ao("ngIf",t.f.title.hasError("required")),gr(4),Ao("ngModel",t.editProduct.price),gr(4),Ao("ngModel",t.editProduct.description),gr(1),Ao("ngIf",t.f.description.hasError("required")),gr(5),Ao("ngIf",!1===t.showGalleryImages),gr(1),Ao("ngIf",!0===t.showGalleryImages),gr(1),Ao("ngIf",!0===t.showGalleryImages),gr(5),Ao("ngIf",!1===t.showCategoryAssigner),gr(1),Ao("ngIf",!0===t.showCategoryAssigner),gr(1),Ao("ngIf",!0===t.showCategoryAssigner),gr(5),Ao("ngIf",!1===t.showColorVariants),gr(1),Ao("ngIf",!0===t.showColorVariants),gr(1),Ao("ngIf",!0===t.showColorVariants),gr(5),Ao("ngIf",!1===t.showSizeVariants),gr(1),Ao("ngIf",!0===t.showSizeVariants),gr(1),Ao("ngIf",!0===t.showSizeVariants),gr(5),Ao("ngIf",!1===t.showShippingOptions),gr(1),Ao("ngIf",!0===t.showShippingOptions),gr(1),Ao("ngIf",!0===t.showShippingOptions),gr(3),Ao("ngIf",!0===t.isProdUpateProgressing),gr(1),Ao("ngIf",!1===t.isProdUpateProgressing)}}let RO=(()=>{class t extends NI{constructor(t,e,n,i,r,s,o){super(t),this.state=t,this.activeRoute=e,this.utilService=n,this.dialog=i,this.siteService=r,this.router=s,this.fireService=o,this.compId="prodedit",this.showColorVariants=!0,this.showGalleryImages=!0,this.showSizeVariants=!0,this.showShippingOptions=!0,this.showCategoryAssigner=!0,this.isProdUpateProgressing=!1}ngOnInit(){super.ngOnInit(),this.activeRoute.paramMap.subscribe(t=>Object(Vk.__awaiter)(this,void 0,void 0,(function*(){var t;void 0!==this.activeRoute.snapshot.params.prodId&&(this.productId=this.activeRoute.snapshot.params.prodId,void 0!==(null===(t=this.state.appUser)||void 0===t?void 0:t.__fireUser)&&this.fetchProduct())})))}fetchProduct(){const t=this.state.products.find(t=>t.id===this.productId);this.editProduct=this.utilService.rawCopy(t),this.setupForm()}get f(){return this.editProductForm.controls}setupForm(){this.editProductForm=new sE({id:new rE(null,[mC.required]),title:new rE(null,[mC.required]),description:new rE(null,[mC.required]),price:new rE(null)})}saveProuct(){return Object(Vk.__awaiter)(this,void 0,void 0,(function*(){const t=this.state.products.find(t=>t.id===this.productId);Object.assign(t,this.editProduct),this.isProdUpateProgressing=!0;const e=yield this.fireService.updateObject(`/products/${t.id}`,t,!1);this.isProdUpateProgressing=!1,console.log("product saved",e),this.router.navigate(["/admin/product-list"])}))}cancel(){this.router.navigate(["/admin/product-list"])}getShippingOptions(){return this.editProduct.avialableShippingOptions.filter(t=>void 0!==this.state.shippingOptions.find(e=>e.id==t)).map(t=>this.state.shippingOptions.find(e=>e.id==t))}addNewShippingOption(){this.dialog.open(cO,{data:{product:this.editProduct}}).afterClosed().subscribe(t=>{void 0!==t&&console.log("reached ehre...")})}deleteShippingOption(t){this.siteService.confirmationPopup("Are you sure you want to delete the shipping option?").subscribe(e=>{if("yes"===e){const e=this.editProduct.avialableShippingOptions.indexOf(t.id);this.editProduct.avialableShippingOptions.splice(e,1)}})}}return t.\u0275fac=function(e){return new(e||t)(So(gS),So(Ff),So(vS),So(ax),So(Lk),So(zm),So(iI))},t.\u0275cmp=ye({type:t,selectors:[["app-product-edit"]],features:[_a],decls:1,vars:1,consts:[["class","curved-border","aaa","","p","10px","w","900px","d","g","rg","10px",3,"formGroup",4,"ngIf"],["aaa","","p","10px","w","900px","d","g","rg","10px",1,"curved-border",3,"formGroup"],["aaa","","d","g","p","10px",1,"input-container","mat-card","section"],["d","g","gtc","200px 300px 100px 1fr","aaa","","gg","15px",1,"id-title"],["aaa",""],["matInput","","type","text","formControlName","id",3,"ngModel"],[4,"ngIf"],["matInput","","type","text","formControlName","title",3,"ngModel"],["matInput","","type","number","formControlName","price",3,"ngModel"],["matInput","","placeholder","description","rows","10","formControlName","description",3,"ngModel"],["aaa","","d","g","mt","10px","p","10px",1,"gallery-images","mat-card","section"],["aaa","","d","g","fw","500","gtc","mxc mxc","cg","10px",1,"variant-header"],["aaa","","fw","500","js","s","mb","5px",1,"txt"],["class","material-icons notranslate",3,"click",4,"ngIf"],[3,"product",4,"ngIf"],["aaa","","d","g","mt","10px",1,"assign-category","mat-card","section"],["aaa","","d","g","fw","500","gtc","mxc mxc","cg","10px",1,"assign-category"],["d","g","aaa","",3,"product",4,"ngIf"],["aaa","","d","g",1,"color-variants","mat-card","section"],[1,"txt"],["aaa","","mt","10px",3,"product",4,"ngIf"],["aaa","","d","g","mt","10px",1,"size-variants","mat-card","section"],["aaa","","d","g","gtc","mxc mxc","cg","10px",1,"variant-header"],["aaa","","fw","500",1,"txt"],["aaa","","d","g","mt","10px",1,"shipping-options","mat-card","section"],["aaa","","d","g","gtc","mxc mxc","cg","10px","mt","10px",1,"actions"],["aaa","","mat-flat-button","","color","accent","as","c",3,"click"],["color","primary","aaa","","diameter","20","w","50px",4,"ngIf"],["aaa","","mat-button","","as","c",3,"click"],[1,"material-icons","notranslate",3,"click"],[3,"product"],["d","g","aaa","",3,"product"],["aaa","","mt","10px",3,"product"],["aaa","","mb","10px","pos","rel",1,"shipping-option","def-btm-border","header"],[1,"txt","item"],["mat-mini-fab","","color","accent","aria-label","Choose new shipping option","aaa","","pos","abs","r","0px",1,"mdb-25",3,"click"],["class","shipping-option def-btm-border","aaa","","d","g","d","grid","gac","mxc","gaf","col",4,"ngFor","ngForOf"],["aaa","","d","g","d","grid","gac","mxc","gaf","col",1,"shipping-option","def-btm-border"],["aaa","","ps","center",1,"material-icons",3,"click"],["color","primary","aaa","","diameter","20","w","50px"]],template:function(t,e){1&t&&Co(0,DO,63,25,"form",0),2&t&&Ao("ngIf",void 0!==e.editProduct)},styles:["[_nghost-%COMP%]   .shipping-option[_ngcontent-%COMP%]{display:grid;grid-template-columns:[id] 100px [title] 100px [method] 100px [description] 200px [daterange] 100px [initcost] 70px [increment] 70px [del] -webkit-max-content;grid-template-columns:[id] 100px [title] 100px [method] 100px [description] 200px [daterange] 100px [initcost] 70px [increment] 70px [del] max-content}[_nghost-%COMP%]   .shipping-option.header[_ngcontent-%COMP%]{font-weight:500px}[_nghost-%COMP%]   .shipping-option[_ngcontent-%COMP%] > span.txt[_ngcontent-%COMP%]{justify-self:start}[_nghost-%COMP%]   .section[_ngcontent-%COMP%]{padding:10px!important}"]}),t})();function NO(t,e){if(1&t){const t=Fo();Oo(0,"i",13),Vo("click",(function(){tn(t);const e=zo().$implicit;return zo().delete(e)})),pa(1," delete "),Do()}}function PO(t,e){1&t&&Ro(0,"mat-spinner",14)}function FO(t,e){if(1&t){const t=Fo();Oo(0,"div",7),Oo(1,"span",8),Vo("click",(function(){tn(t);const n=e.$implicit;return zo().selectProduct(n)})),pa(2),Do(),Oo(3,"span",9),pa(4),Do(),Oo(5,"span",9),pa(6),Do(),Oo(7,"span",9),pa(8),Do(),Oo(9,"i",10),Vo("click",(function(){tn(t);const n=e.$implicit;return zo().edit(n)})),pa(10," edit "),Do(),Co(11,NO,2,0,"i",11),Co(12,PO,1,0,"mat-spinner",12),Do()}if(2&t){const t=e.$implicit,n=zo();gr(2),ma(" ",t.id," "),gr(2),ma(" ",n.getProductCatPath(t)," "),gr(2),ma(" ",t.title," "),gr(2),ma(" ",t.description," "),gr(3),Ao("ngIf",!1===n.isProdDeleteInProgress),gr(1),Ao("ngIf",!0===n.isProdDeleteInProgress)}}let MO=(()=>{class t{constructor(t,e,n,i){this.state=t,this.router=e,this.siteService=n,this.fireService=i,this.isProdDeleteInProgress=!1}ngOnInit(){}getProductCatPath(t){return this.siteService.getTaxonomy(t).map(t=>t.name).join(" > ")}selectProduct(t){this.router.navigate([`/admin/product-edit/${t.id}`])}edit(t){this.router.navigate([`/admin/product-edit/${t.id}`])}delete(t){this.siteService.confirmationPopup(`Are you sure you want to delete the product ${t.id}?`).subscribe(e=>{"yes"===e&&(this.isProdDeleteInProgress=!0,this.state.products.splice(this.state.products.indexOf(t),1),this.fireService.deleteDocument(`/products/${t.id}`),this.isProdDeleteInProgress=!1)})}}return t.\u0275fac=function(e){return new(e||t)(So(gS),So(zm),So(Lk),So(iI))},t.\u0275cmp=ye({type:t,selectors:[["app-product-edit-list"]],decls:11,vars:1,consts:[["aaa","","p","10px","gtr","20px",1,"product-list","curved-border"],[1,"header","product-detail","def-btm-border"],[1,"txt","id","detail-item"],[1,"txt","taxonomy","detail-item"],[1,"txt","title","detail-item"],[1,"txt","description","detail-item"],["class","product-detail def-btm-border","aaa","","d","g",4,"ngFor","ngForOf"],["aaa","","d","g",1,"product-detail","def-btm-border"],["aaa","","d","g","gtc","mxc mxc","cg","3px",1,"txt","id","detail-item","cp",3,"click"],[1,"txt","detail-item"],[1,"material-icons","notranslate",3,"click"],["class","material-icons notranslate","aaa","","gc","delete","gr","1",3,"click",4,"ngIf"],["color","primary","aaa","","diameter","15","w","30px","aaa","","gc","delete","gr","1",4,"ngIf"],["aaa","","gc","delete","gr","1",1,"material-icons","notranslate",3,"click"],["color","primary","aaa","","diameter","15","w","30px","aaa","","gc","delete","gr","1"]],template:function(t,e){1&t&&(Oo(0,"div",0),Oo(1,"div",1),Oo(2,"span",2),pa(3," Id "),Do(),Oo(4,"span",3),pa(5," Taxonomy "),Do(),Oo(6,"span",4),pa(7," Title "),Do(),Oo(8,"span",5),pa(9," Description "),Do(),Do(),Co(10,FO,13,6,"div",6),Do()),2&t&&(gr(10),Ao("ngForOf",e.state.products))},directives:[xS,fh,gh,kk],styles:["[_nghost-%COMP%] > .product-list[_ngcontent-%COMP%] > .product-detail[_ngcontent-%COMP%]{display:grid;grid-template-columns:[id] 120px [taxonomy] 200px [title] 200px [description] 250px [edit] -webkit-max-content [delete] -webkit-max-content;grid-template-columns:[id] 120px [taxonomy] 200px [title] 200px [description] 250px [edit] max-content [delete] max-content;padding:5px 0}[_nghost-%COMP%] > .product-list[_ngcontent-%COMP%] > .product-detail[_ngcontent-%COMP%] > .detail-item[_ngcontent-%COMP%]{justify-self:start!important}[_nghost-%COMP%] > .product-list[_ngcontent-%COMP%] > .product-detail[_ngcontent-%COMP%] > .detail-item.description[_ngcontent-%COMP%]{max-width:250px}[_nghost-%COMP%] > .product-list[_ngcontent-%COMP%] > .product-detail[_ngcontent-%COMP%]:last-child{border-bottom:0}"]}),t})();const LO=["pRef"];function VO(t,e){if(1&t){const t=Fo();Oo(0,"i",16),Vo("click",(function(){return tn(t),zo().toggleExpansion()})),pa(1),Do()}if(2&t){const t=zo();gr(1),ma(" ",t.isExpanded?"expand_more":"chevron_right"," ")}}function jO(t,e){1&t&&Ro(0,"span")}function UO(t,e){if(1&t){const t=Fo();Oo(0,"i",17),Vo("click",(function(){tn(t);const e=zo();return e.delete(e.node)})),pa(1," delete "),Do()}}function BO(t,e){1&t&&Ro(0,"app-nested-tree-node",20),2&t&&Ao("node",e.$implicit)}function qO(t,e){if(1&t&&(No(0),Co(1,BO,1,1,"app-nested-tree-node",18),Oo(2,"i",19),pa(3," add "),Do(),Po()),2&t){const t=zo();gr(1),Ao("ngForOf",t.getChildren()),gr(1),wo("trigger-for",t.node.baseId)}}function zO(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Category name is required "),Do())}let HO=(()=>{class t{constructor(t,e,n){this.state=t,this.siteService=e,this.renderer=n,this.randomNum=1,this.isExpanded=!1,this.show=!1,this.randomNum=Math.random()}ngOnInit(){this.setupForm(),console.log("rand in init",this.randomNum,this.node.name)}toggleExpansion(){this.isExpanded=!this.isExpanded}setupForm(){this.newCategoryForm=new sE({name:new rE(null,[mC.required]),description:new rE(null,[])})}delete(t){this.siteService.confirmationPopup("Are you sure you want to delete the category?").subscribe(e=>{"yes"===e&&this.state.categories.splice(this.state.categories.indexOf(t),1)})}getChildren(){return this.node.getChildren(this.state)}isRootNode(){return this.node.isRootNode()}save(){if(!0===this.newCategoryForm.valid){const t=this.newCategoryForm.getRawValue();this.node.addChild(this.state,t),this.siteService.closeModalPopup(this.node.baseId),this.show=!1}}get f(){return this.newCategoryForm.controls}}return t.\u0275fac=function(e){return new(e||t)(So(gS),So(Lk),So(za))},t.\u0275cmp=ye({type:t,selectors:[["app-nested-tree-node"]],viewQuery:function(t,e){var n;1&t&&Jl(LO,!0),2&t&&Ql(n=ic())&&(e.pRef=n.first)},inputs:{node:"node"},decls:26,vars:9,consts:[["aaa","","d","g",1,"tree-node"],["aaa","","d","g","gtc","20px max-content 20px",1,"node-name"],["class","material-icons","aaa","","ps","center",3,"click",4,"ngIf","ngIfElse"],["dummy",""],[1,"txt"],["class","material-icons add","aaa","","ps","center",3,"click",4,"ngIf"],[4,"ngIf"],["aaa","",1,"modal-popup","add-category"],["pRef",""],["aaa","","d","g",1,"",3,"formGroup"],["aaa","","fw","500",1,"txt"],["aaa","","w","200px"],["matInput","","type","text","formControlName","name"],["aaa","","w","300px"],["matInput","","type","text","formControlName","description"],["aaa","","mat-flat-button","","color","primary","as","c",1,"add",3,"disabled","click"],["aaa","","ps","center",1,"material-icons",3,"click"],["aaa","","ps","center",1,"material-icons","add",3,"click"],["aaa","","pl","15px",3,"node",4,"ngFor","ngForOf"],["aaa","","pl","35px",1,"material-icons","add"],["aaa","","pl","15px",3,"node"]],template:function(t,e){if(1&t&&(Oo(0,"div",0),Oo(1,"div",1),Co(2,VO,2,1,"i",2),Co(3,jO,1,0,"ng-template",null,3,ac),Oo(5,"span",4),pa(6),Do(),Co(7,UO,2,0,"i",5),Do(),Co(8,qO,4,2,"ng-container",6),Do(),Oo(9,"div",7,8),Oo(11,"form",9),Oo(12,"span",10),pa(13,"Add new Category"),Do(),Oo(14,"mat-form-field",11),Oo(15,"mat-label"),pa(16,"Category Name"),Do(),Ro(17,"input",12),Co(18,zO,2,0,"mat-error",6),Do(),Oo(19,"mat-form-field",13),Oo(20,"mat-label"),pa(21,"Description"),Do(),Ro(22,"input",14),Do(),Oo(23,"button",15),Vo("click",(function(){return e.save()})),Oo(24,"span"),pa(25,"Add"),Do(),Do(),Do(),Do()),2&t){const t=Eo(4);var n;const i=(null==(n=e.getChildren())?null:n.length)>0;gr(2),Ao("ngIf",i)("ngIfElse",t),gr(4),fa(e.node.name),gr(1),Ao("ngIf",!e.isRootNode()),gr(1),Ao("ngIf",!0===e.isExpanded),gr(1),wo("modal-id",e.node.baseId),gr(2),Ao("formGroup",e.newCategoryForm),gr(7),Ao("ngIf",e.f.name.hasError("required")),gr(5),Ao("disabled",!1===e.newCategoryForm.valid)}},directives:[xS,gh,vE,uC,CE,nk,$S,gk,nC,cC,OE,bx,fh,t,BS],styles:[".material-icons.add[_ngcontent-%COMP%]{font-size:17px}"]}),t})();function GO(t,e){1&t&&Ro(0,"app-nested-tree-node",2),2&t&&Ao("node",e.$implicit)}let WO=(()=>{class t{constructor(t){this.state=t,this.rootCategories=[]}ngOnInit(){this.rootCategories=this.state.categories.filter(t=>""===t.parentId)}}return t.\u0275fac=function(e){return new(e||t)(So(gS))},t.\u0275cmp=ye({type:t,selectors:[["app-tree-node"]],decls:2,vars:1,consts:[["aaa","","w","400px","h","300px","p","10px",1,"category-tree","curved-border"],[3,"node",4,"ngFor","ngForOf"],[3,"node"]],template:function(t,e){1&t&&(Oo(0,"div",0),Co(1,GO,1,1,"app-nested-tree-node",1),Do()),2&t&&(gr(1),Ao("ngForOf",e.rootCategories))},directives:[xS,fh,HO],styles:[""]}),t})();const $O=function(){return["/checkout/start"]};function KO(t,e){if(1&t&&(Oo(0,"div",2),Ro(1,"img",3),Oo(2,"span",4),pa(3),Do(),Oo(4,"span",5),pa(5),Pl(6,"currency"),Do(),Oo(7,"button",6),pa(8,"View"),Do(),Do()),2&t){const t=e.$implicit;gr(3),fa(t.title),gr(2),fa(Ml(6,3,t.price,"USD")),gr(2),Ao("routerLink",Ol(6,$O))}}let YO=(()=>{class t{constructor(){}ngOnInit(){}getList(){return Array(12).fill({}).map(t=>({title:"Mom holding child, luxury Necklace",price:29.99}))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ye({type:t,selectors:[["app-test"]],decls:2,vars:1,consts:[["aaa","","d","g","gtc","repeat(4,200px)","m","30px","cg","30px","rg","20px","js","center",1,"prod-list"],["aaa","","d","g","class","product mat-card","p","10px","rg","10px",4,"ngFor","ngForOf"],["aaa","","d","g","p","10px","rg","10px",1,"product","mat-card"],["src","/assets/prod-1.jpg","alt","","aaa","","w","100%"],["aaa","",1,"txt"],["aaa","","clr","#b97000",1,"price"],["mat-flat-button","","aaa","","color","accent","w","100%","js","c","h","30px","bgc","#ffb94d",3,"routerLink"]],template:function(t,e){1&t&&(Oo(0,"div",0),Co(1,KO,9,7,"div",1),Do()),2&t&&(gr(1),Ao("ngForOf",e.getList()))},directives:[xS,fh,bx,Hm],pipes:[Wh],styles:["[_nghost-%COMP%], [_nghost-%COMP%]   .prod-list[_ngcontent-%COMP%]{justify-self:center}[_nghost-%COMP%]   .prod-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,200px);-moz-column-gap:30px;column-gap:30px;row-gap:20px}[_nghost-%COMP%]   .prod-list[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]{display:grid;padding:10px;row-gap:10px;background-image:linear-gradient(#fff,#e2e1e1);box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}[_nghost-%COMP%]   .prod-list[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .prod-list[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:#b97000}[_nghost-%COMP%]   .prod-list[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:30px;background:#b97000}"]}),t})();const QO=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"test",pathMatch:"full",component:YO},{path:"",component:FI,children:[{path:"home",component:RI},{path:"userreg",component:rA},{path:"signin",component:dA},{path:"forgotpswd",component:vA},{path:"cart",component:BI},{path:"order-complete",component:ET},{path:"product-detail/:prodId",component:RT},{path:"product-list",component:PT},{path:"admin",component:LT,children:[{path:"",redirectTo:"product-list",pathMatch:"full"},{path:"product-list",component:MO},{path:"product-edit/:prodId",component:RO},{path:"categories",component:WO},{path:"shipping-options",component:cO}]}]},{path:"checkout",component:GI,children:[{path:"start",component:XA},{path:"payment",component:vT},{path:"edit-ship-address",component:XA}]},{path:"**",redirectTo:"not-found"}];let XO=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[og.forRoot(QO)],og]}),t})(),JO=(()=>{class t{constructor(t,e){this.state=t,this.siteService=e,window.testdata=this}setDesignData(){this.state.desingData=[{designId:"mustang-01",designType:Hx.CARS_MUSTANG,tagName:"cars",folderName:"cars-mustang",imageName:"mustang-01.png",title:"Ford Mustang"},{designId:"mustang-02",designType:Hx.CARS_MUSTANG,tagName:"cars",folderName:"cars-mustang",imageName:"mustang-02.png",title:"Ford Mustang"},{designId:"mustang-03",designType:Hx.CARS_MUSTANG,tagName:"cars",folderName:"cars-mustang",imageName:"mustang-03.png",title:"Ford Mustang"},{designId:"mustang-04",designType:Hx.CARS_MUSTANG,tagName:"cars",folderName:"cars-mustang",imageName:"mustang-04.png",title:"Ford Mustang"},{designId:"mustang-05",designType:Hx.CARS_MUSTANG,tagName:"cars",folderName:"cars-mustang",imageName:"mustang-05.png",title:"Ford Mustang"},{designId:"mustang-06",designType:Hx.CARS_MUSTANG,tagName:"cars",folderName:"cars-mustang",imageName:"mustang-06.png",title:"Ford Mustang"},{designId:"mustang-07",designType:Hx.CARS_MUSTANG,tagName:"cars",folderName:"cars-mustang",imageName:"mustang-07.png",title:"Ford Mustang"},{designId:"mustang-08",designType:Hx.CARS_MUSTANG,tagName:"cars",folderName:"cars-mustang",imageName:"mustang-08.png",title:"Ford Mustang"},{designId:"mustang-09",designType:Hx.CARS_MUSTANG,tagName:"cars",folderName:"cars-mustang",imageName:"mustang-09.png",title:"Ford Mustang"},{designId:"mustang-10",designType:Hx.CARS_MUSTANG,tagName:"cars",folderName:"cars-mustang",imageName:"mustang-10.png",title:"Ford Mustang"},{designId:"mustang-11",designType:Hx.CARS_MUSTANG,tagName:"cars",folderName:"cars-mustang",imageName:"mustang-11.png",title:"Ford Mustang"},{designId:"mustang-12",designType:Hx.CARS_MUSTANG,tagName:"cars",folderName:"cars-mustang",imageName:"mustang-12.png",title:"Ford Mustang"},{designId:"mustang-13",designType:Hx.CARS_MUSTANG,tagName:"cars",folderName:"cars-mustang",imageName:"mustang-13.png",title:"Ford Mustang"},{designId:"mustang-14",designType:Hx.CARS_MUSTANG,tagName:"cars",folderName:"cars-mustang",imageName:"mustang-14.png",title:"Ford Mustang"},{designId:"mustang-15",designType:Hx.CARS_MUSTANG,tagName:"cars",folderName:"cars-mustang",imageName:"mustang-15.png",title:"Ford Mustang"},{designId:"mustang-16",designType:Hx.CARS_MUSTANG,tagName:"cars",folderName:"cars-mustang",imageName:"mustang-16.png",title:"Ford Mustang"},{designId:"mustang-17",designType:Hx.CARS_MUSTANG,tagName:"cars",folderName:"cars-mustang",imageName:"mustang-17.png",title:"Ford Mustang"},{designId:"mustang-18",designType:Hx.CARS_MUSTANG,tagName:"cars",folderName:"cars-mustang",imageName:"mustang-18.png",title:"Ford Mustang"},{designId:"mustang-19",designType:Hx.CARS_MUSTANG,tagName:"cars",folderName:"cars-mustang",imageName:"mustang-19.png",title:"Ford Mustang"},{designId:"mustang-20",designType:Hx.CARS_MUSTANG,tagName:"cars",folderName:"cars-mustang",imageName:"mustang-20.png",title:"Ford Mustang"}]}setTestUser(){this.state.appUser.savedShippingAddress={fName:"Anoop",lName:"Isaac",line1:"123 silly road",city:"Inverness",country:"USA",state:"DE",pin:60010,baseId:"ship-addr-1"}}setupCartData(){const t=new Ix,e=this.getProductSku(),n=new Ax;Object.assign(n,{productSku:e,qty:1}),t.cartLines=[n],this.state.cart=t,t.contactEmail="anoop@gmail.com"}getProductSku(){const t=this.state.products[0],e=t.colorVariants[0],n=t.sizeVariants[0],i=new jx;return Object.assign(i,{__color:e,__sizeVariant:n,__product:t,colorKey:e.colorKey,sizeKey:n.sizeKey,productId:t.id,baseId:"sku-1"}),i}setCategoryData(){const t=new Ux("","Men"),e=new Ux(t.baseId,"T-Shirt"),n=new Ux(e.baseId,"V-Neck");this.state.categories=[t,e,n]}setProductData(){const t=this.getProduct();this.state.products=[t]}getProduct(){const t={title:"Cotton T-shirt Round Neck",description:"wer\nwrewrwerwer\n\nwerwrewq",id:Bx.MEN_VNECK,colorVariants:this.getColorVariants(),categories:[this.state.categories[0].baseId],avialableShippingOptions:[this.state.shippingOptions[0].id,this.state.shippingOptions[1].id],sizeVariants:{[Wx.THREE_TO_6]:{sizeKey:Wx.THREE_TO_6,price:1},[Wx.SIX_TO_9]:{sizeKey:Wx.SIX_TO_9,price:1},[Wx.NINE_TO_12]:{sizeKey:Wx.NINE_TO_12,price:1},[Wx.TWELVE_TO_15]:{sizeKey:Wx.TWELVE_TO_15,price:1}},galleryImages:{1234:{imgUrl:this.siteService.getGalleryImgByPrefix("men/tshirt/vneck/red.jpg")}}},e=new Fx;return Object.assign(e,t),e.__selectedSize=Object.values(e.sizeVariants)[0],e.__selectedColor=e.colorVariants[0],e}setShippingOption(){this.state.shippingOptions=[{id:"regular",initCost:3.99,dateRange:[6,10],description:"regular",title:"Regular",increment:.6},{id:"rush",initCost:6.99,dateRange:[3,8],description:"rush",title:"Rush",increment:.6}]}fillTreeNode(){}getColorVariants(){return[Vx.GOLDENYELLOW,Vx.MAROON,Vx.PURPLE,Vx.RED,Vx.STEELGREY,Vx.BRICKRED,Vx.OLIVEGREEN,Vx.SKYBLUE,Vx.CHARCOALMELANGE,Vx.GREEN,Vx.GREYMELANGE,Vx.ROYALBLUE,Vx.WHITE,Vx.FLAGGREEN].map(t=>new Lx(t,"/assets/images/MEN_VNECK/red.jpg","red"))}getDesignsById(t){return this.state.desingData.find(e=>e.designId===t)}setupMasterColorVariants(){this.state.masterColorVariants=[new Lx(Vx.MAROON,"maroon.png","maroon"),new Lx(Vx.PURPLE,"purple.png","purple"),new Lx(Vx.YELLOW,"yellow.png","yellow"),new Lx(Vx.RED,"red.png","red"),new Lx(Vx.SKYBLUE,"skyblue.png","#87ceeb"),new Lx(Vx.BLACK,"black.png","black"),new Lx(Vx.CHARCOALMELANGE,"charcoalmelange.png","#36454f"),new Lx(Vx.GREEN,"green.png","green"),new Lx(Vx.GREYMELANGE,"greymelange.png","#808080"),new Lx(Vx.NAVYBLUE,"navyblue.png","#000080"),new Lx(Vx.ROYALBLUE,"royalblue.png","#4169e1"),new Lx(Vx.WHITE,"white.png","white"),new Lx(Vx.FLAGGREEN,"flaggreen.png","#138808"),new Lx(Vx.GOLDENYELLOW,"goldenyellow.png","#FFDF00"),new Lx(Vx.COFFEEBROWN,"coffeebrown.png","#4a2c2a"),new Lx(Vx.PETROLBLUE,"petrolblue.png","#1f2737"),new Lx(Vx.STEELGREY,"steelgrey.png","#7b9095"),new Lx(Vx.BRICKRED,"brickred.png","#cb4154"),new Lx(Vx.OLIVEGREEN,"olivegreen.png","#bab86c")]}}return t.\u0275fac=function(e){return new(e||t)(Jt(gS),Jt(Lk))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ZO=(()=>{class t{constructor(t,e,n,i,r,s,o,a){this.fireService=t,this.state=e,this.userService=n,this.afAuth=i,this.cartService=r,this.siteService=s,this.zone=o,this.utilService=a,window.action=this}loadUserItems(t){return Object(Vk.__awaiter)(this,void 0,void 0,(function*(){const e=`/users/${t.uid}`,n=yield this.fireService.getDocument(`${e}`);console.log("reach========"),this.state.appUser=n;const i=new Ix;if(i.cartLines=[],void 0!==n.cart){Object.assign(i,n.cart);const t=n.cart.cartLineMap;if(void 0!==t)for(let e in t){const n=t[e],r=n.productSku,s=this.state.products.find(t=>t.id===r.productId),o=s.colorVariants.find(t=>t.colorKey===r.colorKey),a=Object.values(s.sizeVariants).find(t=>t.sizeKey===r.sizeKey);r.__product=s,r.__color=o,r.__sizeVariant=a,i.cartLines.push(n)}}this.state.cart=i,n.__fireUser=t,this.state.dataFetched=!0,this.zone.run(()=>{console.log("reqewr");const t=this.utilService.getComponent("checkship");void 0!==t&&t.setCheckoutData();const e=this.utilService.getComponent("ordconf");void 0!==e&&e.fetchOrder();const n=this.utilService.getComponent("proddetail");void 0!==n&&n.fetchProduct();const i=this.utilService.getComponent("prodedit");void 0!==i&&i.fetchProduct()})}))}getOrders(){return Object(Vk.__awaiter)(this,void 0,void 0,(function*(){const t=this.siteService.getUserLocation();return yield this.fireService.getCollection(`${t}/orderLines`)}))}getProducts(){return Object(Vk.__awaiter)(this,void 0,void 0,(function*(){const t=yield this.fireService.getCollection("/products");this.state.products=t}))}signInAnonymous(){return Object(Vk.__awaiter)(this,void 0,void 0,(function*(){try{const t=yield this.userService.signInAnonymous();this.fireService.updateUser(t.user.uid,{}),console.log("found the result"),this.state.appUser.__fireUser=t.user}catch(t){console.error("signin anony error",t)}}))}logout(){return Object(Vk.__awaiter)(this,void 0,void 0,(function*(){yield this.afAuth.auth.signOut(),this.state.dataFetched=!1}))}}return t.\u0275fac=function(e){return new(e||t)(Jt(iI),Jt(gS),Jt($I),Jt(WI),Jt(sI),Jt(Lk),Jt(Oc),Jt(vS))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),tD=(()=>{class t extends NI{constructor(t,e,n,i,r){super(e),this.siteService=t,this.state=e,this.testDataService=n,this.afAuth=i,this.actionService=r,this.compId="app",this.title="my-angular-ecommerce"}ngOnInit(){this.handleModelOpen(),this.siteService.setScreenSize(),window.state=this.state,this.state.appUser=new kx,this.afAuth.auth.onAuthStateChanged(t=>Object(Vk.__awaiter)(this,void 0,void 0,(function*(){console.log("user in main",t),null==t?this.actionService.signInAnonymous():this.actionService.loadUserItems(t)}))),this.setupForTesting()}handleModelOpen(){$(".my-menu").toArray().forEach(t=>{t.style.display="none"}),$("body").on("click","[trigger-for]",t=>{const e=$(t.currentTarget).attr("trigger-for");this.siteService.openModalPopup(e),console.log("reached here",t.currentTarget)}),$("body").on("click",".overlay-backdrop",t=>{const e=$(t.currentTarget).attr("modal-id");this.siteService.closeModalPopup(e)})}setupForTesting(){this.testDataService.setShippingOption(),this.testDataService.setupMasterColorVariants(),this.testDataService.setTestUser(),this.testDataService.setCategoryData(),this.testDataService.setProductData(),this.testDataService.fillTreeNode()}}return t.\u0275fac=function(e){return new(e||t)(So(Lk),So(gS),So(JO),So(WI),So(ZO))},t.\u0275cmp=ye({type:t,selectors:[["app-root"]],features:[_a],decls:1,vars:0,template:function(t,e){1&t&&Ro(0,"router-outlet")},directives:[Qm],styles:["[_nghost-%COMP%]{display:grid;height:100%}"]}),t})();function eD(t,e){if(1&t&&(Oo(0,"div",3),Ro(1,"div",4),Do()),2&t){const t=zo(2);ea("color",t.color),gr(1),ea("width",t.diameter)("height",t.diameter)}}function nD(t,e){if(1&t&&(Oo(0,"div",5),Oo(1,"div",6),Ro(2,"div",7),Do(),Do()),2&t){const t=zo().ngIf,e=zo();ea("color",e.color),gr(1),ea("background",e.color,Zi)("height",e.height)("width",t+"%"),gr(1),ea("height",e.height)}}function iD(t,e){if(1&t&&(No(0),Co(1,eD,2,6,"div",1),Co(2,nD,3,10,"div",2),Po()),2&t){const t=zo();gr(1),Ao("ngIf",t.includeSpinner),gr(1),Ao("ngIf",t.includeBar)}}let rD=(()=>{class t{constructor(t){this.platformId=t,this.progress$=(new S).pipe(lv(0)),this._pendingRequests=0,this._value=0}start(t=2){++this._pendingRequests,0!==this._value&&1!==this._pendingRequests||this.set(1===this._pendingRequests&&this._value>0?this._value:t)}stop(){for(this.complete();this._pendingRequests>0;)this.complete()}complete(){0===this._pendingRequests&&0===this._value||(this._pendingRequests>0&&--this._pendingRequests,(0===this._pendingRequests||0===this._pendingRequests&&this._value>0)&&(100!==this._value&&this.set(100),setTimeout(()=>this.set(0),500)))}set(t){Xh(this.platformId)?(0===t&&this._pendingRequests>0&&(t=2),this._value=t,this.progress$.next(t),0!==this._pendingRequests&&(clearTimeout(this._incTimeout),this._value>0&&this._value<100&&(this._incTimeout=setTimeout(()=>this.increment(),250)))):this._pendingRequests=0}increment(t=0){t>0&&this.set(this._value+t);const e=this._value;t=e>=0&&e<25?3*Math.random()+3:e>=25&&e<65?3*Math.random():e>=65&&e<90?2*Math.random():e>=90&&e<99?.5:0,this.set(this._value+t)}ngOnDestroy(){this.progress$.complete()}}return t.\u0275fac=function(e){return new(e||t)(Jt(fc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=ft({factory:function(){return new t(Zt(fc))},token:t,providedIn:"root"}),t})(),sD=(()=>{class t{constructor(t){this.loader=t,this.includeSpinner=!0,this.includeBar=!0,this.fixed=!0,this.value=null}}return t.\u0275fac=function(e){return new(e||t)(So(rD))},t.\u0275cmp=ye({type:t,selectors:[["ngx-loading-bar"]],hostVars:2,hostBindings:function(t,e){2&t&&na("loading-bar-fixed",e.fixed)},inputs:{includeSpinner:"includeSpinner",includeBar:"includeBar",fixed:"fixed",value:"value",color:"color",height:"height",diameter:"diameter"},decls:2,vars:3,consts:[[4,"ngIf"],["id","loading-bar-spinner",3,"color",4,"ngIf"],["id","loading-bar",3,"color",4,"ngIf"],["id","loading-bar-spinner"],[1,"spinner-icon"],["id","loading-bar"],[1,"bar"],[1,"peg"]],template:function(t,e){1&t&&(Co(0,iD,3,2,"ng-container",0),Pl(1,"async")),2&t&&Ao("ngIf",null!==e.value?e.value:Fl(1,1,e.loader.progress$))},directives:[gh],pipes:[Rh],styles:["[_nghost-%COMP%]{position:relative;display:block}.loading-bar-fixed[_nghost-%COMP%] > div[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{position:fixed}.loading-bar-fixed[_nghost-%COMP%] > div#loading-bar-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   .loading-bar-fixed[_nghost-%COMP%] > div#loading-bar-spinner[_ngcontent-%COMP%]{right:10px;left:unset}.loading-bar-fixed[_nghost-%COMP%] > div[_ngcontent-%COMP%]   .peg[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{pointer-events:none;transition:350ms linear;color:#29d}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{transition:width 350ms;background:#29d;position:absolute;z-index:10002;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%] > div[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{right:0;left:unset}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   .peg[_ngcontent-%COMP%]{display:none;position:absolute;width:70px;right:0;top:0;height:2px;opacity:.45;box-shadow:1px 0 6px 1px;color:inherit;border-radius:100%}[_nghost-%COMP%] > div#loading-bar-spinner[_ngcontent-%COMP%]{display:block;position:absolute;z-index:10002;top:5px;left:0}[_nghost-%COMP%] > div#loading-bar-spinner[_ngcontent-%COMP%]   .spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:2px solid transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;-webkit-animation:.4s linear infinite loading-bar-spinner;animation:.4s linear infinite loading-bar-spinner}@-webkit-keyframes loading-bar-spinner{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes loading-bar-spinner{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}"]}),t})(),oD=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[Qh]]}),t})();function aD(t,e=Mg){var n;const i=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new lD(i,e))}class lD{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new cD(t,this.delay,this.scheduler))}}class cD extends f{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,i=t.scheduler,r=t.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){const e=Math.max(0,n[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(cD.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new uD(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(Xg.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(Xg.createComplete()),this.unsubscribe()}}class uD{constructor(t,e){this.time=t,this.notification=e}}const hD=["mat-menu-item",""],dD=["*"];function pD(t,e){if(1&t){const t=Fo();Oo(0,"div",0),Vo("keydown",(function(e){return tn(t),zo()._handleKeydown(e)}))("click",(function(){return tn(t),zo().closed.emit("click")}))("@transformMenu.start",(function(e){return tn(t),zo()._onAnimationStart(e)}))("@transformMenu.done",(function(e){return tn(t),zo()._onAnimationDone(e)})),Oo(1,"div",1),Wo(2),Do(),Do()}if(2&t){const t=zo();Ao("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),wo("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const fD={transformMenu:Uv("transformMenu",[Gv("void",Hv({opacity:0,transform:"scale(0.8)"})),$v("void => enter",qv([Yv(".mat-menu-content, .mat-mdc-menu-content",Bv("100ms linear",Hv({opacity:1}))),Bv("120ms cubic-bezier(0, 0, 0.2, 1)",Hv({transform:"scale(1)"}))])),$v("* => void",Bv("100ms 25ms linear",Hv({opacity:0})))]),fadeInItems:Uv("fadeInItems",[Gv("showing",Hv({opacity:1})),$v("void => *",[Hv({opacity:0}),Bv("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let mD=(()=>{class t{constructor(t,e,n,i,r,s,o){this._template=t,this._componentFactoryResolver=e,this._appRef=n,this._injector=i,this._viewContainerRef=r,this._document=s,this._changeDetectorRef=o,this._attached=new S}attach(t={}){this._portal||(this._portal=new Cy(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new ky(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const e=this._template.elementRef.nativeElement;e.parentNode.insertBefore(this._outlet.outletElement,e),this._changeDetectorRef&&this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,t),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return t.\u0275fac=function(e){return new(e||t)(So(cl),So(Va),So(Qc),So(oo),So(hl),So(cu),So(Hs))},t.\u0275dir=Ee({type:t,selectors:[["ng-template","matMenuContent",""]]}),t})();const gD=new qt("MAT_MENU_PANEL");class yD{}const vD=bw(vw(yD));let _D=(()=>{class t extends vD{constructor(t,e,n,i){super(),this._elementRef=t,this._focusMonitor=n,this._parentMenu=i,this.role="menuitem",this._hovered=new S,this._focused=new S,this._highlighted=!1,this._triggersSubmenu=!1,n&&n.monitor(this._elementRef,!1),i&&i.addItem&&i.addItem(this),this._document=e}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement,e=this._document?this._document.TEXT_NODE:3;let n="";if(t.childNodes){const i=t.childNodes.length;for(let r=0;r<i;r++)t.childNodes[r].nodeType===e&&(n+=t.childNodes[r].textContent)}return n.trim()}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(cu),So(Pv),So(gD,8))},t.\u0275cmp=ye({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&Vo("click",(function(t){return e._checkDisabled(t)}))("mouseenter",(function(){return e._handleMouseEnter()})),2&t&&(wo("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),na("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[_a],attrs:hD,ngContentSelectors:dD,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(Go(),Wo(0),Ro(1,"div",0)),2&t&&(gr(1),Ao("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[Nw],encapsulation:2,changeDetection:0}),t})();const bD=new qt("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let wD=0,xD=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Bl,this._tabSubscription=h.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new S,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new jl,this.close=this.closed,this.panelId=`mat-menu-panel-${wD++}`}get xPosition(){return this._xPosition}set xPosition(t){"before"!==t&&"after"!==t&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){"above"!==t&&"below"!==t&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=mg(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=mg(t)}set panelClass(t){const e=this._previousPanelClass;e&&e.length&&e.split(" ").forEach(t=>{this._classList[t]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(t=>{this._classList[t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Cv(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(gp(this._directDescendantItems),dp(t=>Y(...t.map(t=>t._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(gp(this._directDescendantItems),dp(t=>Y(...t.map(t=>t._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const e=t.keyCode,n=this._keyManager;switch(e){case 27:Ty(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case 36:case 35:Ty(t)||(36===e?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:38!==e&&40!==e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.asObservable().pipe(op(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length){let t=this._directDescendantItems.first._getHostElement().parentElement;for(;t;){if("menu"===t.getAttribute("role")){t.focus();break}t=t.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const e=`mat-elevation-z${Math.min(4+t,24)}`,n=Object.keys(this._classList).find(t=>t.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}setPositionClasses(t=this.xPosition,e=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(gp(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(Oc),So(bD))},t.\u0275dir=Ee({type:t,contentQueries:function(t,e,n){var i;1&t&&(tc(n,mD,!0),tc(n,_D,!0),tc(n,_D,!1)),2&t&&(Ql(i=ic())&&(e.lazyContent=i.first),Ql(i=ic())&&(e._allItems=i),Ql(i=ic())&&(e.items=i))},viewQuery:function(t,e){var n;1&t&&Jl(cl,!0),2&t&&Ql(n=ic())&&(e.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t})(),CD=(()=>{class t extends xD{}return t.\u0275fac=function(e){return ED(e||t)},t.\u0275dir=Ee({type:t,features:[_a]}),t})();const ED=ci(CD);let SD=(()=>{class t extends CD{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(Oc),So(bD))},t.\u0275cmp=ye({type:t,selectors:[["mat-menu"]],exportAs:["matMenu"],features:[Fa([{provide:gD,useExisting:CD},{provide:CD,useExisting:t}]),_a],ngContentSelectors:dD,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,e){1&t&&(Go(),Co(0,pD,3,6,"ng-template"))},directives:[hh],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[fD.transformMenu,fD.fadeInItems]},changeDetection:0}),t})();const kD=new qt("mat-menu-scroll-strategy"),ID={provide:kD,deps:[ev],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},AD=cy({passive:!0});let TD=(()=>{class t{constructor(t,e,n,i,r,s,o,a){this._overlay=t,this._element=e,this._viewContainerRef=n,this._parentMenu=r,this._menuItemInstance=s,this._dir=o,this._focusMonitor=a,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=h.EMPTY,this._hoverSubscription=h.EMPTY,this._menuCloseSubscription=h.EMPTY,this._handleTouchStart=()=>this._openedBy="touch",this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new jl,this.onMenuOpen=this.menuOpened,this.menuClosed=new jl,this.onMenuClose=this.menuClosed,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,AD),s&&(s._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=i}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.asObservable().subscribe(t=>{this._destroyMenu(),"click"!==t&&"tab"!==t||!this._parentMenu||this._parentMenu.closed.emit(t)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,AD),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),e=t.getConfig();this._setPosition(e.positionStrategy),e.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof CD&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}_destroyMenu(){if(!this._overlayRef||!this.menuOpen)return;const t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),t instanceof CD?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(qd(t=>"void"===t.toState),op(1),qg(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t.lazyContent&&t.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}_setMenuElevation(){if(this.menu.setElevation){let t=0,e=this.menu.parentMenu;for(;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}_restoreFocus(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}_checkMenu(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Vy({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(t=>{this.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[e,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[i,r]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[s,o]=[i,r],[a,l]=[e,n],c=0;this.triggersSubmenu()?(l=e="before"===this.menu.xPosition?"start":"end",n=a="end"===e?"start":"end",c="bottom"===i?8:-8):this.menu.overlapTrigger||(s="top"===i?"bottom":"top",o="top"===r?"bottom":"top"),t.withPositions([{originX:e,originY:s,overlayX:a,overlayY:i,offsetY:c},{originX:n,originY:s,overlayX:l,overlayY:i,offsetY:c},{originX:e,originY:o,overlayX:a,overlayY:r,offsetY:-c},{originX:n,originY:o,overlayX:l,overlayY:r,offsetY:-c}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments();return Y(t,this._parentMenu?this._parentMenu.closed:Dd(),this._parentMenu?this._parentMenu._hovered().pipe(qd(t=>t!==this._menuItemInstance),qd(()=>this._menuOpen)):Dd(),e)}_handleMousedown(t){Fv(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const e=t.keyCode;this.triggersSubmenu()&&(39===e&&"ltr"===this.dir||37===e&&"rtl"===this.dir)&&this.openMenu()}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(qd(t=>t===this._menuItemInstance&&!t.disabled),aD(0,Rg)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof CD&&this.menu._isAnimating?this.menu._animationDone.pipe(op(1),aD(0,Rg),qg(this._parentMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new Cy(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(So(ev),So(ja),So(hl),So(kD),So(CD,8),So(_D,10),So(dy,8),So(Pv))},t.\u0275dir=Ee({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&Vo("mousedown",(function(t){return e._handleMousedown(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("click",(function(t){return e._handleClick(t)})),2&t&&wo("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t})(),OD=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},providers:[ID],imports:[yw]}),t})(),DD=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},providers:[ID],imports:[[Qh,yw,Pw,av,OD],OD]}),t})(),RD=0;class ND{}const PD=vw(ND);let FD=(()=>{class t extends PD{constructor(t,e,n,i,r){if(super(),this._ngZone=t,this._elementRef=e,this._ariaDescriber=n,this._renderer=i,this._animationMode=r,this._hasContent=!1,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=RD++,Si()){const t=e.nativeElement;if(t.nodeType!==t.ELEMENT_NODE)throw Error("matBadge must be attached to an element node.")}}get color(){return this._color}set color(t){this._setColor(t),this._color=t}get overlap(){return this._overlap}set overlap(t){this._overlap=mg(t)}get description(){return this._description}set description(t){if(t!==this._description){const e=this._badgeElement;this._updateHostAriaDescription(t,this._description),this._description=t,e&&(t?e.setAttribute("aria-label",t):e.removeAttribute("aria-label"))}}get hidden(){return this._hidden}set hidden(t){this._hidden=mg(t)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}ngOnChanges(t){const e=t.content;if(e){const t=e.currentValue;this._hasContent=null!=t&&`${t}`.trim().length>0,this._updateTextContent()}}ngOnDestroy(){const t=this._badgeElement;t&&(this.description&&this._ariaDescriber.removeDescription(t,this.description),this._renderer.destroyNode&&this._renderer.destroyNode(t))}getBadgeElement(){return this._badgeElement}_updateTextContent(){return this._badgeElement?this._badgeElement.textContent=this.content:this._badgeElement=this._createBadgeElement(),this._badgeElement}_createBadgeElement(){const t=this._renderer.createElement("span");return this._clearExistingBadges("mat-badge-content"),t.setAttribute("id",`mat-badge-content-${this._id}`),t.classList.add("mat-badge-content"),t.textContent=this.content,"NoopAnimations"===this._animationMode&&t.classList.add("_mat-animation-noopable"),this.description&&t.setAttribute("aria-label",this.description),this._elementRef.nativeElement.appendChild(t),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add("mat-badge-active")})}):t.classList.add("mat-badge-active"),t}_updateHostAriaDescription(t,e){const n=this._updateTextContent();e&&this._ariaDescriber.removeDescription(n,e),t&&this._ariaDescriber.describe(n,t)}_setColor(t){t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-badge-${this._color}`),t&&this._elementRef.nativeElement.classList.add(`mat-badge-${t}`))}_clearExistingBadges(t){const e=this._elementRef.nativeElement;let n=e.children.length;for(;n--;){const i=e.children[n];i.classList.contains(t)&&e.removeChild(i)}}}return t.\u0275fac=function(e){return new(e||t)(So(Oc),So(ja),So(bv),So(za),So(aw,8))},t.\u0275dir=Ee({type:t,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(t,e){2&t&&na("mat-badge-overlap",e.overlap)("mat-badge-above",e.isAbove())("mat-badge-below",!e.isAbove())("mat-badge-before",!e.isAfter())("mat-badge-after",e.isAfter())("mat-badge-small","small"===e.size)("mat-badge-medium","medium"===e.size)("mat-badge-large","large"===e.size)("mat-badge-hidden",e.hidden||!e._hasContent)("mat-badge-disabled",e.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],position:["matBadgePosition","position"],size:["matBadgeSize","size"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],description:["matBadgeDescription","description"],hidden:["matBadgeHidden","hidden"],content:["matBadge","content"]},features:[_a,Sa]}),t})(),MD=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[Lv,yw]]}),t})();const LD={provide:mc,useFactory:function(t,e){return()=>{if(Xh(e)){const e=Array.from(t.querySelectorAll(`[class*=${VD}]`)),n=/\bflex-layout-.+?\b/g;e.forEach(t=>{t.classList.contains(`${VD}ssr`)&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(n,"")})}}},deps:[cu,fc],multi:!0},VD="flex-layout-";let jD=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},providers:[LD]}),t})();class UD{constructor(t=!1,e="all",n="",i="",r=0){this.matches=t,this.mediaQuery=e,this.mqAlias=n,this.suffix=i,this.priority=r,this.property=""}clone(){return new UD(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let BD=(()=>{class t{constructor(){this.stylesheet=new Map}addStyleToElement(t,e,n){const i=this.stylesheet.get(t);i?i.set(e,n):this.stylesheet.set(t,new Map([[e,n]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,e){const n=this.stylesheet.get(t);let i="";if(n){const t=n.get(e);"number"!=typeof t&&"string"!=typeof t||(i=t+"")}return i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const qD={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},zD=new qt("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>qD}),HD=new qt("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),GD=new qt("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function WD(t,e){return t=t?t.clone():new UD,e&&(t.mqAlias=e.alias,t.mediaQuery=e.mediaQuery,t.suffix=e.suffix,t.priority=e.priority),t}const $D=["row","column","row-reverse","column-reverse"];function KD(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}let YD=(()=>{class t{constructor(t,e,n,i){this.elementRef=t,this.styleBuilder=e,this.styler=n,this.marshal=i,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new S,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(e=>{if(-1!==this.inputs.indexOf(e)){const n=e.split(".").slice(1).join(".");this.setValue(t[e].currentValue,n)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,e){const n=this.styleBuilder,i=n.shouldCache;let r=this.styleCache.get(t);r&&i||(r=n.buildStyles(t,e),i&&this.styleCache.set(t,r)),this.mru=Object.assign({},r),this.applyStyleToElement(r),n.sideEffect(t,r,e)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,e=!1){if(t){const[n,i]=this.styler.getFlowDirection(t);if(!i&&e){const e=function(t){let[e,n,i]=function(t){t=t?t.toLowerCase():"";let[e,n,i]=t.split(" ");return $D.find(t=>t===e)||(e=$D[0]),"inline"===n&&(n="inline"!==i?i:"",i="inline"),[e,KD(n),!!i]}(t);return function(t,e=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,n,i)}(n);this.styler.applyStyleToElements(e,[t])}return n.trim()}return"row"}applyStyleToElement(t,e,n=this.nativeElement){this.styler.applyStyleToElement(n,t,e)}setValue(t,e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,e)}updateWithValue(t){this.addStyles(t)}}return t.\u0275fac=function(t){Io()},t.\u0275dir=Ee({type:t,features:[Sa]}),t})();const QD=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.9px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.9px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.9px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.9px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.9px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.9px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.9px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.9px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.9px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],XD="(orientation: portrait) and (min-width: 600px) and (max-width: 839.9px)",JD="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.9px)",ZD="(orientation: portrait) and (min-width: 840px)",tR="(orientation: landscape) and (min-width: 1280px)",eR={HANDSET:"(orientation: portrait) and (max-width: 599.9px), (orientation: landscape) and (max-width: 959.9px)",TABLET:`${XD} , ${JD}`,WEB:`${ZD}, ${tR} `,HANDSET_PORTRAIT:"(orientation: portrait) and (max-width: 599.9px)",TABLET_PORTRAIT:`${XD} `,WEB_PORTRAIT:`${ZD}`,HANDSET_LANDSCAPE:"(orientation: landscape) and (max-width: 959.9px)]",TABLET_LANDSCAPE:`${JD}`,WEB_LANDSCAPE:`${tR}`},nR=[{alias:"handset",priority:2e3,mediaQuery:eR.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:eR.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:eR.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:eR.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:eR.TABLET},{alias:"tablet.portrait",priority:2100,mediaQuery:eR.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:eR.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:eR.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:eR.WEB_PORTRAIT,overlapping:!0}],iR=/(\.|-|_)/g;function rR(t){let e=t.length>0?t.charAt(0):"",n=t.length>1?t.slice(1):"";return e.toUpperCase()+n}const sR=new qt("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const t=Zt(GD),e=Zt(zD),n=[].concat.apply([],(t||[]).map(t=>Array.isArray(t)?t:[t]));return function(t,e=[]){const n={};return t.forEach(t=>{n[t.alias]=t}),e.forEach(t=>{n[t.alias]?function(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let n of e)if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}(n[t.alias],t):n[t.alias]=t}),(i=Object.keys(n).map(t=>n[t])).forEach(t=>{t.suffix||(t.suffix=function(t){return t.replace(iR,"|").split("|").map(rR).join("")}(t.alias),t.overlapping=!!t.overlapping)}),i;var i}((e.disableDefaultBps?[]:QD).concat(e.addOrientationBps?nR:[]),n)}});function oR(t,e){return(e&&e.priority||0)-(t&&t.priority||0)}function aR(t,e){return(t.priority||0)-(e.priority||0)}let lR=(()=>{class t{constructor(t){this.findByMap=new Map,this.items=[...t].sort(aR)}findByAlias(t){return t?this.findWithPredicate(t,e=>e.alias==t):null}findByQuery(t){return this.findWithPredicate(t,e=>e.mediaQuery==t)}get overlappings(){return this.items.filter(t=>1==t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t.suffix?t.suffix:"")}findWithPredicate(t,e){let n=this.findByMap.get(t);return n||(n=this.items.find(e)||null,this.findByMap.set(t,n)),n||null}}return t.\u0275fac=function(e){return new(e||t)(Jt(sR))},t.\u0275prov=pt({factory:function(){return new t(Jt(sR))},token:t,providedIn:"root"}),t})(),cR=(()=>{class t{constructor(t,e,n){this._zone=t,this._platformId=e,this._document=n,this.source=new Rd(new UD(!0)),this.registry=new Map,this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((e,n)=>{e.matches&&t.push(n)}),t}isActive(t){const e=this.registry.get(t);return!!e&&e.matches}observe(t,e=!1){if(t&&t.length){const n=this._observable$.pipe(qd(n=>!e||t.indexOf(n.mediaQuery)>-1));return Y(new b(e=>{const n=this.registerQuery(t);if(n.length){const t=n.pop();n.forEach(t=>{e.next(t)}),this.source.next(t)}e.complete()}),n)}return this._observable$}registerQuery(t){const e=Array.isArray(t)?t:[t],n=[];return function(t,e){const n=t.filter(t=>!uR[t]);if(n.length>0){const t=n.join(", ");try{const i=e.createElement("style");i.setAttribute("type","text/css"),i.styleSheet||i.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${t} {.fx-query-test{ }}\n`)),e.head.appendChild(i),n.forEach(t=>uR[t]=i)}catch(i){console.error(i)}}}(e,this._document),e.forEach(t=>{let e=this.registry.get(t);e||(e=this.buildMQL(t),e.addListener(e=>{this._zone.run(()=>this.source.next(new UD(e.matches,t)))}),this.registry.set(t,e)),e.matches&&n.push(new UD(!0,t))}),n}buildMQL(t){return function(t,e){return e&&window.matchMedia("all").addListener?window.matchMedia(t):{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}(t,Xh(this._platformId))}}return t.\u0275fac=function(e){return new(e||t)(Jt(Oc),Jt(fc),Jt(cu))},t.\u0275prov=pt({factory:function(){return new t(Jt(Oc),Jt(fc),Jt(cu))},token:t,providedIn:"root"}),t})();const uR={},hR={alias:"print",mediaQuery:"print",priority:1e3};let dR=(()=>{class t{constructor(t,e,n){this.breakpoints=t,this.layoutConfig=e,this._document=n,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.isPrinting=!1,this.queue=new pR,this.deactivations=[]}withPrintQuery(t){return[...t,"print"]}isPrintEvent(t){return t.mediaQuery.startsWith("print")}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const e=this.breakpoints.findByQuery(t);return(e?[...this.printBreakPoints,e]:this.printBreakPoints).sort(oR)}updateEvent(t){let e=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(e=this.getEventBreakpoints(t)[0],t.mediaQuery=e?e.mediaQuery:""),WD(t,e)}registerBeforeAfterPrintHooks(t){this._document.defaultView&&!this.registeredBeforeAfterPrintHooks&&(this.registeredBeforeAfterPrintHooks=!0,this._document.defaultView.addEventListener("beforeprint",()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new UD(!0,"print"))),t.updateStyles())}),this._document.defaultView.addEventListener("afterprint",()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())}))}interceptEvents(t){return this.registerBeforeAfterPrintHooks(t),e=>{this.isPrintEvent(e)?e.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(e)),t.updateStyles()):e.matches||!this.isPrinting||this.isPrintingBeforeAfterEvent||(this.stopPrinting(t),t.updateStyles()):this.collectActivations(e)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,e){this.isPrinting=!0,t.activatedBreakpoints=this.queue.addPrintBreakpoints(e)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(t){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(t.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const e=this.breakpoints.findByQuery(t.mediaQuery);e&&(this.deactivations.push(e),this.deactivations.sort(oR))}}}return t.\u0275fac=function(e){return new(e||t)(Jt(lR),Jt(zD),Jt(cu))},t.\u0275prov=pt({factory:function(){return new t(Jt(lR),Jt(zD),Jt(cu))},token:t,providedIn:"root"}),t})();class pR{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(hR),t.sort(oR),t.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(e=>e.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function(t){return!!t&&t.mediaQuery.startsWith("print")}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}function fR(t){for(let e in t){let n=t[e]||"";switch(e){case"display":t.display="flex"===n?["-webkit-flex","flex"]:"inline-flex"===n?["-webkit-inline-flex","inline-flex"]:n;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":t["-webkit-"+e]=n;break;case"flex-direction":n=n||"row",t["-webkit-flex-direction"]=n,t["flex-direction"]=n;break;case"order":t.order=t["-webkit-"+e]=isNaN(+n)?"0":n}}return t}let mR=(()=>{class t{constructor(t,e,n,i){this._serverStylesheet=t,this._serverModuleLoaded=e,this._platformId=n,this.layoutConfig=i}applyStyleToElement(t,e,n=null){let i={};"string"==typeof e&&(i[e]=n,e=i),i=this.layoutConfig.disableVendorPrefixes?e:fR(e),this._applyMultiValueStyleToElement(i,t)}applyStyleToElements(t,e=[]){const n=this.layoutConfig.disableVendorPrefixes?t:fR(t);e.forEach(t=>{this._applyMultiValueStyleToElement(n,t)})}getFlowDirection(t){let e=this.lookupStyle(t,"flex-direction");return[e||"row",this.lookupInlineStyle(t,"flex-direction")||Jh(this._platformId)&&this._serverModuleLoaded?e:""]}lookupAttributeValue(t,e){return t.getAttribute(e)||""}lookupInlineStyle(t,e){return Xh(this._platformId)?t.style.getPropertyValue(e):this._getServerStyle(t,e)}lookupStyle(t,e,n=!1){let i="";return t&&((i=this.lookupInlineStyle(t,e))||(Xh(this._platformId)?n||(i=getComputedStyle(t).getPropertyValue(e)):this._serverModuleLoaded&&(i=this._serverStylesheet.getStyleForElement(t,e)))),i?i.trim():""}_applyMultiValueStyleToElement(t,e){Object.keys(t).sort().forEach(n=>{const i=t[n],r=Array.isArray(i)?i:[i];r.sort();for(let t of r)t=t?t+"":"",Xh(this._platformId)||!this._serverModuleLoaded?Xh(this._platformId)?e.style.setProperty(n,t):this._setServerStyle(e,n,t):this._serverStylesheet.addStyleToElement(e,n,t)})}_setServerStyle(t,e,n){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=this._readStyleAttribute(t);i[e]=n||"",this._writeStyleAttribute(t,i)}_getServerStyle(t,e){return this._readStyleAttribute(t)[e]||""}_readStyleAttribute(t){const e={},n=t.getAttribute("style");if(n){const t=n.split(/;+/g);for(let n=0;n<t.length;n++){const i=t[n].trim();if(i.length>0){const t=i.indexOf(":");if(-1===t)throw new Error(`Invalid CSS style: ${i}`);e[i.substr(0,t).trim()]=i.substr(t+1).trim()}}}return e}_writeStyleAttribute(t,e){let n="";for(const i in e)e[i]&&(n+=i+":"+e[i]+";");t.setAttribute("style",n)}}return t.\u0275fac=function(e){return new(e||t)(Jt(BD),Jt(HD),Jt(fc),Jt(zD))},t.\u0275prov=pt({factory:function(){return new t(Jt(BD),Jt(HD),Jt(fc),Jt(zD))},token:t,providedIn:"root"}),t})();class gR{constructor(){this.shouldCache=!0}sideEffect(t,e,n){}}function yR(t,e="1",n="1"){let i=[e,n,t],r=t.indexOf("calc");if(r>0){i[2]=vR(t.substring(r).trim());let e=t.substr(0,r).trim().split(" ");2==e.length&&(i[0]=e[0],i[1]=e[1])}else if(0==r)i[2]=vR(t.trim());else{let r=t.split(" ");i=3===r.length?r:[e,n,t]}return i}function vR(t){return t.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let _R=(()=>{class t{constructor(t,e,n){this.matchMedia=t,this.breakpoints=e,this.hook=n,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new S,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(t){const e=this.findByQuery(t.mediaQuery);e&&((t=WD(t,e)).matches&&-1===this.activatedBreakpoints.indexOf(e)?(this.activatedBreakpoints.push(e),this.activatedBreakpoints.sort(oR),this.updateStyles()):t.matches||-1===this.activatedBreakpoints.indexOf(e)||(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(e),1),this.activatedBreakpoints.sort(oR),this.updateStyles()))}init(t,e,n,i,r=[]){bR(this.updateMap,t,e,n),bR(this.clearMap,t,e,i),this.buildElementKeyMap(t,e),this.watchExtraTriggers(t,e,r)}getValue(t,e,n){const i=this.elementMap.get(t);if(i){const t=void 0!==n?i.get(n):this.getActivatedValues(i,e);if(t)return t.get(e)}}hasValue(t,e){const n=this.elementMap.get(t);if(n){const t=this.getActivatedValues(n,e);if(t)return void 0!==t.get(e)||!1}return!1}setValue(t,e,n,i){let r=this.elementMap.get(t);if(r){const s=(r.get(i)||new Map).set(e,n);r.set(i,s),this.elementMap.set(t,r)}else r=(new Map).set(i,(new Map).set(e,n)),this.elementMap.set(t,r);const s=this.getValue(t,e);void 0!==s&&this.updateElement(t,e,s)}trackValue(t,e){return this.subject.asObservable().pipe(qd(n=>n.element===t&&n.key===e))}updateStyles(){this.elementMap.forEach((t,e)=>{const n=new Set(this.elementKeyMap.get(e));let i=this.getActivatedValues(t);i&&i.forEach((t,i)=>{this.updateElement(e,i,t),n.delete(i)}),n.forEach(n=>{if(i=this.getActivatedValues(t,n),i){const t=i.get(n);this.updateElement(e,n,t)}else this.clearElement(e,n)})})}clearElement(t,e){const n=this.clearMap.get(t);if(n){const i=n.get(e);i&&(i(),this.subject.next({element:t,key:e,value:""}))}}updateElement(t,e,n){const i=this.updateMap.get(t);if(i){const r=i.get(e);r&&(r(n),this.subject.next({element:t,key:e,value:n}))}}releaseElement(t){const e=this.watcherMap.get(t);e&&(e.forEach(t=>t.unsubscribe()),this.watcherMap.delete(t));const n=this.elementMap.get(t);n&&(n.forEach((t,e)=>n.delete(e)),this.elementMap.delete(t))}triggerUpdate(t,e){const n=this.elementMap.get(t);if(n){const i=this.getActivatedValues(n,e);i&&(e?this.updateElement(t,e,i.get(e)):i.forEach((e,n)=>this.updateElement(t,n,e)))}}buildElementKeyMap(t,e){let n=this.elementKeyMap.get(t);n||(n=new Set,this.elementKeyMap.set(t,n)),n.add(e)}watchExtraTriggers(t,e,n){if(n&&n.length){let i=this.watcherMap.get(t);if(i||(i=new Map,this.watcherMap.set(t,i)),!i.get(e)){const r=Y(...n).subscribe(()=>{const n=this.getValue(t,e);this.updateElement(t,e,n)});i.set(e,r)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,e){for(let i=0;i<this.activatedBreakpoints.length;i++){const n=t.get(this.activatedBreakpoints[i].alias);if(n&&(void 0===e||n.has(e)))return n}const n=t.get("");return void 0===e||n&&n.has(e)?n:void 0}observeActivations(){const t=this.breakpoints.items.map(t=>t.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(wp(this.hook.interceptEvents(this)),qd(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return t.\u0275fac=function(e){return new(e||t)(Jt(cR),Jt(lR),Jt(dR))},t.\u0275prov=pt({factory:function(){return new t(Jt(cR),Jt(lR),Jt(dR))},token:t,providedIn:"root"}),t})();function bR(t,e,n,i){if(void 0!==i){let r=t.get(e);r||(r=new Map,t.set(e,r)),r.set(n,i)}}const wR=["row","column","row-reverse","column-reverse"];function xR(t){t=t?t.toLowerCase():"";let[e,n,i]=t.split(" ");return wR.find(t=>t===e)||(e=wR[0]),"inline"===n&&(n="inline"!==i?i:"",i="inline"),[e,ER(n),!!i]}function CR(t){let[e]=xR(t);return e.indexOf("row")>-1}function ER(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}let SR=(()=>{class t extends gR{buildStyles(t){return function(t){let[e,n,i]=xR(t);return function(t,e=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,n,i)}(t)}}return t.\u0275fac=function(e){return kR(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const kR=ci(SR),IR=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let AR=(()=>{class t extends YD{constructor(t,e,n,i){super(t,n,e,i),this.DIRECTIVE_KEY="layout",this.styleCache=DR,this.init()}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(mR),So(SR),So(_R))},t.\u0275dir=Ee({type:t,features:[_a]}),t})(),TR=(()=>{class t extends AR{constructor(){super(...arguments),this.inputs=IR}}return t.\u0275fac=function(e){return OR(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[_a]}),t})();const OR=ci(TR),DR=new Map,RR={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let NR=(()=>{class t extends gR{constructor(t){super(),this._styler=t}buildStyles(t,e){return t.endsWith(qR)?function(t,e){let n="0px",i="0px";return"rtl"===e?i="-"+t:n="-"+t,{margin:`0px ${n} ${"-"+t} ${i}`}}(t=t.slice(0,t.indexOf(qR)),e.directionality):{}}sideEffect(t,e,n){const i=n.items;if(t.endsWith(qR)){const e=function(t,e){let n="0px",i="0px";return"rtl"===e?i=t:n=t,{padding:`0px ${n} ${t} ${i}`}}(t=t.slice(0,t.indexOf(qR)),n.directionality);this._styler.applyStyleToElements(e,n.items)}else{const e=i.pop(),r=function(t,e){const n=zR(e.directionality,e.layout),i=Object.assign({},RR);return i[n]=t,i}(t,n);this._styler.applyStyleToElements(r,i),this._styler.applyStyleToElements(RR,[e])}}}return t.\u0275fac=function(e){return new(e||t)(Jt(mR))},t.\u0275prov=pt({factory:function(){return new t(Jt(mR))},token:t,providedIn:"root"}),t})();const PR=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let FR=(()=>{class t extends YD{constructor(t,e,n,i,r,s){super(t,r,i,s),this.zone=e,this.directionality=n,this.styleUtils=i,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new S;const o=[this.directionality.change,this.observerSubject.asObservable()];this.init(o),this.marshal.trackValue(this.nativeElement,"layout").pipe(qg(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const t=this.nativeElement.children,e=[];for(let n=t.length;n--;)e[n]=t[n];return e}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(t){const e=t.value.split(" ");this.layout=e[0],wR.find(t=>t===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(t){const e=this.childrenNodes.filter(t=>1===t.nodeType&&this.willDisplay(t)).sort((t,e)=>{const n=+this.styler.lookupStyle(t,"order"),i=+this.styler.lookupStyle(e,"order");return isNaN(n)||isNaN(i)||n===i?0:n>i?1:-1});if(e.length>0){const n=this.directionality.value,i=this.layout;"row"===i&&"rtl"===n?this.styleCache=VR:"row"===i&&"rtl"!==n?this.styleCache=UR:"column"===i&&"rtl"===n?this.styleCache=jR:"column"===i&&"rtl"!==n&&(this.styleCache=BR),this.addStyles(t,{directionality:n,items:e,layout:i})}}clearStyles(){const t=Object.keys(this.mru).length>0,e=t?"padding":zR(this.directionality.value,this.layout);t&&super.clearStyles(),this.styleUtils.applyStyleToElements({[e]:""},this.childrenNodes)}willDisplay(t){const e=this.marshal.getValue(t,"show-hide");return!0===e||void 0===e&&"none"!==this.styleUtils.lookupStyle(t,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(t=>{t.some(t=>t.addedNodes&&t.addedNodes.length>0||t.removedNodes&&t.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(Oc),So(dy),So(mR),So(NR),So(_R))},t.\u0275dir=Ee({type:t,features:[_a]}),t})(),MR=(()=>{class t extends FR{constructor(){super(...arguments),this.inputs=PR}}return t.\u0275fac=function(e){return LR(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[_a]}),t})();const LR=ci(MR),VR=new Map,jR=new Map,UR=new Map,BR=new Map,qR=" grid";function zR(t,e){switch(e){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":return"rtl"===t?"margin-left":"margin-right";case"row-reverse":return"rtl"===t?"margin-right":"margin-left";default:return"rtl"===t?"margin-left":"margin-right"}}function HR(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let n of e)if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}let GR=(()=>{class t extends gR{constructor(t){super(),this.layoutConfig=t}buildStyles(t,e){let[n,i,...r]=t.split(" "),s=r.join(" ");const o=e.direction.indexOf("column")>-1?"column":"row",a=CR(o)?"max-width":"max-height",l=CR(o)?"min-width":"min-height",c=String(s).indexOf("calc")>-1,u=c||"auto"===s,h=String(s).indexOf("%")>-1&&!c,d=String(s).indexOf("px")>-1||String(s).indexOf("rem")>-1||String(s).indexOf("em")>-1||String(s).indexOf("vw")>-1||String(s).indexOf("vh")>-1;let p=c||d;n="0"==n?0:n,i="0"==i?0:i;const f=!n&&!i;let m={};const g={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(s||""){case"":const t=!1!==this.layoutConfig.useColumnBasisZero;s="row"===o?"0%":t?"0.000000001px":"auto";break;case"initial":case"nogrow":n=0,s="auto";break;case"grow":s="100%";break;case"noshrink":i=0,s="auto";break;case"auto":break;case"none":n=0,i=0,s="auto";break;default:p||h||isNaN(s)||(s+="%"),"0%"===s&&(p=!0),"0px"===s&&(s="0%"),m=HR(g,c?{"flex-grow":n,"flex-shrink":i,"flex-basis":p?s:"100%"}:{flex:`${n} ${i} ${p?s:"100%"}`})}return m.flex||m["flex-grow"]||(m=HR(g,c?{"flex-grow":n,"flex-shrink":i,"flex-basis":s}:{flex:`${n} ${i} ${s}`})),"0%"!==s&&"0px"!==s&&"0.000000001px"!==s&&"auto"!==s&&(m[l]=f||p&&n?s:null,m[a]=f||!u&&i?s:null),m[l]||m[a]?e.hasWrap&&(m[c?"flex-basis":"flex"]=m[a]?c?m[a]:`${n} ${i} ${m[a]}`:c?m[l]:`${n} ${i} ${m[l]}`):m=HR(g,c?{"flex-grow":n,"flex-shrink":i,"flex-basis":s}:{flex:`${n} ${i} ${s}`}),HR(m,{"box-sizing":"border-box"})}}return t.\u0275fac=function(e){return new(e||t)(Jt(zD))},t.\u0275prov=pt({factory:function(){return new t(Jt(zD))},token:t,providedIn:"root"}),t})();const WR=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let $R=(()=>{class t extends YD{constructor(t,e,n,i,r){super(t,i,e,r),this.layoutConfig=n,this.DIRECTIVE_KEY="flex",this.direction="",this.wrap=!1,this.flexGrow="1",this.flexShrink="1",this.init(),this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(qg(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(qg(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}get shrink(){return this.flexShrink}set shrink(t){this.flexShrink=t||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(t){this.flexGrow=t||"1",this.triggerReflow()}onLayoutChange(t){const e=t.value.split(" ");this.direction=e[0],this.wrap=void 0!==e[1]&&"wrap"===e[1],this.triggerUpdate()}updateWithValue(t){this.direction||(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent));const e=this.direction,n=e.startsWith("row"),i=this.wrap;n&&i?this.styleCache=JR:n&&!i?this.styleCache=QR:!n&&i?this.styleCache=ZR:n||i||(this.styleCache=XR);const r=yR(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(r.join(" "),{direction:e,hasWrap:i})}triggerReflow(){const t=this.activatedValue;if(void 0!==t){const e=yR(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,e.join(" "))}}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(mR),So(zD),So(GR),So(_R))},t.\u0275dir=Ee({type:t,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[_a]}),t})(),KR=(()=>{class t extends $R{constructor(){super(...arguments),this.inputs=WR}}return t.\u0275fac=function(e){return YR(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[_a]}),t})();const YR=ci(KR),QR=new Map,XR=new Map,JR=new Map,ZR=new Map;let tN=(()=>{class t extends gR{buildStyles(t){return{order:t&&parseInt(t,10)||""}}}return t.\u0275fac=function(e){return eN(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const eN=ci(tN),nN=["fxFlexOrder","fxFlexOrder.xs","fxFlexOrder.sm","fxFlexOrder.md","fxFlexOrder.lg","fxFlexOrder.xl","fxFlexOrder.lt-sm","fxFlexOrder.lt-md","fxFlexOrder.lt-lg","fxFlexOrder.lt-xl","fxFlexOrder.gt-xs","fxFlexOrder.gt-sm","fxFlexOrder.gt-md","fxFlexOrder.gt-lg"];let iN=(()=>{class t extends YD{constructor(t,e,n,i){super(t,n,e,i),this.DIRECTIVE_KEY="flex-order",this.styleCache=rN,this.init()}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(mR),So(tN),So(_R))},t.\u0275dir=Ee({type:t,features:[_a]}),t})();const rN=new Map;let sN=(()=>{class t extends iN{constructor(){super(...arguments),this.inputs=nN}}return t.\u0275fac=function(e){return oN(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","fxFlexOrder",""],["","fxFlexOrder.xs",""],["","fxFlexOrder.sm",""],["","fxFlexOrder.md",""],["","fxFlexOrder.lg",""],["","fxFlexOrder.xl",""],["","fxFlexOrder.lt-sm",""],["","fxFlexOrder.lt-md",""],["","fxFlexOrder.lt-lg",""],["","fxFlexOrder.lt-xl",""],["","fxFlexOrder.gt-xs",""],["","fxFlexOrder.gt-sm",""],["","fxFlexOrder.gt-md",""],["","fxFlexOrder.gt-lg",""]],inputs:{fxFlexOrder:"fxFlexOrder","fxFlexOrder.xs":"fxFlexOrder.xs","fxFlexOrder.sm":"fxFlexOrder.sm","fxFlexOrder.md":"fxFlexOrder.md","fxFlexOrder.lg":"fxFlexOrder.lg","fxFlexOrder.xl":"fxFlexOrder.xl","fxFlexOrder.lt-sm":"fxFlexOrder.lt-sm","fxFlexOrder.lt-md":"fxFlexOrder.lt-md","fxFlexOrder.lt-lg":"fxFlexOrder.lt-lg","fxFlexOrder.lt-xl":"fxFlexOrder.lt-xl","fxFlexOrder.gt-xs":"fxFlexOrder.gt-xs","fxFlexOrder.gt-sm":"fxFlexOrder.gt-sm","fxFlexOrder.gt-md":"fxFlexOrder.gt-md","fxFlexOrder.gt-lg":"fxFlexOrder.gt-lg"},features:[_a]}),t})();const oN=ci(sN);let aN=(()=>{class t extends gR{buildStyles(t,e){""===t&&(t="0");const n=String(t).indexOf("%")>-1;String(t).indexOf("px")>-1||n||isNaN(+t)||(t+="%");const i=e.isRtl?"margin-right":"margin-left";return CR(e.layout)?{[i]:`${t}`}:{"margin-top":`${t}`}}}return t.\u0275fac=function(e){return lN(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const lN=ci(aN),cN=["fxFlexOffset","fxFlexOffset.xs","fxFlexOffset.sm","fxFlexOffset.md","fxFlexOffset.lg","fxFlexOffset.xl","fxFlexOffset.lt-sm","fxFlexOffset.lt-md","fxFlexOffset.lt-lg","fxFlexOffset.lt-xl","fxFlexOffset.gt-xs","fxFlexOffset.gt-sm","fxFlexOffset.gt-md","fxFlexOffset.gt-lg"];let uN=(()=>{class t extends YD{constructor(t,e,n,i,r){super(t,n,r,i),this.directionality=e,this.DIRECTIVE_KEY="flex-offset",this.init([this.directionality.change]),this.parentElement&&this.marshal.trackValue(this.parentElement,"layout-gap").pipe(qg(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))}updateWithValue(t=""){const e=this.getFlexFlowDirection(this.parentElement,!0),n="rtl"===this.directionality.value;"row"===e&&n?this.styleCache=pN:"row"!==e||n?"column"===e&&n?this.styleCache=fN:"column"!==e||n||(this.styleCache=gN):this.styleCache=mN,this.addStyles(t+"",{layout:e,isRtl:n})}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(dy),So(aN),So(_R),So(mR))},t.\u0275dir=Ee({type:t,features:[_a]}),t})(),hN=(()=>{class t extends uN{constructor(){super(...arguments),this.inputs=cN}}return t.\u0275fac=function(e){return dN(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","fxFlexOffset",""],["","fxFlexOffset.xs",""],["","fxFlexOffset.sm",""],["","fxFlexOffset.md",""],["","fxFlexOffset.lg",""],["","fxFlexOffset.xl",""],["","fxFlexOffset.lt-sm",""],["","fxFlexOffset.lt-md",""],["","fxFlexOffset.lt-lg",""],["","fxFlexOffset.lt-xl",""],["","fxFlexOffset.gt-xs",""],["","fxFlexOffset.gt-sm",""],["","fxFlexOffset.gt-md",""],["","fxFlexOffset.gt-lg",""]],inputs:{fxFlexOffset:"fxFlexOffset","fxFlexOffset.xs":"fxFlexOffset.xs","fxFlexOffset.sm":"fxFlexOffset.sm","fxFlexOffset.md":"fxFlexOffset.md","fxFlexOffset.lg":"fxFlexOffset.lg","fxFlexOffset.xl":"fxFlexOffset.xl","fxFlexOffset.lt-sm":"fxFlexOffset.lt-sm","fxFlexOffset.lt-md":"fxFlexOffset.lt-md","fxFlexOffset.lt-lg":"fxFlexOffset.lt-lg","fxFlexOffset.lt-xl":"fxFlexOffset.lt-xl","fxFlexOffset.gt-xs":"fxFlexOffset.gt-xs","fxFlexOffset.gt-sm":"fxFlexOffset.gt-sm","fxFlexOffset.gt-md":"fxFlexOffset.gt-md","fxFlexOffset.gt-lg":"fxFlexOffset.gt-lg"},features:[_a]}),t})();const dN=ci(hN),pN=new Map,fN=new Map,mN=new Map,gN=new Map;let yN=(()=>{class t extends gR{buildStyles(t){const e={};switch(t=t||"stretch"){case"start":e["align-self"]="flex-start";break;case"end":e["align-self"]="flex-end";break;default:e["align-self"]=t}return e}}return t.\u0275fac=function(e){return vN(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const vN=ci(yN),_N=["fxFlexAlign","fxFlexAlign.xs","fxFlexAlign.sm","fxFlexAlign.md","fxFlexAlign.lg","fxFlexAlign.xl","fxFlexAlign.lt-sm","fxFlexAlign.lt-md","fxFlexAlign.lt-lg","fxFlexAlign.lt-xl","fxFlexAlign.gt-xs","fxFlexAlign.gt-sm","fxFlexAlign.gt-md","fxFlexAlign.gt-lg"];let bN=(()=>{class t extends YD{constructor(t,e,n,i){super(t,n,e,i),this.DIRECTIVE_KEY="flex-align",this.styleCache=wN,this.init()}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(mR),So(yN),So(_R))},t.\u0275dir=Ee({type:t,features:[_a]}),t})();const wN=new Map;let xN=(()=>{class t extends bN{constructor(){super(...arguments),this.inputs=_N}}return t.\u0275fac=function(e){return CN(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","fxFlexAlign",""],["","fxFlexAlign.xs",""],["","fxFlexAlign.sm",""],["","fxFlexAlign.md",""],["","fxFlexAlign.lg",""],["","fxFlexAlign.xl",""],["","fxFlexAlign.lt-sm",""],["","fxFlexAlign.lt-md",""],["","fxFlexAlign.lt-lg",""],["","fxFlexAlign.lt-xl",""],["","fxFlexAlign.gt-xs",""],["","fxFlexAlign.gt-sm",""],["","fxFlexAlign.gt-md",""],["","fxFlexAlign.gt-lg",""]],inputs:{fxFlexAlign:"fxFlexAlign","fxFlexAlign.xs":"fxFlexAlign.xs","fxFlexAlign.sm":"fxFlexAlign.sm","fxFlexAlign.md":"fxFlexAlign.md","fxFlexAlign.lg":"fxFlexAlign.lg","fxFlexAlign.xl":"fxFlexAlign.xl","fxFlexAlign.lt-sm":"fxFlexAlign.lt-sm","fxFlexAlign.lt-md":"fxFlexAlign.lt-md","fxFlexAlign.lt-lg":"fxFlexAlign.lt-lg","fxFlexAlign.lt-xl":"fxFlexAlign.lt-xl","fxFlexAlign.gt-xs":"fxFlexAlign.gt-xs","fxFlexAlign.gt-sm":"fxFlexAlign.gt-sm","fxFlexAlign.gt-md":"fxFlexAlign.gt-md","fxFlexAlign.gt-lg":"fxFlexAlign.gt-lg"},features:[_a]}),t})();const CN=ci(xN),EN={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"};let SN=(()=>{class t extends gR{buildStyles(t){return EN}}return t.\u0275fac=function(e){return kN(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const kN=ci(SN);let IN=(()=>{class t extends YD{constructor(t,e,n,i){super(t,n,e,i),this.styleCache=AN,this.addStyles("")}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(mR),So(SN),So(_R))},t.\u0275dir=Ee({type:t,selectors:[["","fxFill",""],["","fxFlexFill",""]],features:[_a]}),t})();const AN=new Map;let TN=(()=>{class t extends gR{buildStyles(t,e){const n={},[i,r]=t.split(" ");switch(i){case"center":n["justify-content"]="center";break;case"space-around":n["justify-content"]="space-around";break;case"space-between":n["justify-content"]="space-between";break;case"space-evenly":n["justify-content"]="space-evenly";break;case"end":case"flex-end":n["justify-content"]="flex-end";break;case"start":case"flex-start":default:n["justify-content"]="flex-start"}switch(r){case"start":case"flex-start":n["align-items"]=n["align-content"]="flex-start";break;case"center":n["align-items"]=n["align-content"]="center";break;case"end":case"flex-end":n["align-items"]=n["align-content"]="flex-end";break;case"space-between":n["align-content"]="space-between",n["align-items"]="stretch";break;case"space-around":n["align-content"]="space-around",n["align-items"]="stretch";break;case"baseline":n["align-content"]="stretch",n["align-items"]="baseline";break;case"stretch":default:n["align-items"]=n["align-content"]="stretch"}return HR(n,{display:e.inline?"inline-flex":"flex","flex-direction":e.layout,"box-sizing":"border-box","max-width":"stretch"===r?CR(e.layout)?null:"100%":null,"max-height":"stretch"===r&&CR(e.layout)?"100%":null})}}return t.\u0275fac=function(e){return ON(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const ON=ci(TN),DN=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let RN=(()=>{class t extends YD{constructor(t,e,n,i){super(t,n,e,i),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(qg(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(t){const e=this.layout||"row",n=this.inline;"row"===e&&n?this.styleCache=jN:"row"!==e||n?"row-reverse"===e&&n?this.styleCache=BN:"row-reverse"!==e||n?"column"===e&&n?this.styleCache=UN:"column"!==e||n?"column-reverse"===e&&n?this.styleCache=qN:"column-reverse"!==e||n||(this.styleCache=VN):this.styleCache=MN:this.styleCache=LN:this.styleCache=FN,this.addStyles(t,{layout:e,inline:n})}onLayoutChange(t){const e=t.value.split(" ");this.layout=e[0],this.inline=t.value.includes("inline"),wR.find(t=>t===this.layout)||(this.layout="row"),this.triggerUpdate()}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(mR),So(TN),So(_R))},t.\u0275dir=Ee({type:t,features:[_a]}),t})(),NN=(()=>{class t extends RN{constructor(){super(...arguments),this.inputs=DN}}return t.\u0275fac=function(e){return PN(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[_a]}),t})();const PN=ci(NN),FN=new Map,MN=new Map,LN=new Map,VN=new Map,jN=new Map,UN=new Map,BN=new Map,qN=new Map;let zN=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[jD,fy]]}),t})();const HN=function(){return["/cart"]};function GN(t,e){if(1&t){const t=Fo();Oo(0,"div",10),Oo(1,"div"),Ro(2,"img",11),Do(),Oo(3,"div",12),Oo(4,"h4",13),pa(5),Do(),Oo(6,"span"),pa(7),Pl(8,"currency"),Do(),Do(),Oo(9,"div",14),Oo(10,"button",15),Vo("click",(function(){tn(t);const n=e.$implicit;return zo(2).deleteCartLine(n)})),Oo(11,"i",16),pa(12," remove_shopping_cart "),Do(),Do(),Oo(13,"button",17),Oo(14,"i",18),pa(15," edit "),Do(),Do(),Do(),Do()}if(2&t){const t=e.$implicit,n=zo(2);gr(2),Ao("src",n.getProdImage(t),Ji),gr(3),fa(n.getProdName(t)),gr(2),fa(Ml(8,4,n.getLinePrice(t),"USD")),gr(6),Ao("routerLink",Ol(7,HN))}}const WN=function(){return["/checkout/start"]};function $N(t,e){if(1&t&&(No(0),Oo(1,"div",6),Co(2,GN,16,8,"div",7),Do(),Oo(3,"div",8),Oo(4,"button",9),pa(5,"Checkout"),Do(),Do(),Po()),2&t){const t=zo();gr(2),Ao("ngForOf",null==t.state.cart?null:t.state.cart.cartLines),gr(2),Ao("routerLink",Ol(2,WN))}}function KN(t,e){1&t&&(Oo(0,"div",19),pa(1," No Products Found. "),Do())}let YN=(()=>{class t extends NI{constructor(t,e,n,i){super(e),this.siteService=t,this.state=e,this.cartService=n,this.cd=i,this.compId="header-cart",this.hiddenBadge=!1}ngOnInit(){super.ngOnInit()}clicked(){console.log("test")}isBadgeHidden(){var t,e;return 0===(null===(e=null===(t=this.state.cart)||void 0===t?void 0:t.cartLines)||void 0===e?void 0:e.length)}deleteCartLine(t){this.cartService.deleteCartLine(t)}getProductCount(){var t;return null===(t=this.state.cart)||void 0===t?void 0:t.cartLines.length}getProdImage(t){return t.productSku.__color.imgUrl}getProdName(t){return t.productSku.__product.title}getLinePrice(t){return this.cartService.getLinePrice(t)}}return t.\u0275fac=function(e){return new(e||t)(So(Lk),So(gS),So(sI),So(Hs))},t.\u0275cmp=ye({type:t,selectors:[["app-header-cart"]],features:[_a],decls:9,vars:5,consts:[["mat-mini-fab","","matBadgePosition","after","matBadgeColor","accent",1,"material",3,"matMenuTriggerFor","matBadgeHidden","matBadge"],[1,"material-icons","notranslate"],[1,"cart-items"],["viewdropmenu","matMenu"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"drop-wrap"],["class","cart-menu-list p-2","aaa","","d","grid","gac","max-content","gaf","column",4,"ngFor","ngForOf"],[1,"footer-menu","px-3","pb-2","pt-2"],["mat-raised-button","","color","accent",1,"w-100",3,"routerLink"],["aaa","","d","grid","gac","max-content","gaf","column",1,"cart-menu-list","p-2"],["width","60","alt","cart-image",3,"src"],["aaa","","d","grid","gar","max-content","gaf","row",1,"px-2"],[1,"mb-0"],["aaa","","d","grid","gac","max-content","gaf","column","pi","center","gg","3px",1,"cart-menu-action"],["mat-mini-fab","","mat-raised-button","","color","primary",1,"mdb-30",3,"click"],["aaa","","clr","white",1,"material-icons","remove-item"],["mat-mini-fab","","mat-raised-button","","color","primary",1,"mdb-30",3,"routerLink"],["aaa","","clr","white",1,"material-icons"],["fxLayoutAlign","center center",1,"cart-menu-list","p-2"]],template:function(t,e){if(1&t&&(No(0),Oo(1,"button",0),Oo(2,"i",1),pa(3," shopping_cart "),Do(),Do(),Oo(4,"mat-menu",2,3),Co(6,$N,6,3,"ng-container",4),Co(7,KN,2,0,"ng-template",null,5,ac),Do(),Po()),2&t){const t=Eo(5),n=Eo(8);gr(1),$o("matBadge","   \n    ",e.getProductCount(),""),Ao("matMenuTriggerFor",t)("matBadgeHidden",e.isBadgeHidden()),gr(5),Ao("ngIf",(null==e.state.cart?null:null==e.state.cart.cartLines?null:e.state.cart.cartLines.length)>0)("ngIfElse",n)}},directives:[bx,TD,FD,SD,gh,fh,Hm,xS,NN],pipes:[Wh],styles:[".cart-menu-action[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]{font-size:15px}mat-menu.cart-items[_ngcontent-%COMP%]{width:330px}.cart-menu-list[_ngcontent-%COMP%]{position:relative}.cart-menu-list[_ngcontent-%COMP%]   .cart-menu-action[_ngcontent-%COMP%]{visibility:hidden}.cart-menu-list[_ngcontent-%COMP%]:hover   .cart-menu-action[_ngcontent-%COMP%]{opacity:1;visibility:visible}.cart-menu-list[_ngcontent-%COMP%]{border-bottom:var(--def-border)}"]}),t})();const QN=["panel"];function XN(t,e){if(1&t&&(Oo(0,"div",0,1),Wo(2),Do()),2&t){const t=zo();Ao("id",t.id)("ngClass",t._classList)}}const JN=["*"];let ZN=0;class tP{constructor(t,e){this.source=t,this.option=e}}class eP{}const nP=bw(eP),iP=new qt("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let rP=(()=>{class t extends nP{constructor(t,e,n){super(),this._changeDetectorRef=t,this._elementRef=e,this._activeOptionChanges=h.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new jl,this.opened=new jl,this.closed=new jl,this.optionActivated=new jl,this._classList={},this.id=`mat-autocomplete-${ZN++}`,this._autoActiveFirstOption=!!n.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=mg(t)}set classList(t){this._classList=t&&t.length?t.split(" ").reduce((t,e)=>(t[e.trim()]=!0,t),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new xv(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const e=new tP(this,t);this.optionSelected.emit(e)}_setVisibilityClasses(t){t["mat-autocomplete-visible"]=this.showPanel,t["mat-autocomplete-hidden"]=!this.showPanel}}return t.\u0275fac=function(e){return new(e||t)(So(Hs),So(ja),So(iP))},t.\u0275cmp=ye({type:t,selectors:[["mat-autocomplete"]],contentQueries:function(t,e,n){var i;1&t&&(tc(n,Gw,!0),tc(n,Uw,!0)),2&t&&(Ql(i=ic())&&(e.options=i),Ql(i=ic())&&(e.optionGroups=i))},viewQuery:function(t,e){var n;1&t&&(Xl(cl,!0),Jl(QN,!0)),2&t&&(Ql(n=ic())&&(e.template=n.first),Ql(n=ic())&&(e.panel=n.first))},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple",displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",classList:["class","classList"],panelWidth:"panelWidth"},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[Fa([{provide:Hw,useExisting:t}]),_a],ngContentSelectors:JN,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(t,e){1&t&&(Go(),Co(0,XN,3,2,"ng-template"))},directives:[hh],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),sP=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(So(ja))},t.\u0275dir=Ee({type:t,selectors:[["","matAutocompleteOrigin",""]],exportAs:["matAutocompleteOrigin"]}),t})();const oP=new qt("mat-autocomplete-scroll-strategy"),aP={provide:oP,deps:[ev],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},lP={provide:Xx,useExisting:It(()=>cP),multi:!0};let cP=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l,c){this._element=t,this._overlay=e,this._viewContainerRef=n,this._zone=i,this._changeDetectorRef=r,this._dir=o,this._formField=a,this._document=l,this._viewportRuler=c,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=h.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new S,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=Ud(()=>this.autocomplete&&this.autocomplete.options?Y(...this.autocomplete.options.map(t=>t.onSelectionChange)):this._zone.onStable.asObservable().pipe(op(1),dp(()=>this.optionSelections))),this._scrollStrategy=s}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=mg(t)}ngAfterViewInit(){const t=this._getWindow();void 0!==t&&(this._zone.runOutsideAngular(()=>{t.addEventListener("blur",this._windowBlurHandler)}),this._isInsideShadowRoot=!!uy(this._element.nativeElement))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();void 0!==t&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return Y(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(qd(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(qd(()=>this._overlayAttached)):Dd()).pipe(L(t=>t instanceof zw?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return Y(bg(this._document,"click"),bg(this._document,"touchend")).pipe(qd(t=>{const e=this._isInsideShadowRoot&&t.composedPath?t.composedPath()[0]:t.target,n=this._formField?this._formField._elementRef.nativeElement:null;return this._overlayAttached&&e!==this._element.nativeElement&&(!n||!n.contains(e))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(e)}))}writeValue(t){Promise.resolve(null).then(()=>this._setTriggerValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const e=t.keyCode;if(27===e&&t.preventDefault(),this.activeOption&&13===e&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const n=this.autocomplete._keyManager.activeItem,i=38===e||40===e;this.panelOpen||9===e?this.autocomplete._keyManager.onKeydown(t):i&&this._canOpen()&&this.openPanel(),(i||this.autocomplete._keyManager.activeItem!==n)&&this._scrollToOption()}}_handleInput(t){let e=t.target,n=e.value;"number"===e.type&&(n=""==n?null:parseFloat(n)),this._previousValue!==n&&(this._previousValue=n,this._onChange(n),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_scrollToOption(){const t=this.autocomplete._keyManager.activeItemIndex||0,e=Ww(t,this.autocomplete.options,this.autocomplete.optionGroups);if(0===t&&1===e)this.autocomplete._setScrollTop(0);else{const n=$w(t+e,48,this.autocomplete._getScrollTop(),256);this.autocomplete._setScrollTop(n)}}_subscribeToClosingActions(){return Y(this._zone.onStable.asObservable().pipe(op(1)),this.autocomplete.options.changes.pipe(wp(()=>this._positionStrategy.reapplyLastPosition()),aD(0))).pipe(dp(()=>{const t=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),t!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),op(1)).subscribe(t=>this._setValueAndClose(t))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(t){const e=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,n=null!=e?e:"";this._formField?this._formField._control.value=n:this._element.nativeElement.value=n,this._previousValue=n}_setValueAndClose(t){t&&t.source&&(this._clearPreviousSelectedOption(t.source),this._setTriggerValue(t.source.value),this._onChange(t.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(t.source)),this.closePanel()}_clearPreviousSelectedOption(t){this.autocomplete.options.forEach(e=>{e!=t&&e.selected&&e.deselect()})}_attachOverlay(){if(!this.autocomplete)throw Error("Attempting to open an undefined instance of `mat-autocomplete`. Make sure that the id passed to the `matAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.");let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new Cy(this.autocomplete.template,this._viewContainerRef),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,t.keydownEvents().subscribe(t=>{(27===t.keyCode||38===t.keyCode&&t.altKey)&&(this._resetActiveItem(),this._closeKeyEventStream.next(),t.stopPropagation(),t.preventDefault())}),this._viewportRuler&&(this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})}))),t&&!t.hasAttached()&&(t.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const e=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&e!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new Vy({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const e={originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},n={originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-autocomplete-panel-above"};let i;i="above"===this.position?[n]:"below"===this.position?[e]:[e,n],t.withPositions(i)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){this.autocomplete._keyManager.setActiveItem(this.autocomplete.autoActiveFirstOption?0:-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}_getWindow(){var t;return(null===(t=this._document)||void 0===t?void 0:t.defaultView)||window}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(ev),So(hl),So(Oc),So(Hs),So(oP),So(dy,8),So(ek,9),So(cu,8),So(vy))},t.\u0275dir=Ee({type:t,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(t,e){1&t&&Vo("focusin",(function(){return e._handleFocus()}))("blur",(function(){return e._onTouched()}))("input",(function(t){return e._handleInput(t)}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&wo("autocomplete",e.autocompleteAttribute)("role",e.autocompleteDisabled?null:"combobox")("aria-autocomplete",e.autocompleteDisabled?null:"list")("aria-activedescendant",e.panelOpen&&e.activeOption?e.activeOption.id:null)("aria-expanded",e.autocompleteDisabled?null:e.panelOpen.toString())("aria-owns",e.autocompleteDisabled||!e.panelOpen?null:null==e.autocomplete?null:e.autocomplete.id)("aria-haspopup",!e.autocompleteDisabled)},inputs:{position:["matAutocompletePosition","position"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"],autocomplete:["matAutocomplete","autocomplete"],connectedTo:["matAutocompleteConnectedTo","connectedTo"]},exportAs:["matAutocompleteTrigger"],features:[Fa([lP]),Sa]}),t})(),uP=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},providers:[aP],imports:[[Kw,av,yw,Qh],Kw,yw]}),t})();const hP=["*",[["mat-toolbar-row"]]],dP=["*","mat-toolbar-row"];class pP{constructor(t){this._elementRef=t}}const fP=_w(pP);let mP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),gP=(()=>{class t extends fP{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){Si()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length&&Array.from(this._elementRef.nativeElement.childNodes).filter(t=>!(t.classList&&t.classList.contains("mat-toolbar-row"))).filter(t=>t.nodeType!==(this._document?this._document.COMMENT_NODE:8)).some(t=>!(!t.textContent||!t.textContent.trim()))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(iy),So(cu))},t.\u0275cmp=ye({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){var i;1&t&&tc(n,mP,!0),2&t&&Ql(i=ic())&&(e._toolbarRows=i)},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&na("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[_a],ngContentSelectors:dP,decls:2,vars:0,template:function(t,e){1&t&&(Go(hP),Wo(0),Wo(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}\n"],encapsulation:2,changeDetection:0}),t})(),yP=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[yw],yw]}),t})(),vP=(()=>{class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=mg(t)}get inset(){return this._inset}set inset(t){this._inset=mg(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ye({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,e){2&t&&(wo("aria-orientation",e.vertical?"vertical":"horizontal"),na("mat-divider-vertical",e.vertical)("mat-divider-horizontal",!e.vertical)("mat-divider-inset",e.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,e){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),t})(),_P=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[yw],yw]}),t})();const bP=["*"],wP=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],xP=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],CP=["text"];function EP(t,e){if(1&t&&Ro(0,"mat-pseudo-checkbox",5),2&t){const t=zo();Ao("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const SP=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],kP=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];class IP{}const AP=vw(bw(IP));class TP{}const OP=bw(TP);let DP=(()=>{class t extends AP{constructor(){super(...arguments),this._stateChanges=new S}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return RP(e||t)},t.\u0275cmp=ye({type:t,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[_a,Sa],ngContentSelectors:bP,decls:1,vars:0,template:function(t,e){1&t&&(Go(),Wo(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})();const RP=ci(DP);let NP=(()=>{class t extends AP{constructor(t){super(),this._elementRef=t,this._stateChanges=new S,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(So(ja))},t.\u0275cmp=ye({type:t,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[_a,Sa],ngContentSelectors:bP,decls:1,vars:0,template:function(t,e){1&t&&(Go(),Wo(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})(),PP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),t})(),FP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),t})(),MP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-subheader"]}),t})(),LP=(()=>{class t extends OP{constructor(t,e,n,i){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new S,this._disabled=!1,this._isInteractiveList=!!(n||i&&"action-list"===i._getListType()),this._list=n||i;const r=this._getHostElement();"button"!==r.nodeName.toLowerCase()||r.hasAttribute("type")||r.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(qg(this._destroyed)).subscribe(()=>{e.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=mg(t)}ngAfterContentInit(){Sw(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(Hs),So(DP,8),So(NP,8))},t.\u0275cmp=ye({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,e,n){var i;1&t&&(tc(n,PP,!0),tc(n,FP,!0),tc(n,Ew,!0)),2&t&&(Ql(i=ic())&&(e._avatar=i.first),Ql(i=ic())&&(e._icon=i.first),Ql(i=ic())&&(e._lines=i))},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,e){2&t&&na("mat-list-item-disabled",e.disabled)("mat-list-item-avatar",e._avatar||e._icon)("mat-list-item-with-avatar",e._avatar||e._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[_a],ngContentSelectors:xP,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,e){1&t&&(Go(wP),Oo(0,"div",0),Ro(1,"div",1),Wo(2),Oo(3,"div",2),Wo(4,1),Do(),Wo(5,2),Do()),2&t&&(gr(1),Ao("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()))},directives:[Nw],encapsulation:2,changeDetection:0}),t})();class VP{}const jP=bw(VP);class UP{}const BP=bw(UP),qP={provide:Xx,useExisting:It(()=>GP),multi:!0};class zP{constructor(t,e){this.source=t,this.option=e}}let HP=(()=>{class t extends BP{constructor(t,e,n){super(),this._element=t,this._changeDetector=e,this.selectionList=n,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&t!==this.value&&this._inputsInitialized&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const e=mg(t);e!==this._disabled&&(this._disabled=e,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const e=mg(t);e!==this._selected&&(this._setSelected(e),this.selectionList._reportValueChange())}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(e=>t.compareWith(e,this._value))&&this._setSelected(!0);const e=this._selected;Promise.resolve().then(()=>{(this._selected||e)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){Sw(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,e=this.selectionList._removeOptionFromList(this);t&&e&&e.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){this.disabled||!this.selectionList.multiple&&this.selected||(this.toggle(),this.selectionList._emitChangeEvent(this))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(Hs),So(It(()=>GP)))},t.\u0275cmp=ye({type:t,selectors:[["mat-list-option"]],contentQueries:function(t,e,n){var i;1&t&&(tc(n,PP,!0),tc(n,FP,!0),tc(n,Ew,!0)),2&t&&(Ql(i=ic())&&(e._avatar=i.first),Ql(i=ic())&&(e._icon=i.first),Ql(i=ic())&&(e._lines=i))},viewQuery:function(t,e){var n;1&t&&Jl(CP,!0),2&t&&Ql(n=ic())&&(e._text=n.first)},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(t,e){1&t&&Vo("focus",(function(){return e._handleFocus()}))("blur",(function(){return e._handleBlur()}))("click",(function(){return e._handleClick()})),2&t&&(wo("aria-selected",e.selected)("aria-disabled",e.disabled)("tabindex",-1),na("mat-list-item-disabled",e.disabled)("mat-list-item-with-avatar",e._avatar||e._icon)("mat-primary","primary"===e.color)("mat-accent","primary"!==e.color&&"warn"!==e.color)("mat-warn","warn"===e.color)("mat-list-single-selected-option",e.selected&&!e.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",selected:"selected",disabled:"disabled"},exportAs:["matListOption"],features:[_a],ngContentSelectors:kP,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(t,e){1&t&&(Go(SP),Oo(0,"div",0),Ro(1,"div",1),Co(2,EP,1,2,"mat-pseudo-checkbox",2),Oo(3,"div",3,4),Wo(5),Do(),Wo(6,1),Do()),2&t&&(na("mat-list-item-content-reverse","after"==e.checkboxPosition),gr(1),Ao("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()),gr(1),Ao("ngIf",e.selectionList.multiple))},directives:[Nw,gh,Fw],encapsulation:2,changeDetection:0}),t})(),GP=(()=>{class t extends jP{constructor(t,e,n){super(),this._element=t,this._changeDetector=n,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new jl,this.tabIndex=0,this.color="accent",this.compareWith=(t,e)=>t===e,this._disabled=!1,this.selectedOptions=new my(this._multiple),this._tabIndex=-1,this._onChange=t=>{},this._destroyed=new S,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=mg(t),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(t){const e=mg(t);if(e!==this._multiple){if(Si()&&this._contentInitialized)throw new Error("Cannot change `multiple` mode of mat-selection-list after initialization.");this._multiple=e,this.selectedOptions=new my(this._multiple,this.selectedOptions.selected)}}ngAfterContentInit(){this._contentInitialized=!0,this._keyManager=new Cv(this.options).withWrap().withTypeAhead().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(qg(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(gp(null),qg(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(qg(this._destroyed)).subscribe(t=>{if(t.added)for(let e of t.added)e.selected=!0;if(t.removed)for(let e of t.removed)e.selected=!1})}ngOnChanges(t){const e=t.disableRipple,n=t.color;(e&&!e.firstChange||n&&!n.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){this._setAllOptionsSelected(!0)}deselectAll(){this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const e=this._getOptionIndex(t);return e>-1&&this._keyManager.activeItemIndex===e&&(e>0?this._keyManager.updateActiveItem(e-1):0===e&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(e+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const e=t.keyCode,n=this._keyManager,i=n.activeItemIndex,r=Ty(t);switch(e){case 32:case 13:r||n.isTyping()||(this._toggleFocusedOption(),t.preventDefault());break;case 36:case 35:r||(36===e?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:65===e&&this.multiple&&Ty(t,"ctrlKey")&&!n.isTyping()?(this.options.find(t=>!t.selected)?this.selectAll():this.deselectAll(),t.preventDefault()):n.onKeydown(t)}this.multiple&&(38===e||40===e)&&t.shiftKey&&n.activeItemIndex!==i&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new zP(this,t))}_onFocus(){const t=this._keyManager.activeItemIndex;t&&-1!==t?this._keyManager.setActiveItem(t):this._keyManager.setFirstItemActive()}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(t=>t._setSelected(!1)),t.forEach(t=>{const e=this.options.find(e=>!e.selected&&this.compareWith(e.value,t));e&&e._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let e=this.options.toArray()[t];!e||e.disabled||!this._multiple&&e.selected||(e.toggle(),this._emitChangeEvent(e))}}_setAllOptionsSelected(t){let e=!1;this.options.forEach(n=>{n._setSelected(t)&&(e=!0)}),e&&this._reportValueChange()}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return t.\u0275fac=function(e){return new(e||t)(So(ja),ko("tabindex"),So(Hs))},t.\u0275cmp=ye({type:t,selectors:[["mat-selection-list"]],contentQueries:function(t,e,n){var i;1&t&&tc(n,HP,!0),2&t&&Ql(i=ic())&&(e.options=i)},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(t,e){1&t&&Vo("focus",(function(){return e._onFocus()}))("blur",(function(){return e._onTouched()}))("keydown",(function(t){return e._keydown(t)})),2&t&&wo("aria-multiselectable",e.multiple)("aria-disabled",e.disabled.toString())("tabindex",e._tabIndex)},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[Fa([qP]),_a,Sa],ngContentSelectors:bP,decls:1,vars:0,template:function(t,e){1&t&&(Go(),Wo(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})(),WP=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[Iw,Pw,yw,Mw,Qh],Iw,yw,Mw,_P]}),t})();const $P=["*",[["mat-card-footer"]]],KP=["*","mat-card-footer"],YP=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],QP=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],XP=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["img"]],"*"],JP=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","img","*"];let ZP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),tF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),eF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),t})(),nF=(()=>{class t{constructor(){this.align="start"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,e){2&t&&na("mat-card-actions-align-end","end"===e.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),t})(),iF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),t})(),rF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),t})(),sF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","mat-card-sm-image",""],["","matCardImageSmall",""]],hostAttrs:[1,"mat-card-sm-image"]}),t})(),oF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","mat-card-md-image",""],["","matCardImageMedium",""]],hostAttrs:[1,"mat-card-md-image"]}),t})(),aF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","mat-card-lg-image",""],["","matCardImageLarge",""]],hostAttrs:[1,"mat-card-lg-image"]}),t})(),lF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","mat-card-xl-image",""],["","matCardImageXLarge",""]],hostAttrs:[1,"mat-card-xl-image"]}),t})(),cF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),t})(),uF=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(So(aw,8))},t.\u0275cmp=ye({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&na("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:KP,decls:2,vars:0,template:function(t,e){1&t&&(Go($P),Wo(0),Wo(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),hF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ye({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:QP,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(Go(YP),Wo(0),Oo(1,"div",0),Wo(2,1),Do(),Wo(3,2))},encapsulation:2,changeDetection:0}),t})(),dF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ye({type:t,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-card-title-group"],ngContentSelectors:JP,decls:4,vars:0,template:function(t,e){1&t&&(Go(XP),Oo(0,"div"),Wo(1),Do(),Wo(2,1),Wo(3,2))},encapsulation:2,changeDetection:0}),t})(),pF=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[yw],yw]}),t})(),fF=0,mF=(()=>{class t{constructor(){this._stateChanges=new S,this._openCloseAllActions=new S,this.id=`cdk-accordion-${fF++}`,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=mg(t)}openAll(){this._openCloseAll(!0)}closeAll(){this._openCloseAll(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete()}_openCloseAll(t){this.multi&&this._openCloseAllActions.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[Sa]}),t})(),gF=0,yF=(()=>{class t{constructor(t,e,n){this.accordion=t,this._changeDetectorRef=e,this._expansionDispatcher=n,this._openCloseAllSubscription=h.EMPTY,this.closed=new jl,this.opened=new jl,this.destroyed=new jl,this.expandedChange=new jl,this.id=`cdk-accordion-child-${gF++}`,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=n.listen((t,e)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===e&&this.id!==t&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=mg(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=mg(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return t.\u0275fac=function(e){return new(e||t)(So(mF,12),So(Hs),So(gy))},t.\u0275dir=Ee({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Fa([{provide:mF,useValue:void 0}])]}),t})(),vF=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)}}),t})();const _F=["body"];function bF(t,e){}const wF=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],xF=["mat-expansion-panel-header","*","mat-action-row"],CF=function(t,e){return{collapsedHeight:t,expandedHeight:e}},EF=function(t,e){return{value:t,params:e}};function SF(t,e){1&t&&Ro(0,"span",2),2&t&&Ao("@indicatorRotate",zo()._getExpandedState())}const kF=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],IF=["mat-panel-title","mat-panel-description","*"],AF=new qt("MAT_ACCORDION"),TF={indicatorRotate:Uv("indicatorRotate",[Gv("collapsed, void",Hv({transform:"rotate(0deg)"})),Gv("expanded",Hv({transform:"rotate(180deg)"})),$v("expanded <=> collapsed, void => collapsed",Bv("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),expansionHeaderHeight:Uv("expansionHeight",[Gv("collapsed, void",Hv({height:"{{collapsedHeight}}"}),{params:{collapsedHeight:"48px"}}),Gv("expanded",Hv({height:"{{expandedHeight}}"}),{params:{expandedHeight:"64px"}}),$v("expanded <=> collapsed, void => collapsed",qv([Yv("@indicatorRotate",Kv(),{optional:!0}),Bv("225ms cubic-bezier(0.4,0.0,0.2,1)")]))]),bodyExpansion:Uv("bodyExpansion",[Gv("collapsed, void",Hv({height:"0px",visibility:"hidden"})),Gv("expanded",Hv({height:"*",visibility:"visible"})),$v("expanded <=> collapsed, void => collapsed",Bv("225ms cubic-bezier(0.4,0.0,0.2,1)"))])};let OF=(()=>{class t{constructor(t){this._template=t}}return t.\u0275fac=function(e){return new(e||t)(So(cl))},t.\u0275dir=Ee({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]}),t})(),DF=0;const RF=new qt("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let NF=(()=>{class t extends yF{constructor(t,e,n,i,r,s,o){super(t,e,n),this._viewContainerRef=i,this._animationMode=s,this._hideToggle=!1,this.afterExpand=new jl,this.afterCollapse=new jl,this._inputChanges=new S,this._headerId=`mat-expansion-panel-header-${DF++}`,this._bodyAnimationDone=new S,this.accordion=t,this._document=r,this._bodyAnimationDone.pipe(Ng((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{"void"!==t.fromState&&("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit())}),o&&(this.hideToggle=o.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=mg(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(gp(null),qd(()=>this.expanded&&!this._portal),op(1)).subscribe(()=>{this._portal=new Cy(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}}return t.\u0275fac=function(e){return new(e||t)(So(AF,12),So(Hs),So(gy),So(hl),So(cu),So(aw,8),So(RF,8))},t.\u0275cmp=ye({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(t,e,n){var i;1&t&&tc(n,OF,!0),2&t&&Ql(i=ic())&&(e._lazyContent=i.first)},viewQuery:function(t,e){var n;1&t&&Jl(_F,!0),2&t&&Ql(n=ic())&&(e._body=n.first)},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,e){2&t&&na("mat-expanded",e.expanded)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-expansion-panel-spacing",e._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Fa([{provide:AF,useValue:void 0}]),_a,Sa],ngContentSelectors:xF,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,e){1&t&&(Go(wF),Wo(0),Oo(1,"div",0,1),Vo("@bodyExpansion.done",(function(t){return e._bodyAnimationDone.next(t)})),Oo(3,"div",2),Wo(4,1),Co(5,bF,0,0,"ng-template",3),Do(),Wo(6,2),Do()),2&t&&(gr(1),Ao("@bodyExpansion",e._getExpandedState())("id",e.id),wo("aria-labelledby",e._headerId),gr(4),Ao("cdkPortalOutlet",e._portal))},directives:[Iy],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[TF.bodyExpansion]},changeDetection:0}),t})(),PF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["mat-action-row"]],hostAttrs:[1,"mat-action-row"]}),t})(),FF=(()=>{class t{constructor(t,e,n,i,r){this.panel=t,this._element=e,this._focusMonitor=n,this._changeDetectorRef=i,this._parentChangeSubscription=h.EMPTY,this._animationsDisabled=!0;const s=t.accordion?t.accordion._stateChanges.pipe(qd(t=>!(!t.hideToggle&&!t.togglePosition))):Vd;this._parentChangeSubscription=Y(t.opened,t.closed,s,t._inputChanges.pipe(qd(t=>!!(t.hideToggle||t.disabled||t.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(qd(()=>t._containsFocus())).subscribe(()=>n.focusVia(e,"program")),n.monitor(e).subscribe(e=>{e&&t.accordion&&t.accordion._handleHeaderFocus(this)}),r&&(this.expandedHeight=r.expandedHeight,this.collapsedHeight=r.collapsedHeight)}_animationStarted(){this._animationsDisabled=!1}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_keydown(t){switch(t.keyCode){case 32:case 13:Ty(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t="program",e){this._focusMonitor.focusVia(this._element,t,e)}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return t.\u0275fac=function(e){return new(e||t)(So(NF,1),So(ja),So(Pv),So(Hs),So(RF,8))},t.\u0275cmp=ye({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header"],hostVars:19,hostBindings:function(t,e){1&t&&(jo("@expansionHeight.start",(function(){return e._animationStarted()})),Vo("click",(function(){return e._toggle()}))("keydown",(function(t){return e._keydown(t)}))),2&t&&(wo("id",e.panel._headerId)("tabindex",e.disabled?-1:0)("aria-controls",e._getPanelId())("aria-expanded",e._isExpanded())("aria-disabled",e.panel.disabled),ya("@.disabled",e._animationsDisabled)("@expansionHeight",Dl(16,EF,e._getExpandedState(),Dl(13,CF,e.collapsedHeight,e.expandedHeight))),na("mat-expanded",e._isExpanded())("mat-expansion-toggle-indicator-after","after"===e._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===e._getTogglePosition()))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},ngContentSelectors:IF,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,e){1&t&&(Go(kF),Oo(0,"span",0),Wo(1),Wo(2,1),Wo(3,2),Do(),Co(4,SF,1,1,"span",1)),2&t&&(gr(4),Ao("ngIf",e._showToggle()))},directives:[gh],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}\n'],encapsulation:2,data:{animation:[TF.indicatorRotate,TF.expansionHeaderHeight]},changeDetection:0}),t})(),MF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),t})(),LF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),t})(),VF=(()=>{class t extends mF{constructor(){super(...arguments),this._ownHeaders=new Bl,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=mg(t)}ngAfterContentInit(){this._headers.changes.pipe(gp(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(t=>t.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Cv(this._ownHeaders).withWrap()}_handleHeaderKeydown(t){const{keyCode:e}=t,n=this._keyManager;36===e?Ty(t)||(n.setFirstItemActive(),t.preventDefault()):35===e?Ty(t)||(n.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}}return t.\u0275fac=function(e){return jF(e||t)},t.\u0275dir=Ee({type:t,selectors:[["mat-accordion"]],contentQueries:function(t,e,n){var i;1&t&&tc(n,FF,!0),2&t&&Ql(i=ic())&&(e._headers=i)},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,e){2&t&&na("mat-accordion-multi",e.multi)},inputs:{multi:"multi",displayMode:"displayMode",togglePosition:"togglePosition",hideToggle:"hideToggle"},exportAs:["matAccordion"],features:[Fa([{provide:AF,useExisting:t}]),_a]}),t})();const jF=ci(VF);let UF=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[Qh,vF,Ay]]}),t})();const BF=["button"],qF=["*"],zF=new qt("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),HF={provide:Xx,useExisting:It(()=>KF),multi:!0};class GF{}let WF=0;class $F{constructor(t,e){this.source=t,this.value=e}}let KF=(()=>{class t{constructor(t,e){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name=`mat-button-toggle-group-${WF++}`,this.valueChange=new jl,this.change=new jl,this.appearance=e&&e.appearance?e.appearance:"standard"}get name(){return this._name}set name(t){this._name=t,this._buttonToggles&&this._buttonToggles.forEach(t=>{t.name=this._name,t._markForCheck()})}get vertical(){return this._vertical}set vertical(t){this._vertical=mg(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(t=>t.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=mg(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=mg(t),this._buttonToggles&&this._buttonToggles.forEach(t=>t._markForCheck())}ngOnInit(){this._selectionModel=new my(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(){const t=this.selected,e=Array.isArray(t)?t[t.length-1]:t,n=new $F(e,this.value);this._controlValueAccessorChangeFn(n.value),this.change.emit(n)}_syncButtonToggle(t,e,n=!1,i=!1){this.multiple||!this.selected||t.checked||(this.selected.checked=!1),this._selectionModel?e?this._selectionModel.select(t):this._selectionModel.deselect(t):i=!0,i?Promise.resolve(()=>this._updateModelValue(n)):this._updateModelValue(n)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(e=>null!=t.value&&e===t.value):t.value===this._rawValue)}_setSelectionByValue(t){if(this._rawValue=t,this._buttonToggles)if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._clearSelection(),t.forEach(t=>this._selectValue(t))}else this._clearSelection(),this._selectValue(t)}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const e=this._buttonToggles.find(e=>null!=e.value&&e.value===t);e&&(e.checked=!0,this._selectionModel.select(e))}_updateModelValue(t){t&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return t.\u0275fac=function(e){return new(e||t)(So(Hs),So(zF,8))},t.\u0275dir=Ee({type:t,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,e,n){var i;1&t&&tc(n,XF,!0),2&t&&Ql(i=ic())&&(e._buttonToggles=i)},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,e){2&t&&(wo("aria-disabled",e.disabled),na("mat-button-toggle-vertical",e.vertical)("mat-button-toggle-group-appearance-standard","standard"===e.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[Fa([HF,{provide:GF,useExisting:t}])]}),t})();class YF{}const QF=bw(YF);let XF=(()=>{class t extends QF{constructor(t,e,n,i,r,s){super(),this._changeDetectorRef=e,this._elementRef=n,this._focusMonitor=i,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new jl;const o=Number(r);this.tabIndex=o||0===o?o:null,this.buttonToggleGroup=t,this.appearance=s&&s.appearance?s.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const e=mg(t);e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=mg(t)}ngOnInit(){this._isSingleSelector=this.buttonToggleGroup&&!this.buttonToggleGroup.multiple,this._type=this._isSingleSelector?"radio":"checkbox",this.id=this.id||`mat-button-toggle-${WF++}`,this._isSingleSelector&&(this.name=this.buttonToggleGroup.name),this.buttonToggleGroup&&this.buttonToggleGroup._isPrechecked(this)&&(this.checked=!0),this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new $F(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(So(KF,8),So(Hs),So(ja),So(Pv),ko("tabindex"),So(zF,8))},t.\u0275cmp=ye({type:t,selectors:[["mat-button-toggle"]],viewQuery:function(t,e){var n;1&t&&Jl(BF,!0),2&t&&Ql(n=ic())&&(e._buttonElement=n.first)},hostAttrs:[1,"mat-button-toggle","mat-focus-indicator"],hostVars:11,hostBindings:function(t,e){1&t&&Vo("focus",(function(){return e.focus()})),2&t&&(wo("tabindex",-1)("id",e.id)("name",null),na("mat-button-toggle-standalone",!e.buttonToggleGroup)("mat-button-toggle-checked",e.checked)("mat-button-toggle-disabled",e.disabled)("mat-button-toggle-appearance-standard","standard"===e.appearance))},inputs:{disableRipple:"disableRipple",ariaLabelledby:["aria-labelledby","ariaLabelledby"],tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],value:"value"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[_a],ngContentSelectors:qF,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,e){if(1&t&&(Go(),Oo(0,"button",0,1),Vo("click",(function(){return e._onButtonClick()})),Oo(2,"div",2),Wo(3),Do(),Do(),Ro(4,"div",3),Ro(5,"div",4)),2&t){const t=Eo(1);Ao("id",e.buttonId)("disabled",e.disabled||null),wo("tabindex",e.disabled?-1:e.tabIndex)("aria-pressed",e.checked)("name",e.name||null)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),gr(5),Ao("matRippleTrigger",t)("matRippleDisabled",e.disableRipple||e.disabled)}},directives:[Nw],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{line-height:48px;padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 48px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),t})(),JF=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[yw,Pw],yw]}),t})();class ZF{}class tM{}class eM{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof eM?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new eM;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof eM?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class nM{encodeKey(t){return iM(t)}encodeValue(t){return iM(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function iM(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class rM{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new nM,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[r,s]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],o=n.get(r)||[];o.push(s),n.set(r,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new rM({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function sM(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function oM(t){return"undefined"!=typeof Blob&&t instanceof Blob}function aM(t){return"undefined"!=typeof FormData&&t instanceof FormData}class lM{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new eM),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new rM,this.urlWithParams=e}serializeBody(){return null===this.body?null:sM(this.body)||oM(this.body)||aM(this.body)||"string"==typeof this.body?this.body:this.body instanceof rM?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:aM(this.body)?null:oM(this.body)?this.body.type||null:sM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rM?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new lM(e,n,r,{params:l,headers:a,reportProgress:o,responseType:i,withCredentials:s})}}const cM=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class uM{constructor(t,e=200,n="OK"){this.headers=t.headers||new eM,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class hM extends uM{constructor(t={}){super(t),this.type=cM.ResponseHeader}clone(t={}){return new hM({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class dM extends uM{constructor(t={}){super(t),this.type=cM.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new dM({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class pM extends uM{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function fM(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let mM=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof lM)i=t;else{let r=void 0;r=n.headers instanceof eM?n.headers:new eM(n.headers);let s=void 0;n.params&&(s=n.params instanceof rM?n.params:new rM({fromObject:n.params})),i=new lM(t,e,void 0!==n.body?n.body:null,{headers:r,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Dd(i).pipe(bp(t=>this.handler.handle(t)));if(t instanceof lM||"events"===n.observe)return r;const s=r.pipe(qd(t=>t instanceof dM));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return s.pipe(L(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(L(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(L(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(L(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new rM).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,fM(n,e))}post(t,e,n={}){return this.request("POST",t,fM(n,e))}put(t,e,n={}){return this.request("PUT",t,fM(n,e))}}return t.\u0275fac=function(e){return new(e||t)(Jt(ZF))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class gM{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const yM=new qt("HTTP_INTERCEPTORS");let vM=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const _M=/^\)\]\}',?\n/;class bM{}let wM=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),xM=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new b(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const s=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",s=new eM(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new hM({headers:s,status:e,statusText:i,url:o}),r},o=()=>{let{headers:i,status:r,statusText:o,url:a}=s(),l=null;204!==r&&(l=void 0===n.response?n.responseText:n.response),0===r&&(r=l?200:0);let c=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(_M,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=t,c&&(c=!1,l={error:u,text:l})}}c?(e.next(new dM({body:l,headers:i,status:r,statusText:o,url:a||void 0})),e.complete()):e.error(new pM({error:l,headers:i,status:r,statusText:o,url:a||void 0}))},a=t=>{const{url:i}=s(),r=new pM({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let l=!1;const c=i=>{l||(e.next(s()),l=!0);let r={type:cM.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},u=t=>{let n={type:cM.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==i&&n.upload&&n.upload.addEventListener("progress",u)),n.send(i),e.next({type:cM.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",c),null!==i&&n.upload&&n.upload.removeEventListener("progress",u)),n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Jt(bM))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const CM=new qt("XSRF_COOKIE_NAME"),EM=new qt("XSRF_HEADER_NAME");class SM{}let kM=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=uh(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Jt(cu),Jt(fc),Jt(CM))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),IM=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Jt(SM),Jt(EM))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),AM=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(yM,[]);this.chain=t.reduceRight((t,e)=>new gM(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Jt(tM),Jt(oo))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),TM=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:IM,useClass:vM}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:CM,useValue:e.cookieName}:[],e.headerName?{provide:EM,useValue:e.headerName}:[]]}}}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},providers:[IM,{provide:yM,useExisting:IM,multi:!0},{provide:SM,useClass:kM},{provide:CM,useValue:"XSRF-TOKEN"},{provide:EM,useValue:"X-XSRF-TOKEN"}]}),t})(),OM=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},providers:[mM,{provide:ZF,useClass:AM},xM,{provide:tM,useExisting:xM},wM,{provide:bM,useExisting:wM}],imports:[[TM.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const DM=["*"];function RM(t){return Error(`Unable to find icon with the name "${t}"`)}function NM(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+`via Angular's DomSanitizer. Attempted URL was "${t}".`)}function PM(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+`Angular's DomSanitizer. Attempted literal was "${t}".`)}class FM{constructor(t,e){this.options=e,t.nodeName?this.svgElement=t:this.url=t}}let MM=(()=>{class t{constructor(t,e,n,i){this._httpClient=t,this._sanitizer=e,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,i){return this._addSvgIconConfig(t,e,new FM(n,i))}addSvgIconLiteralInNamespace(t,e,n,i){const r=this._sanitizer.sanitize($i.HTML,n);if(!r)throw PM(n);const s=this._createSvgElementForSingleIcon(r,i);return this._addSvgIconConfig(t,e,new FM(s,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new FM(e,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize($i.HTML,e);if(!i)throw PM(e);const r=this._svgElementFromString(i);return this._addSvgIconSetConfig(t,new FM(r,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize($i.RESOURCE_URL,t);if(!e)throw NM(t);const n=this._cachedIconsByUrl.get(e);return n?Dd(LM(n)):this._loadSvgIconFromConfig(new FM(t)).pipe(wp(t=>this._cachedIconsByUrl.set(e,t)),L(t=>LM(t)))}getNamedSvgIcon(t,e=""){const n=VM(e,t),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):Kg(RM(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgElement?Dd(LM(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(wp(e=>t.svgElement=e),L(t=>LM(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Dd(n):Yx(e.filter(t=>!t.svgElement).map(t=>this._loadSvgIconSetFromConfig(t).pipe(ip(e=>{const n=`Loading icon set URL: ${this._sanitizer.sanitize($i.RESOURCE_URL,t.url)} failed: ${e.message}`;return this._errorHandler?this._errorHandler.handleError(new Error(n)):console.error(n),Dd(null)})))).pipe(L(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw RM(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.svgElement){const e=this._extractSvgIconFromSet(i.svgElement,t,i.options);if(e)return e}}return null}_loadSvgIconFromConfig(t){return this._fetchUrl(t.url).pipe(L(e=>this._createSvgElementForSingleIcon(e,t.options)))}_loadSvgIconSetFromConfig(t){return t.svgElement?Dd(t.svgElement):this._fetchUrl(t.url).pipe(L(e=>(t.svgElement||(t.svgElement=this._svgElementFromString(e)),t.svgElement)))}_createSvgElementForSingleIcon(t,e){const n=this._svgElementFromString(t);return this._setSvgAttributes(n,e),n}_extractSvgIconFromSet(t,e,n){const i=t.querySelector(`[id="${e}"]`);if(!i)return null;const r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(r),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let i=0;i<n.length;i++){const{name:t,value:r}=n[i];"id"!==t&&e.setAttribute(t,r)}for(let i=0;i<t.childNodes.length;i++)t.childNodes[i].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[i].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchUrl(t){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error(`Cannot fetch icon from URL "${t}".`);const e=this._sanitizer.sanitize($i.RESOURCE_URL,t);if(!e)throw NM(t);const n=this._inProgressUrlFetches.get(e);if(n)return n;const i=this._httpClient.get(e,{responseType:"text"}).pipe(Ep(()=>this._inProgressUrlFetches.delete(e)),it());return this._inProgressUrlFetches.set(e,i),i}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(VM(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}return t.\u0275fac=function(e){return new(e||t)(Jt(mM,8),Jt(kd),Jt(cu,8),Jt(pi,8))},t.\u0275prov=pt({factory:function(){return new t(Jt(mM,8),Jt(kd),Jt(cu,8),Jt(pi,8))},token:t,providedIn:"root"}),t})();function LM(t){return t.cloneNode(!0)}function VM(t,e){return t+":"+e}class jM{constructor(t){this._elementRef=t}}const UM=_w(jM),BM=new qt("mat-icon-location",{providedIn:"root",factory:function(){const t=Zt(cu),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),qM=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],zM=qM.map(t=>`[${t}]`).join(", "),HM=/^url\(['"]?#(.*?)['"]?\)$/;let GM=(()=>{class t extends UM{constructor(t,e,n,i,r){super(t),this._iconRegistry=e,this._location=i,this._errorHandler=r,this._inline=!1,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=mg(t)}get fontSet(){return this._fontSet}set fontSet(t){this._fontSet=this._cleanupFontValue(t)}get fontIcon(){return this._fontIcon}set fontIcon(t){this._fontIcon=this._cleanupFontValue(t)}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnChanges(t){const e=t.svgIcon;if(e)if(this.svgIcon){const[t,e]=this._splitIconName(this.svgIcon);this._iconRegistry.getNamedSvgIcon(e,t).pipe(op(1)).subscribe(t=>this._setSvgElement(t),n=>{const i=`Error retrieving icon ${t}:${e}! ${n.message}`;this._errorHandler?this._errorHandler.handleError(new Error(i)):console.error(i)})}else e.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){const e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e)}this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(zM),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<e.length;i++)qM.forEach(t=>{const r=e[i],s=r.getAttribute(t),o=s?s.match(HM):null;if(o){let e=n.get(r);e||(e=[],n.set(r,e)),e.push({name:t,value:o[1]})}})}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(MM),ko("aria-hidden"),So(BM,8),So(pi,8))},t.\u0275cmp=ye({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:4,hostBindings:function(t,e){2&t&&na("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color)},inputs:{color:"color",inline:"inline",fontSet:"fontSet",fontIcon:"fontIcon",svgIcon:"svgIcon"},exportAs:["matIcon"],features:[_a,Sa],ngContentSelectors:DM,decls:1,vars:0,template:function(t,e){1&t&&(Go(),Wo(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),WM=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[yw],yw]}),t})();class $M{constructor(t){this.total=t}call(t,e){return e.subscribe(new KM(t,this.total))}}class KM extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const YM=new Set;let QM,XM=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):JM}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!YM.has(t))try{QM||(QM=document.createElement("style"),QM.setAttribute("type","text/css"),document.head.appendChild(QM)),QM.sheet&&(QM.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),YM.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(Jt(iy))},t.\u0275prov=pt({factory:function(){return new t(Jt(iy))},token:t,providedIn:"root"}),t})();function JM(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let ZM=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new S}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return tL(yg(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=Fd(tL(yg(t)).map(t=>this._registerQuery(t).observable));return e=mp(e.pipe(op(1)),e.pipe(t=>t.lift(new $M(1)),lv(0))),e.pipe(L(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(t=>{e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new b(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(gp(e),L(e=>({query:t,matches:e.matches})),qg(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(Jt(XM),Jt(Oc))},t.\u0275prov=pt({factory:function(){return new t(Jt(XM),Jt(Oc))},token:t,providedIn:"root"}),t})();function tL(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const eL={tooltipState:Uv("state",[Gv("initial, void, hidden",Hv({opacity:0,transform:"scale(0)"})),Gv("visible",Hv({transform:"scale(1)"})),$v("* => visible",Bv("200ms cubic-bezier(0, 0, 0.2, 1)",Wv([Hv({opacity:0,transform:"scale(0)",offset:0}),Hv({opacity:.5,transform:"scale(0.99)",offset:.5}),Hv({opacity:1,transform:"scale(1)",offset:1})]))),$v("* => hidden",Bv("100ms cubic-bezier(0, 0, 0.2, 1)",Hv({opacity:0})))])},nL=cy({passive:!0});function iL(t){return Error(`Tooltip position "${t}" is invalid.`)}const rL=new qt("mat-tooltip-scroll-strategy"),sL={provide:rL,deps:[ev],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},oL=new qt("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let aL=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l,c,u,h){this._overlay=t,this._elementRef=e,this._scrollDispatcher=n,this._viewContainerRef=i,this._ngZone=r,this._platform=s,this._ariaDescriber=o,this._focusMonitor=a,this._dir=c,this._defaultOptions=u,this._position="below",this._disabled=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=new Map,this._destroyed=new S,this._handleKeydown=t=>{this._isTooltipVisible()&&27===t.keyCode&&!Ty(t)&&(t.preventDefault(),t.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=l,u&&(u.position&&(this.position=u.position),u.touchGestures&&(this.touchGestures=u.touchGestures)),a.monitor(e).pipe(qg(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&r.run(()=>this.show()):r.run(()=>this.hide(0))}),r.runOutsideAngular(()=>{e.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=mg(t),this._disabled&&this.hide(0)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=t?`${t}`.trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message)})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngOnInit(){this._setupPointerEvents()}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach((e,n)=>{t.removeEventListener(n,e,nL)}),this._passiveListeners.clear(),this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const e=this._createOverlay();this._detach(),this._portal=this._portal||new xy(lL,this._viewContainerRef),this._tooltipInstance=e.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(qg(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),e=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(t);return e.positionChanges.pipe(qg(this._destroyed)).subscribe(t=>{this._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:e,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(qg(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign(Object.assign({},e.main),n.main),Object.assign(Object.assign({},e.fallback),n.fallback)])}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;if("above"==e||"below"==e)n={originX:"center",originY:"above"==e?"top":"bottom"};else if("before"==e||"left"==e&&t||"right"==e&&!t)n={originX:"start",originY:"center"};else{if(!("after"==e||"right"==e&&t||"left"==e&&!t))throw iL(e);n={originX:"end",originY:"center"}}const{x:i,y:r}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:i,originY:r}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;if("above"==e)n={overlayX:"center",overlayY:"bottom"};else if("below"==e)n={overlayX:"center",overlayY:"top"};else if("before"==e||"left"==e&&t||"right"==e&&!t)n={overlayX:"end",overlayY:"center"};else{if(!("after"==e||"right"==e&&t||"left"==e&&!t))throw iL(e);n={overlayX:"start",overlayY:"center"}}const{x:i,y:r}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:i,overlayY:r}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(op(1),qg(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}_setupPointerEvents(){if(this._platform.IOS||this._platform.ANDROID){if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const t=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};this._passiveListeners.set("touchend",t).set("touchcancel",t).set("touchstart",()=>{clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)})}}else this._passiveListeners.set("mouseenter",()=>this.show()).set("mouseleave",()=>this.hide());this._passiveListeners.forEach((t,e)=>{this._elementRef.nativeElement.addEventListener(e,t,nL)})}_disableNativeGesturesIfNecessary(){const t=this._elementRef.nativeElement,e=t.style,n=this.touchGestures;"off"!==n&&(("on"===n||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName)&&(e.userSelect=e.msUserSelect=e.webkitUserSelect=e.MozUserSelect="none"),"on"!==n&&t.draggable||(e.webkitUserDrag="none"),e.touchAction="none",e.webkitTapHighlightColor="transparent")}}return t.\u0275fac=function(e){return new(e||t)(So(ev),So(ja),So(yy),So(hl),So(Oc),So(iy),So(bv),So(Pv),So(rL),So(dy,8),So(oL,8),So(ja))},t.\u0275dir=Ee({type:t,selectors:[["","matTooltip",""]],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),t})(),lL=(()=>{class t{constructor(t,e){this._changeDetectorRef=t,this._breakpointObserver=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new S,this._isHandset=this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)")}show(t){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},t)}hide(t){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},t)}afterHidden(){return this._onHide.asObservable()}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(So(Hs),So(ZM))},t.\u0275cmp=ye({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){1&t&&Vo("click",(function(){return e._handleBodyInteraction()}),!1,Gn),2&t&&ea("zoom","visible"===e._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){var n;1&t&&(Oo(0,"div",0),Vo("@state.start",(function(){return e._animationStart()}))("@state.done",(function(t){return e._animationDone(t)})),Pl(1,"async"),pa(2),Do()),2&t&&(na("mat-tooltip-handset",null==(n=Fl(1,5,e._isHandset))?null:n.matches),Ao("ngClass",e.tooltipClass)("@state",e._visibility),gr(2),fa(e.message))},directives:[hh],pipes:[Rh],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[eL.tooltipState]},changeDetection:0}),t})(),cL=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},providers:[sL],imports:[[Lv,Qh,av,yw],yw]}),t})(),uL=(()=>{class t extends gR{buildStyles(t){return{content:t?`url(${t})`:""}}}return t.\u0275fac=function(e){return hL(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const hL=ci(uL);let dL=(()=>{class t extends YD{constructor(t,e,n,i,r,s){super(t,e,n,i),this.platformId=r,this.serverModuleLoaded=s,this.DIRECTIVE_KEY="img-src",this.defaultSrc="",this.styleCache=pL,this.init(),this.setValue(this.nativeElement.getAttribute("src")||"",""),Jh(this.platformId)&&this.serverModuleLoaded&&this.nativeElement.setAttribute("src","")}set src(t){this.defaultSrc=t,this.setValue(this.defaultSrc,"")}updateWithValue(t){const e=t||this.defaultSrc;Jh(this.platformId)&&this.serverModuleLoaded?this.addStyles(e):this.nativeElement.setAttribute("src",e)}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(uL),So(mR),So(_R),So(fc),So(HD))},t.\u0275dir=Ee({type:t,inputs:{src:"src"},features:[_a]}),t})();const pL=new Map,fL=["src.xs","src.sm","src.md","src.lg","src.xl","src.lt-sm","src.lt-md","src.lt-lg","src.lt-xl","src.gt-xs","src.gt-sm","src.gt-md","src.gt-lg"];let mL=(()=>{class t extends dL{constructor(){super(...arguments),this.inputs=fL}}return t.\u0275fac=function(e){return gL(e||t)},t.\u0275dir=Ee({type:t,selectors:[["img","src.xs",""],["img","src.sm",""],["img","src.md",""],["img","src.lg",""],["img","src.xl",""],["img","src.lt-sm",""],["img","src.lt-md",""],["img","src.lt-lg",""],["img","src.lt-xl",""],["img","src.gt-xs",""],["img","src.gt-sm",""],["img","src.gt-md",""],["img","src.gt-lg",""]],inputs:{"src.xs":"src.xs","src.sm":"src.sm","src.md":"src.md","src.lg":"src.lg","src.xl":"src.xl","src.lt-sm":"src.lt-sm","src.lt-md":"src.lt-md","src.lt-lg":"src.lt-lg","src.lt-xl":"src.lt-xl","src.gt-xs":"src.gt-xs","src.gt-sm":"src.gt-sm","src.gt-md":"src.gt-md","src.gt-lg":"src.gt-lg"},features:[_a]}),t})();const gL=ci(mL);let yL=(()=>{class t extends YD{constructor(t,e,n,i,r,s,o){super(t,null,e,n),this.ngClassInstance=o,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new hh(i,r,t,s)),this.init(),this.setValue("","")}set klass(t){this.ngClassInstance.klass=t,this.setValue(t,"")}updateWithValue(t){this.ngClassInstance.ngClass=t,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(mR),So(_R),So(rl),So(sl),So(za),So(hh,10))},t.\u0275dir=Ee({type:t,inputs:{klass:["class","klass"]},features:[_a]}),t})();const vL=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let _L=(()=>{class t extends yL{constructor(){super(...arguments),this.inputs=vL}}return t.\u0275fac=function(e){return bL(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[_a]}),t})();const bL=ci(_L);let wL=(()=>{class t extends gR{buildStyles(t,e){return{display:"true"===t?e.display:"none"}}}return t.\u0275fac=function(e){return xL(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const xL=ci(wL);let CL=(()=>{class t extends YD{constructor(t,e,n,i,r,s,o){super(t,e,n,i),this.layoutConfig=r,this.platformId=s,this.serverModuleLoaded=o,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();const t=Array.from(this.nativeElement.children);for(let n=0;n<t.length;n++)if(this.marshal.hasValue(t[n],"flex")){this.hasFlexChild=!0;break}EL.has(this.nativeElement)?this.display=EL.get(this.nativeElement):(this.display=this.getDisplayStyle(),EL.set(this.nativeElement,this.display)),this.init();const e=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===e||""===e?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(t){Object.keys(t).forEach(e=>{if(-1!==this.inputs.indexOf(e)){const n=e.split("."),i=n.slice(1).join("."),r=t[e].currentValue;let s=""===r||0!==r&&mg(r);"fxHide"===n[0]&&(s=!s),this.setValue(s,i)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(t=>{this.marshal.trackValue(this.nativeElement,t).pipe(qg(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(t=!0){""!==t&&(this.addStyles(t?"true":"false",{display:this.display}),Jh(this.platformId)&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap"))}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(wL),So(mR),So(_R),So(zD),So(fc),So(HD))},t.\u0275dir=Ee({type:t,features:[_a,Sa]}),t})();const EL=new WeakMap,SL=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];let kL=(()=>{class t extends CL{constructor(){super(...arguments),this.inputs=SL}}return t.\u0275fac=function(e){return IL(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[_a]}),t})();const IL=ci(kL);class AL{constructor(t,e,n=!0){this.key=t,this.value=e,this.key=n?t.replace(/['"]/g,"").trim():t.trim(),this.value=n?e.replace(/['"]/g,"").trim():e.trim(),this.value=this.value.replace(/;/,"")}}function TL(t){let e=typeof t;return"object"===e?t.constructor===Array?"array":t.constructor===Set?"set":"object":e}function OL(t){const[e,...n]=t.split(":");return new AL(e,n.join(":"))}function DL(t,e){return e.key&&(t[e.key]=e.value),t}let RL=(()=>{class t extends YD{constructor(t,e,n,i,r,s,o,a,l){super(t,null,e,n),this.sanitizer=i,this.ngStyleInstance=o,this.DIRECTIVE_KEY="ngStyle",this.ngStyleInstance||(this.ngStyleInstance=new Sh(t,r,s)),this.init();const c=this.nativeElement.getAttribute("style")||"";this.fallbackStyles=this.buildStyleMap(c),this.isServer=a&&Jh(l)}updateWithValue(t){const e=this.buildStyleMap(t);this.ngStyleInstance.ngStyle=Object.assign(Object.assign({},this.fallbackStyles),e),this.isServer&&this.applyStyleToElement(e),this.ngStyleInstance.ngDoCheck()}clearStyles(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}buildStyleMap(t){const e=t=>this.sanitizer.sanitize($i.STYLE,t)||"";if(t)switch(TL(t)){case"string":return ML(function(t,e=";"){return String(t).trim().split(e).map(t=>t.trim()).filter(t=>""!==t)}(t),e);case"array":return ML(t,e);case"set":default:return function(t,e){let n=[];return"set"===TL(t)?t.forEach(t=>n.push(t)):Object.keys(t).forEach(e=>{n.push(`${e}:${t[e]}`)}),function(t,e){return t.map(OL).filter(t=>!!t).map(t=>(e&&(t.value=e(t.value)),t)).reduce(DL,{})}(n,e)}(t,e)}return{}}ngDoCheck(){this.ngStyleInstance.ngDoCheck()}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(mR),So(_R),So(kd),So(sl),So(za),So(Sh,10),So(HD),So(fc))},t.\u0275dir=Ee({type:t,features:[_a]}),t})();const NL=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"];let PL=(()=>{class t extends RL{constructor(){super(...arguments),this.inputs=NL}}return t.\u0275fac=function(e){return FL(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[_a]}),t})();const FL=ci(PL);function ML(t,e){return t.map(OL).filter(t=>!!t).map(t=>(e&&(t.value=e(t.value)),t)).reduce(DL,{})}let LL=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[jD]]}),t})(),VL=(()=>{class t extends gR{buildStyles(t){return function(t=""){const e={},[n,i]=t.split(" ");switch(n){case"end":e["justify-self"]="end";break;case"center":e["justify-self"]="center";break;case"stretch":e["justify-self"]="stretch";break;case"start":e["justify-self"]="start";break;default:e["justify-self"]="stretch"}switch(i){case"end":e["align-self"]="end";break;case"center":e["align-self"]="center";break;case"stretch":e["align-self"]="stretch";break;case"start":e["align-self"]="start";break;default:e["align-self"]="stretch"}return e}(t||"stretch")}}return t.\u0275fac=function(e){return jL(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const jL=ci(VL);let UL=(()=>{class t extends YD{constructor(t,e,n,i){super(t,e,n,i),this.DIRECTIVE_KEY="grid-align",this.styleCache=BL,this.init()}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(VL),So(mR),So(_R))},t.\u0275dir=Ee({type:t,features:[_a]}),t})();const BL=new Map,qL=["gdGridAlign","gdGridAlign.xs","gdGridAlign.sm","gdGridAlign.md","gdGridAlign.lg","gdGridAlign.xl","gdGridAlign.lt-sm","gdGridAlign.lt-md","gdGridAlign.lt-lg","gdGridAlign.lt-xl","gdGridAlign.gt-xs","gdGridAlign.gt-sm","gdGridAlign.gt-md","gdGridAlign.gt-lg"];let zL=(()=>{class t extends UL{constructor(){super(...arguments),this.inputs=qL}}return t.\u0275fac=function(e){return HL(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","gdGridAlign",""],["","gdGridAlign.xs",""],["","gdGridAlign.sm",""],["","gdGridAlign.md",""],["","gdGridAlign.lg",""],["","gdGridAlign.xl",""],["","gdGridAlign.lt-sm",""],["","gdGridAlign.lt-md",""],["","gdGridAlign.lt-lg",""],["","gdGridAlign.lt-xl",""],["","gdGridAlign.gt-xs",""],["","gdGridAlign.gt-sm",""],["","gdGridAlign.gt-md",""],["","gdGridAlign.gt-lg",""]],inputs:{gdGridAlign:"gdGridAlign","gdGridAlign.xs":"gdGridAlign.xs","gdGridAlign.sm":"gdGridAlign.sm","gdGridAlign.md":"gdGridAlign.md","gdGridAlign.lg":"gdGridAlign.lg","gdGridAlign.xl":"gdGridAlign.xl","gdGridAlign.lt-sm":"gdGridAlign.lt-sm","gdGridAlign.lt-md":"gdGridAlign.lt-md","gdGridAlign.lt-lg":"gdGridAlign.lt-lg","gdGridAlign.lt-xl":"gdGridAlign.lt-xl","gdGridAlign.gt-xs":"gdGridAlign.gt-xs","gdGridAlign.gt-sm":"gdGridAlign.gt-sm","gdGridAlign.gt-md":"gdGridAlign.gt-md","gdGridAlign.gt-lg":"gdGridAlign.gt-lg"},features:[_a]}),t})();const HL=ci(zL);let GL=(()=>{class t extends gR{buildStyles(t,e){return function(t,e){const n={},[i,r]=t.split(" ");switch(i){case"center":n["align-content"]="center";break;case"space-around":n["align-content"]="space-around";break;case"space-between":n["align-content"]="space-between";break;case"space-evenly":n["align-content"]="space-evenly";break;case"end":n["align-content"]="end";break;case"start":n["align-content"]="start";break;case"stretch":n["align-content"]="stretch";break;default:n["align-content"]="start"}switch(r){case"start":n["align-items"]="start";break;case"center":n["align-items"]="center";break;case"end":n["align-items"]="end";break;case"stretch":default:n["align-items"]="stretch"}return n.display=e?"inline-grid":"grid",n}(t||"start stretch",e.inline)}}return t.\u0275fac=function(e){return WL(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const WL=ci(GL);let $L=(()=>{class t extends YD{constructor(t,e,n,i){super(t,e,n,i),this.DIRECTIVE_KEY="grid-align-columns",this._inline=!1,this.init()}get inline(){return this._inline}set inline(t){this._inline=mg(t)}updateWithValue(t){this.styleCache=this.inline?YL:KL,this.addStyles(t,{inline:this.inline})}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(GL),So(mR),So(_R))},t.\u0275dir=Ee({type:t,inputs:{inline:["gdInline","inline"]},features:[_a]}),t})();const KL=new Map,YL=new Map,QL=["gdAlignColumns","gdAlignColumns.xs","gdAlignColumns.sm","gdAlignColumns.md","gdAlignColumns.lg","gdAlignColumns.xl","gdAlignColumns.lt-sm","gdAlignColumns.lt-md","gdAlignColumns.lt-lg","gdAlignColumns.lt-xl","gdAlignColumns.gt-xs","gdAlignColumns.gt-sm","gdAlignColumns.gt-md","gdAlignColumns.gt-lg"];let XL=(()=>{class t extends $L{constructor(){super(...arguments),this.inputs=QL}}return t.\u0275fac=function(e){return JL(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","gdAlignColumns",""],["","gdAlignColumns.xs",""],["","gdAlignColumns.sm",""],["","gdAlignColumns.md",""],["","gdAlignColumns.lg",""],["","gdAlignColumns.xl",""],["","gdAlignColumns.lt-sm",""],["","gdAlignColumns.lt-md",""],["","gdAlignColumns.lt-lg",""],["","gdAlignColumns.lt-xl",""],["","gdAlignColumns.gt-xs",""],["","gdAlignColumns.gt-sm",""],["","gdAlignColumns.gt-md",""],["","gdAlignColumns.gt-lg",""]],inputs:{gdAlignColumns:"gdAlignColumns","gdAlignColumns.xs":"gdAlignColumns.xs","gdAlignColumns.sm":"gdAlignColumns.sm","gdAlignColumns.md":"gdAlignColumns.md","gdAlignColumns.lg":"gdAlignColumns.lg","gdAlignColumns.xl":"gdAlignColumns.xl","gdAlignColumns.lt-sm":"gdAlignColumns.lt-sm","gdAlignColumns.lt-md":"gdAlignColumns.lt-md","gdAlignColumns.lt-lg":"gdAlignColumns.lt-lg","gdAlignColumns.lt-xl":"gdAlignColumns.lt-xl","gdAlignColumns.gt-xs":"gdAlignColumns.gt-xs","gdAlignColumns.gt-sm":"gdAlignColumns.gt-sm","gdAlignColumns.gt-md":"gdAlignColumns.gt-md","gdAlignColumns.gt-lg":"gdAlignColumns.gt-lg"},features:[_a]}),t})();const JL=ci(XL);let ZL=(()=>{class t extends gR{buildStyles(t,e){return function(t,e){const n={},[i,r]=t.split(" ");switch(i){case"center":case"space-around":case"space-between":case"space-evenly":case"end":case"start":case"stretch":n["justify-content"]=i;break;default:n["justify-content"]="start"}switch(r){case"start":case"center":case"end":case"stretch":n["justify-items"]=r;break;default:n["justify-items"]="stretch"}return n.display=e?"inline-grid":"grid",n}(t||"start stretch",e.inline)}}return t.\u0275fac=function(e){return tV(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const tV=ci(ZL);let eV=(()=>{class t extends YD{constructor(t,e,n,i){super(t,e,n,i),this.DIRECTIVE_KEY="grid-align-rows",this._inline=!1,this.init()}get inline(){return this._inline}set inline(t){this._inline=mg(t)}updateWithValue(t){this.styleCache=this.inline?iV:nV,this.addStyles(t,{inline:this.inline})}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(ZL),So(mR),So(_R))},t.\u0275dir=Ee({type:t,inputs:{inline:["gdInline","inline"]},features:[_a]}),t})();const nV=new Map,iV=new Map,rV=["gdAlignRows","gdAlignRows.xs","gdAlignRows.sm","gdAlignRows.md","gdAlignRows.lg","gdAlignRows.xl","gdAlignRows.lt-sm","gdAlignRows.lt-md","gdAlignRows.lt-lg","gdAlignRows.lt-xl","gdAlignRows.gt-xs","gdAlignRows.gt-sm","gdAlignRows.gt-md","gdAlignRows.gt-lg"];let sV=(()=>{class t extends eV{constructor(){super(...arguments),this.inputs=rV}}return t.\u0275fac=function(e){return oV(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","gdAlignRows",""],["","gdAlignRows.xs",""],["","gdAlignRows.sm",""],["","gdAlignRows.md",""],["","gdAlignRows.lg",""],["","gdAlignRows.xl",""],["","gdAlignRows.lt-sm",""],["","gdAlignRows.lt-md",""],["","gdAlignRows.lt-lg",""],["","gdAlignRows.lt-xl",""],["","gdAlignRows.gt-xs",""],["","gdAlignRows.gt-sm",""],["","gdAlignRows.gt-md",""],["","gdAlignRows.gt-lg",""]],inputs:{gdAlignRows:"gdAlignRows","gdAlignRows.xs":"gdAlignRows.xs","gdAlignRows.sm":"gdAlignRows.sm","gdAlignRows.md":"gdAlignRows.md","gdAlignRows.lg":"gdAlignRows.lg","gdAlignRows.xl":"gdAlignRows.xl","gdAlignRows.lt-sm":"gdAlignRows.lt-sm","gdAlignRows.lt-md":"gdAlignRows.lt-md","gdAlignRows.lt-lg":"gdAlignRows.lt-lg","gdAlignRows.lt-xl":"gdAlignRows.lt-xl","gdAlignRows.gt-xs":"gdAlignRows.gt-xs","gdAlignRows.gt-sm":"gdAlignRows.gt-sm","gdAlignRows.gt-md":"gdAlignRows.gt-md","gdAlignRows.gt-lg":"gdAlignRows.gt-lg"},features:[_a]}),t})();const oV=ci(sV);let aV=(()=>{class t extends gR{buildStyles(t){return{"grid-area":t||"auto"}}}return t.\u0275fac=function(e){return lV(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const lV=ci(aV);let cV=(()=>{class t extends YD{constructor(t,e,n,i){super(t,n,e,i),this.DIRECTIVE_KEY="grid-area",this.styleCache=uV,this.init()}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(mR),So(aV),So(_R))},t.\u0275dir=Ee({type:t,features:[_a]}),t})();const uV=new Map,hV=["gdArea","gdArea.xs","gdArea.sm","gdArea.md","gdArea.lg","gdArea.xl","gdArea.lt-sm","gdArea.lt-md","gdArea.lt-lg","gdArea.lt-xl","gdArea.gt-xs","gdArea.gt-sm","gdArea.gt-md","gdArea.gt-lg"];let dV=(()=>{class t extends cV{constructor(){super(...arguments),this.inputs=hV}}return t.\u0275fac=function(e){return pV(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","gdArea",""],["","gdArea.xs",""],["","gdArea.sm",""],["","gdArea.md",""],["","gdArea.lg",""],["","gdArea.xl",""],["","gdArea.lt-sm",""],["","gdArea.lt-md",""],["","gdArea.lt-lg",""],["","gdArea.lt-xl",""],["","gdArea.gt-xs",""],["","gdArea.gt-sm",""],["","gdArea.gt-md",""],["","gdArea.gt-lg",""]],inputs:{gdArea:"gdArea","gdArea.xs":"gdArea.xs","gdArea.sm":"gdArea.sm","gdArea.md":"gdArea.md","gdArea.lg":"gdArea.lg","gdArea.xl":"gdArea.xl","gdArea.lt-sm":"gdArea.lt-sm","gdArea.lt-md":"gdArea.lt-md","gdArea.lt-lg":"gdArea.lt-lg","gdArea.lt-xl":"gdArea.lt-xl","gdArea.gt-xs":"gdArea.gt-xs","gdArea.gt-sm":"gdArea.gt-sm","gdArea.gt-md":"gdArea.gt-md","gdArea.gt-lg":"gdArea.gt-lg"},features:[_a]}),t})();const pV=ci(dV);let fV=(()=>{class t extends gR{buildStyles(t,e){const n=(t||"none").split("|").map(t=>`"${t.trim()}"`);return{display:e.inline?"inline-grid":"grid","grid-template-areas":n.join(" ")}}}return t.\u0275fac=function(e){return mV(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const mV=ci(fV);let gV=(()=>{class t extends YD{constructor(t,e,n,i){super(t,n,e,i),this.DIRECTIVE_KEY="grid-areas",this._inline=!1,this.init()}get inline(){return this._inline}set inline(t){this._inline=mg(t)}updateWithValue(t){this.styleCache=this.inline?vV:yV,this.addStyles(t,{inline:this.inline})}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(mR),So(fV),So(_R))},t.\u0275dir=Ee({type:t,inputs:{inline:["gdInline","inline"]},features:[_a]}),t})();const yV=new Map,vV=new Map,_V=["gdAreas","gdAreas.xs","gdAreas.sm","gdAreas.md","gdAreas.lg","gdAreas.xl","gdAreas.lt-sm","gdAreas.lt-md","gdAreas.lt-lg","gdAreas.lt-xl","gdAreas.gt-xs","gdAreas.gt-sm","gdAreas.gt-md","gdAreas.gt-lg"];let bV=(()=>{class t extends gV{constructor(){super(...arguments),this.inputs=_V}}return t.\u0275fac=function(e){return wV(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","gdAreas",""],["","gdAreas.xs",""],["","gdAreas.sm",""],["","gdAreas.md",""],["","gdAreas.lg",""],["","gdAreas.xl",""],["","gdAreas.lt-sm",""],["","gdAreas.lt-md",""],["","gdAreas.lt-lg",""],["","gdAreas.lt-xl",""],["","gdAreas.gt-xs",""],["","gdAreas.gt-sm",""],["","gdAreas.gt-md",""],["","gdAreas.gt-lg",""]],inputs:{gdAreas:"gdAreas","gdAreas.xs":"gdAreas.xs","gdAreas.sm":"gdAreas.sm","gdAreas.md":"gdAreas.md","gdAreas.lg":"gdAreas.lg","gdAreas.xl":"gdAreas.xl","gdAreas.lt-sm":"gdAreas.lt-sm","gdAreas.lt-md":"gdAreas.lt-md","gdAreas.lt-lg":"gdAreas.lt-lg","gdAreas.lt-xl":"gdAreas.lt-xl","gdAreas.gt-xs":"gdAreas.gt-xs","gdAreas.gt-sm":"gdAreas.gt-sm","gdAreas.gt-md":"gdAreas.gt-md","gdAreas.gt-lg":"gdAreas.gt-lg"},features:[_a]}),t})();const wV=ci(bV);let xV=(()=>{class t extends gR{buildStyles(t,e){let[n,i]=(t||"initial").split(" ");return"column"!==n&&"row"!==n&&"dense"!==n&&(n="row"),i="dense"===i&&"dense"!==n?" dense":"",{display:e.inline?"inline-grid":"grid","grid-auto-flow":n+i}}}return t.\u0275fac=function(e){return CV(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const CV=ci(xV);let EV=(()=>{class t extends YD{constructor(t,e,n,i){super(t,e,n,i),this._inline=!1,this.DIRECTIVE_KEY="grid-auto",this.init()}get inline(){return this._inline}set inline(t){this._inline=mg(t)}updateWithValue(t){this.styleCache=this.inline?kV:SV,this.addStyles(t,{inline:this.inline})}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(xV),So(mR),So(_R))},t.\u0275dir=Ee({type:t,inputs:{inline:["gdInline","inline"]},features:[_a]}),t})();const SV=new Map,kV=new Map,IV=["gdAuto","gdAuto.xs","gdAuto.sm","gdAuto.md","gdAuto.lg","gdAuto.xl","gdAuto.lt-sm","gdAuto.lt-md","gdAuto.lt-lg","gdAuto.lt-xl","gdAuto.gt-xs","gdAuto.gt-sm","gdAuto.gt-md","gdAuto.gt-lg"];let AV=(()=>{class t extends EV{constructor(){super(...arguments),this.inputs=IV}}return t.\u0275fac=function(e){return TV(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","gdAuto",""],["","gdAuto.xs",""],["","gdAuto.sm",""],["","gdAuto.md",""],["","gdAuto.lg",""],["","gdAuto.xl",""],["","gdAuto.lt-sm",""],["","gdAuto.lt-md",""],["","gdAuto.lt-lg",""],["","gdAuto.lt-xl",""],["","gdAuto.gt-xs",""],["","gdAuto.gt-sm",""],["","gdAuto.gt-md",""],["","gdAuto.gt-lg",""]],inputs:{gdAuto:"gdAuto","gdAuto.xs":"gdAuto.xs","gdAuto.sm":"gdAuto.sm","gdAuto.md":"gdAuto.md","gdAuto.lg":"gdAuto.lg","gdAuto.xl":"gdAuto.xl","gdAuto.lt-sm":"gdAuto.lt-sm","gdAuto.lt-md":"gdAuto.lt-md","gdAuto.lt-lg":"gdAuto.lt-lg","gdAuto.lt-xl":"gdAuto.lt-xl","gdAuto.gt-xs":"gdAuto.gt-xs","gdAuto.gt-sm":"gdAuto.gt-sm","gdAuto.gt-md":"gdAuto.gt-md","gdAuto.gt-lg":"gdAuto.gt-lg"},features:[_a]}),t})();const TV=ci(AV);let OV=(()=>{class t extends gR{buildStyles(t){return{"grid-column":t||"auto"}}}return t.\u0275fac=function(e){return DV(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const DV=ci(OV);let RV=(()=>{class t extends YD{constructor(t,e,n,i){super(t,e,n,i),this.DIRECTIVE_KEY="grid-column",this.styleCache=NV,this.init()}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(OV),So(mR),So(_R))},t.\u0275dir=Ee({type:t,features:[_a]}),t})();const NV=new Map,PV=["gdColumn","gdColumn.xs","gdColumn.sm","gdColumn.md","gdColumn.lg","gdColumn.xl","gdColumn.lt-sm","gdColumn.lt-md","gdColumn.lt-lg","gdColumn.lt-xl","gdColumn.gt-xs","gdColumn.gt-sm","gdColumn.gt-md","gdColumn.gt-lg"];let FV=(()=>{class t extends RV{constructor(){super(...arguments),this.inputs=PV}}return t.\u0275fac=function(e){return MV(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","gdColumn",""],["","gdColumn.xs",""],["","gdColumn.sm",""],["","gdColumn.md",""],["","gdColumn.lg",""],["","gdColumn.xl",""],["","gdColumn.lt-sm",""],["","gdColumn.lt-md",""],["","gdColumn.lt-lg",""],["","gdColumn.lt-xl",""],["","gdColumn.gt-xs",""],["","gdColumn.gt-sm",""],["","gdColumn.gt-md",""],["","gdColumn.gt-lg",""]],inputs:{gdColumn:"gdColumn","gdColumn.xs":"gdColumn.xs","gdColumn.sm":"gdColumn.sm","gdColumn.md":"gdColumn.md","gdColumn.lg":"gdColumn.lg","gdColumn.xl":"gdColumn.xl","gdColumn.lt-sm":"gdColumn.lt-sm","gdColumn.lt-md":"gdColumn.lt-md","gdColumn.lt-lg":"gdColumn.lt-lg","gdColumn.lt-xl":"gdColumn.lt-xl","gdColumn.gt-xs":"gdColumn.gt-xs","gdColumn.gt-sm":"gdColumn.gt-sm","gdColumn.gt-md":"gdColumn.gt-md","gdColumn.gt-lg":"gdColumn.gt-lg"},features:[_a]}),t})();const MV=ci(FV);let LV=(()=>{class t extends gR{buildStyles(t,e){let n=!1;(t=t||"none").endsWith("!")&&(t=t.substring(0,t.indexOf("!")),n=!0);const i={display:e.inline?"inline-grid":"grid","grid-auto-columns":"","grid-template-columns":""};return i[n?"grid-auto-columns":"grid-template-columns"]=t,i}}return t.\u0275fac=function(e){return VV(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const VV=ci(LV);let jV=(()=>{class t extends YD{constructor(t,e,n,i){super(t,e,n,i),this.DIRECTIVE_KEY="grid-columns",this._inline=!1,this.init()}get inline(){return this._inline}set inline(t){this._inline=mg(t)}updateWithValue(t){this.styleCache=this.inline?BV:UV,this.addStyles(t,{inline:this.inline})}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(LV),So(mR),So(_R))},t.\u0275dir=Ee({type:t,inputs:{inline:["gdInline","inline"]},features:[_a]}),t})();const UV=new Map,BV=new Map,qV=["gdColumns","gdColumns.xs","gdColumns.sm","gdColumns.md","gdColumns.lg","gdColumns.xl","gdColumns.lt-sm","gdColumns.lt-md","gdColumns.lt-lg","gdColumns.lt-xl","gdColumns.gt-xs","gdColumns.gt-sm","gdColumns.gt-md","gdColumns.gt-lg"];let zV=(()=>{class t extends jV{constructor(){super(...arguments),this.inputs=qV}}return t.\u0275fac=function(e){return HV(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","gdColumns",""],["","gdColumns.xs",""],["","gdColumns.sm",""],["","gdColumns.md",""],["","gdColumns.lg",""],["","gdColumns.xl",""],["","gdColumns.lt-sm",""],["","gdColumns.lt-md",""],["","gdColumns.lt-lg",""],["","gdColumns.lt-xl",""],["","gdColumns.gt-xs",""],["","gdColumns.gt-sm",""],["","gdColumns.gt-md",""],["","gdColumns.gt-lg",""]],inputs:{gdColumns:"gdColumns","gdColumns.xs":"gdColumns.xs","gdColumns.sm":"gdColumns.sm","gdColumns.md":"gdColumns.md","gdColumns.lg":"gdColumns.lg","gdColumns.xl":"gdColumns.xl","gdColumns.lt-sm":"gdColumns.lt-sm","gdColumns.lt-md":"gdColumns.lt-md","gdColumns.lt-lg":"gdColumns.lt-lg","gdColumns.lt-xl":"gdColumns.lt-xl","gdColumns.gt-xs":"gdColumns.gt-xs","gdColumns.gt-sm":"gdColumns.gt-sm","gdColumns.gt-md":"gdColumns.gt-md","gdColumns.gt-lg":"gdColumns.gt-lg"},features:[_a]}),t})();const HV=ci(zV);let GV=(()=>{class t extends gR{buildStyles(t,e){return{display:e.inline?"inline-grid":"grid","grid-gap":t||"0"}}}return t.\u0275fac=function(e){return WV(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const WV=ci(GV);let $V=(()=>{class t extends YD{constructor(t,e,n,i){super(t,n,e,i),this.DIRECTIVE_KEY="grid-gap",this._inline=!1,this.init()}get inline(){return this._inline}set inline(t){this._inline=mg(t)}updateWithValue(t){this.styleCache=this.inline?YV:KV,this.addStyles(t,{inline:this.inline})}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(mR),So(GV),So(_R))},t.\u0275dir=Ee({type:t,inputs:{inline:["gdInline","inline"]},features:[_a]}),t})();const KV=new Map,YV=new Map,QV=["gdGap","gdGap.xs","gdGap.sm","gdGap.md","gdGap.lg","gdGap.xl","gdGap.lt-sm","gdGap.lt-md","gdGap.lt-lg","gdGap.lt-xl","gdGap.gt-xs","gdGap.gt-sm","gdGap.gt-md","gdGap.gt-lg"];let XV=(()=>{class t extends $V{constructor(){super(...arguments),this.inputs=QV}}return t.\u0275fac=function(e){return JV(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","gdGap",""],["","gdGap.xs",""],["","gdGap.sm",""],["","gdGap.md",""],["","gdGap.lg",""],["","gdGap.xl",""],["","gdGap.lt-sm",""],["","gdGap.lt-md",""],["","gdGap.lt-lg",""],["","gdGap.lt-xl",""],["","gdGap.gt-xs",""],["","gdGap.gt-sm",""],["","gdGap.gt-md",""],["","gdGap.gt-lg",""]],inputs:{gdGap:"gdGap","gdGap.xs":"gdGap.xs","gdGap.sm":"gdGap.sm","gdGap.md":"gdGap.md","gdGap.lg":"gdGap.lg","gdGap.xl":"gdGap.xl","gdGap.lt-sm":"gdGap.lt-sm","gdGap.lt-md":"gdGap.lt-md","gdGap.lt-lg":"gdGap.lt-lg","gdGap.lt-xl":"gdGap.lt-xl","gdGap.gt-xs":"gdGap.gt-xs","gdGap.gt-sm":"gdGap.gt-sm","gdGap.gt-md":"gdGap.gt-md","gdGap.gt-lg":"gdGap.gt-lg"},features:[_a]}),t})();const JV=ci(XV);let ZV=(()=>{class t extends gR{buildStyles(t){return{"grid-row":t||"auto"}}}return t.\u0275fac=function(e){return tj(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const tj=ci(ZV);let ej=(()=>{class t extends YD{constructor(t,e,n,i){super(t,e,n,i),this.DIRECTIVE_KEY="grid-row",this.styleCache=nj,this.init()}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(ZV),So(mR),So(_R))},t.\u0275dir=Ee({type:t,features:[_a]}),t})();const nj=new Map,ij=["gdRow","gdRow.xs","gdRow.sm","gdRow.md","gdRow.lg","gdRow.xl","gdRow.lt-sm","gdRow.lt-md","gdRow.lt-lg","gdRow.lt-xl","gdRow.gt-xs","gdRow.gt-sm","gdRow.gt-md","gdRow.gt-lg"];let rj=(()=>{class t extends ej{constructor(){super(...arguments),this.inputs=ij}}return t.\u0275fac=function(e){return sj(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","gdRow",""],["","gdRow.xs",""],["","gdRow.sm",""],["","gdRow.md",""],["","gdRow.lg",""],["","gdRow.xl",""],["","gdRow.lt-sm",""],["","gdRow.lt-md",""],["","gdRow.lt-lg",""],["","gdRow.lt-xl",""],["","gdRow.gt-xs",""],["","gdRow.gt-sm",""],["","gdRow.gt-md",""],["","gdRow.gt-lg",""]],inputs:{gdRow:"gdRow","gdRow.xs":"gdRow.xs","gdRow.sm":"gdRow.sm","gdRow.md":"gdRow.md","gdRow.lg":"gdRow.lg","gdRow.xl":"gdRow.xl","gdRow.lt-sm":"gdRow.lt-sm","gdRow.lt-md":"gdRow.lt-md","gdRow.lt-lg":"gdRow.lt-lg","gdRow.lt-xl":"gdRow.lt-xl","gdRow.gt-xs":"gdRow.gt-xs","gdRow.gt-sm":"gdRow.gt-sm","gdRow.gt-md":"gdRow.gt-md","gdRow.gt-lg":"gdRow.gt-lg"},features:[_a]}),t})();const sj=ci(rj);let oj=(()=>{class t extends gR{buildStyles(t,e){let n=!1;(t=t||"none").endsWith("!")&&(t=t.substring(0,t.indexOf("!")),n=!0);const i={display:e.inline?"inline-grid":"grid","grid-auto-rows":"","grid-template-rows":""};return i[n?"grid-auto-rows":"grid-template-rows"]=t,i}}return t.\u0275fac=function(e){return aj(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const aj=ci(oj);let lj=(()=>{class t extends YD{constructor(t,e,n,i){super(t,e,n,i),this.DIRECTIVE_KEY="grid-rows",this._inline=!1,this.init()}get inline(){return this._inline}set inline(t){this._inline=mg(t)}updateWithValue(t){this.styleCache=this.inline?uj:cj,this.addStyles(t,{inline:this.inline})}}return t.\u0275fac=function(e){return new(e||t)(So(ja),So(oj),So(mR),So(_R))},t.\u0275dir=Ee({type:t,inputs:{inline:["gdInline","inline"]},features:[_a]}),t})();const cj=new Map,uj=new Map,hj=["gdRows","gdRows.xs","gdRows.sm","gdRows.md","gdRows.lg","gdRows.xl","gdRows.lt-sm","gdRows.lt-md","gdRows.lt-lg","gdRows.lt-xl","gdRows.gt-xs","gdRows.gt-sm","gdRows.gt-md","gdRows.gt-lg"];let dj=(()=>{class t extends lj{constructor(){super(...arguments),this.inputs=hj}}return t.\u0275fac=function(e){return pj(e||t)},t.\u0275dir=Ee({type:t,selectors:[["","gdRows",""],["","gdRows.xs",""],["","gdRows.sm",""],["","gdRows.md",""],["","gdRows.lg",""],["","gdRows.xl",""],["","gdRows.lt-sm",""],["","gdRows.lt-md",""],["","gdRows.lt-lg",""],["","gdRows.lt-xl",""],["","gdRows.gt-xs",""],["","gdRows.gt-sm",""],["","gdRows.gt-md",""],["","gdRows.gt-lg",""]],inputs:{gdRows:"gdRows","gdRows.xs":"gdRows.xs","gdRows.sm":"gdRows.sm","gdRows.md":"gdRows.md","gdRows.lg":"gdRows.lg","gdRows.xl":"gdRows.xl","gdRows.lt-sm":"gdRows.lt-sm","gdRows.lt-md":"gdRows.lt-md","gdRows.lt-lg":"gdRows.lt-lg","gdRows.lt-xl":"gdRows.lt-xl","gdRows.gt-xs":"gdRows.gt-xs","gdRows.gt-sm":"gdRows.gt-sm","gdRows.gt-md":"gdRows.gt-md","gdRows.gt-lg":"gdRows.gt-lg"},features:[_a]}),t})();const pj=ci(dj);let fj=(()=>{class t{}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},imports:[[jD]]}),t})(),mj=(()=>{class t{constructor(t,e){Jh(e)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,n=[]){return{ngModule:t,providers:e.serverLoaded?[{provide:zD,useValue:Object.assign(Object.assign({},qD),e)},{provide:GD,useValue:n,multi:!0},{provide:HD,useValue:!0}]:[{provide:zD,useValue:Object.assign(Object.assign({},qD),e)},{provide:GD,useValue:n,multi:!0}]}}}return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)(Jt(HD),Jt(fc))},imports:[[zN,LL,fj],zN,LL,fj]}),t})(),gj=(()=>{class t{constructor(){}addUser(t,e){return Object(Vk.__awaiter)(this,void 0,void 0,(function*(){const n=yield t.getIdToken();console.log("token",n);const i=yield fetch("/tt/add-user",{method:"post",headers:{"content-type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify({srcChallShareId:e})});return console.log("response",i),yield i.json()}))}getReferralAmt(t){return Object(Vk.__awaiter)(this,void 0,void 0,(function*(){try{const e=yield fetch("/tt/get-earnings",{method:"post",headers:yield this.getHeader(t)});console.log("response",e);const n=yield e.json();return console.log("json",n),n}catch(e){console.log("error",e)}}))}getHeader(t){return Object(Vk.__awaiter)(this,void 0,void 0,(function*(){return{"content-type":"application/json",Authorization:"Bearer "+(yield t.getIdToken())}}))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const yj=function(){return["/signin"]};function vj(t,e){1&t&&(No(0),Oo(1,"div",6),Oo(2,"i",7),pa(3,"account_circle"),Do(),Oo(4,"span"),pa(5,"SignIn"),Do(),Do(),Po()),2&t&&(gr(1),Ao("routerLink",Ol(1,yj)))}const _j=function(){return["/account/profile"]};function bj(t,e){if(1&t){const t=Fo();Oo(0,"div",6),Oo(1,"i",7),pa(2,"account_circle"),Do(),Oo(3,"span"),pa(4,"Profile"),Do(),Do(),Oo(5,"div",6),Oo(6,"i",7),pa(7,"settings"),Do(),Oo(8,"span"),pa(9,"Account"),Do(),Do(),Oo(10,"div",6),Oo(11,"i",7),pa(12,"local_post_office"),Do(),Oo(13,"span"),pa(14,"Messages"),Do(),Do(),Oo(15,"div",8),Vo("click",(function(){return tn(t),zo().logout()})),Oo(16,"i",7),pa(17,"power_settings_new"),Do(),Oo(18,"span"),pa(19,"Logout"),Do(),Do()}2&t&&(Ao("routerLink",Ol(3,_j)),gr(5),Ao("routerLink",Ol(4,_j)),gr(5),Ao("routerLink",Ol(5,_j)))}let wj=(()=>{class t{constructor(t,e,n,i){this.state=t,this.actionService=e,this.siteService=n,this.router=i}ngOnInit(){}isAnonymous(){var t,e;return null===(e=null===(t=this.state.appUser)||void 0===t?void 0:t.__fireUser)||void 0===e?void 0:e.isAnonymous}logout(){this.actionService.logout(),this.siteService.showInfoDialog({message:"You have successfully logged out. On click of 'OK' button, will be redirected to our home page."},()=>{this.router.navigate(["/home"])})}}return t.\u0275fac=function(e){return new(e||t)(So(gS),So(ZO),So(Lk),So(zm))},t.\u0275cmp=ye({type:t,selectors:[["app-header-user-profile-drop-down"]],decls:8,vars:3,consts:[["mat-mini-fab","",1,"log-in-user","mdb-35",3,"matMenuTriggerFor"],[1,"material-icons","mr-0"],[1,"header-user-profile-dd"],["loginuser","matMenu"],[4,"ngIf","ngIfElse"],["loggedInUser",""],["mat-menu-item","",3,"routerLink"],[1,"material-icons","mr-1"],["mat-menu-item","",3,"click"]],template:function(t,e){if(1&t&&(Oo(0,"button",0),Oo(1,"i",1),pa(2,"account_circle"),Do(),Do(),Oo(3,"mat-menu",2,3),Co(5,vj,6,2,"ng-container",4),Co(6,bj,20,6,"ng-template",null,5,ac),Do()),2&t){const t=Eo(4),n=Eo(7);Ao("matMenuTriggerFor",t),gr(5),Ao("ngIf",!0===e.isAnonymous())("ngIfElse",n)}},directives:[bx,TD,SD,gh,_D,Hm],styles:[".mat-menu-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:-webkit-max-content 1fr;grid-template-columns:max-content 1fr}.mat-menu-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{align-self:center}"]}),t})();n("LmZi");let xj=(()=>{let t=class{};return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},providers:[mS]}),t})();var Cj;n("6Joi");let Ej=(()=>{let t=Cj=class{static enablePersistence(t){return{ngModule:Cj,providers:[{provide:Kk,useValue:!0},{provide:Yk,useValue:t}]}}};return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},providers:[nI]}),t})();n("t6oF");let Sj=(()=>{let t=class{};return t.\u0275mod=xe({type:t}),t.\u0275inj=mt({factory:function(e){return new(e||t)},providers:[WI]}),t})();function kj(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Please enter a Quantity "),Do())}let Ij=(()=>{class t{constructor(t,e){this.cartService=t,this.siteService=e,this.qtyFormControl=new rE("",[mC.required]),this.matcher=new $x}ngOnInit(){}getProdTitle(){return this.cartLine.productSku.__product.title}getLinePrice(){return this.cartService.getLinePrice(this.cartLine)}deleteCartLine(){this.cartService.deleteCartLine(this.cartLine)}getProdImage(){return this.cartService.getProdImage(this.cartLine)}changeQty(t){this.cartLine.qty=t,this.cartService.updateCartQuantity(this.cartLine)}}return t.\u0275fac=function(e){return new(e||t)(So(sI),So(Lk))},t.\u0275cmp=ye({type:t,selectors:[["app-cart-line"]],inputs:{cartLine:"cartLine"},decls:14,vars:9,consts:[["aaa","","d","grid","gtc","1fr 1.5fr 1fr 1fr 1fr","w","100%","h","130px",1,"cart-line"],["alt","Photo","aaa","","w","80%","bbb","","ps","center center",3,"src"],["aaa","","ps","center center",1,"h6"],["aaa","","ps","center center"],["matInput","","type","number","placeholder","1","value","1","min","1","max","100",3,"ngModel","formControl","ngModelChange"],[4,"ngIf"],["aaa","","ps","center",1,"h6"],["aaa","","ps","center","clr","red",1,"material-icons","remove-item",3,"click"]],template:function(t,e){1&t&&(Oo(0,"div",0),Ro(1,"img",1),Oo(2,"span",2),pa(3),Do(),Oo(4,"mat-form-field",3),Oo(5,"mat-label"),pa(6,"Quantity"),Do(),Oo(7,"input",4),Vo("ngModelChange",(function(t){return e.changeQty(t)})),Do(),Co(8,kj,2,0,"mat-error",5),Do(),Oo(9,"span",6),pa(10),Pl(11,"currency"),Do(),Oo(12,"i",7),Vo("click",(function(){return e.deleteCartLine()})),pa(13," close "),Do(),Do()),2&t&&(gr(1),Ao("src",e.getProdImage(),Ji),gr(2),fa(e.getProdTitle()),gr(4),Ao("ngModel",e.cartLine.qty)("formControl",e.qtyFormControl),gr(1),Ao("ngIf",e.qtyFormControl.hasError("required")),gr(2),fa(Ml(11,6,e.getLinePrice(),"USD")))},directives:[xS,nk,$S,gk,xC,nC,cC,wE,gh,BS],pipes:[Wh],styles:["[_nghost-%COMP%]{justify-self:center}[_nghost-%COMP%]   .cart-line[_ngcontent-%COMP%]{border-bottom:var(--def-border)}[_nghost-%COMP%]   .cart-line[_ngcontent-%COMP%]:last-child{border-bottom:none}"]}),t})(),Aj=(()=>{class t{constructor(t,e,n){this.utilService=t,this.state=e,this.siteService=n}ngOnInit(){}onResize(){console.log("on resize"),this.siteService.setScreenSize(),this.utilService.getComponentByClass(xS.name).forEach(t=>{t.makeItResponsive()})}}return t.\u0275fac=function(e){return new(e||t)(So(vS),So(gS),So(Lk))},t.\u0275cmp=ye({type:t,selectors:[["app-page-size-detector"]],hostBindings:function(t,e){1&t&&Vo("resize",(function(){return e.onResize()}),!1,Hn)},decls:0,vars:0,template:function(t,e){},styles:[""]}),t})(),Tj=(()=>{class t extends NI{constructor(t,e,n,i,r,s,o,a,l){super(t),this.state=t,this.actionService=e,this.afAuth=n,this.fireService=i,this.utilService=r,this.userService=s,this.cd=o,this.formBuilder=a,this.siteService=l,this.close=new jl,this.compId="login",this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",this.signinForm=new sE({email:new rE(null,[mC.required,mC.email]),password:new rE(null,[mC.required])}),this.createUserErrMessage="",this.showProgressBar=!1,this.signInMode=Oj.SIGNUP}ngOnInit(){super.ngOnInit()}sendEmailVerfication(){sS.auth().currentUser.sendEmailVerification().then((function(){console.log("error")})).catch((function(t){console.log("error",t)}))}externalSignIn(t){const e=this;this.createUserErrMessage=void 0;const n=sS.auth().currentUser;let i;i="google"===t?new sS.auth.GoogleAuthProvider:"facebook"===t?new sS.auth.FacebookAuthProvider:new sS.auth.TwitterAuthProvider,i.setCustomParameters({login_hint:"user@example.com"}),n.linkWithPopup(i).then((function(n){return Object(Vk.__awaiter)(this,void 0,void 0,(function*(){var i=n.user;e.state.appUser.__fireUser=i,console.log("readhed here",t),e.state.appUser.fName=i.displayName,yield e.userService.updateUser(e.state.appUser)}))})).catch((function(t){return Object(Vk.__awaiter)(this,void 0,void 0,(function*(){console.error("reached in f error",t,t.code);const n=t.code,i=t.credential;if("auth/credential-already-in-use"===n)try{const t=yield sS.auth().signInWithCredential(i);console.log("status",t),e.doClose(!0),e.showProgressBar=!1,e.cd.detectChanges()}catch(t){console.error("status",t),e.createUserErrMessage="Error occured while Signing In. Please try again later."}else e.createUserErrMessage="auth/email-already-in-use"===n?"Email already in use with a different provider. Do you want to go with different provider?":"Error occured while Signing In. Please try again later.";e.cd.detectChanges()}))}))}doClose(t=!1){this.close.emit(t)}changeSignInMode(){this.signInMode=this.signInMode===Oj.SIGNIN?Oj.SIGNUP:Oj.SIGNIN}changeMode(t){this.signInMode=t}getSubmitText(){return this.signInMode===Oj.SIGNUP?"Sign Up":"Sign In"}getSignInHelpText(){return this.signInMode===Oj.SIGNUP?"Already registered? Sign in":"Not a member? Sign up"}}return t.\u0275fac=function(e){return new(e||t)(So(gS),So(ZO),So(WI),So(iI),So(vS),So($I),So(Hs),So(GE),So(Lk))},t.\u0275cmp=ye({type:t,selectors:[["app-login"]],outputs:{close:"close"},features:[_a],decls:0,vars:0,template:function(t,e){},styles:[""]}),t})();var Oj=function(t){return t[t.SIGNIN=0]="SIGNIN",t[t.SIGNUP=1]="SIGNUP",t[t.FORGOT_PSWD=2]="FORGOT_PSWD",t[t.EMAIL_VER=3]="EMAIL_VER",t[t.RESET_PSWD_SEND=4]="RESET_PSWD_SEND",t}({});let Dj=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ye({type:t,selectors:[["app-order-history"]],decls:1,vars:0,consts:[["aaa","","mt","70px","ps","s c","h","mxc","p","16px","brra","4px",1,"new-user","bb","mat-card"]],template:function(t,e){1&t&&Ro(0,"div",0)},directives:[xS],styles:["[_nghost-%COMP%]{display:grid}"]}),t})();function Rj(t,e){if(1&t){const t=Fo();No(0),Oo(1,"div",5),Oo(2,"span",2),pa(3),Do(),Oo(4,"span",2),pa(5),Do(),Oo(6,"span",2),pa(7),Do(),Oo(8,"span",6),pa(9),Do(),Oo(10,"i",7),Vo("click",(function(){tn(t);const n=e.$implicit;return zo().edit(n)})),pa(11," edit "),Do(),Oo(12,"i",7),Vo("click",(function(){tn(t);const n=e.$implicit;return zo().deleteVariant(n)})),pa(13," delete "),Do(),Do(),Po()}if(2&t){const t=e.$implicit;gr(3),fa(t.colorKey),gr(2),fa(t.colorValue),gr(2),fa(t.imgName),gr(2),fa(t.imgUrl)}}let Nj=(()=>{class t{constructor(t,e,n){this.afStorage=t,this.siteService=e,this.utilService=n,this.isUploading=!1}ngOnInit(){window.colorvar=this,this.colorVariants=this.product.colorVariants}addNewVariant(){const t=new Lx(Vx.RED,"","red","red");this.siteService.showInfoDialog({formData:t,infoType:KE.CLR_VARIANT_EDIT,product:this.product},e=>{void 0!==e&&this.colorVariants.push(t)})}deleteVariant(t){this.siteService.confirmationPopup("Are you sure you want to delete the selected color variant?").subscribe(e=>{if("yes"===e){const e=this.colorVariants.indexOf(t);this.colorVariants.splice(e,1)}})}cancel(t){t.__edit=!1}edit(t){this.siteService.showInfoDialog({formData:t,infoType:KE.CLR_VARIANT_EDIT,product:this.product},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(So(mS),So(Lk),So(vS))},t.\u0275cmp=ye({type:t,selectors:[["app-color-variant-editor"]],inputs:{product:"product"},decls:13,vars:1,consts:[["aaa","","d","g","rg","5px",1,"color-variants"],["aaa","","fs","medium","pos","rel",1,"color-variant","def-btm-border","header"],[1,"txt","item"],["mat-mini-fab","","color","accent","aria-label","Add new color variant","aaa","","pos","abs","r","0px",1,"mdb-25",3,"click"],[4,"ngFor","ngForOf"],["aaa","",1,"color-variant","def-btm-border"],[1,"txt","item","text-overflow-ellipsis"],["aaa","","ps","center",1,"material-icons",3,"click"]],template:function(t,e){1&t&&(Oo(0,"div",0),Oo(1,"div",1),Oo(2,"span",2),pa(3,"Color Key"),Do(),Oo(4,"span",2),pa(5,"Color Value"),Do(),Oo(6,"span",2),pa(7,"Image Name"),Do(),Oo(8,"span",2),pa(9,"Image Url"),Do(),Oo(10,"button",3),Vo("click",(function(){return e.addNewVariant()})),pa(11," + "),Do(),Do(),Co(12,Rj,14,4,"ng-container",4),Do()),2&t&&(gr(12),Ao("ngForOf",e.colorVariants))},directives:[xS,bx,fh],styles:["[_nghost-%COMP%]   .color-variant[_ngcontent-%COMP%]{display:grid;grid-template-columns:200px 100px 150px 1fr -webkit-max-content -webkit-max-content;grid-template-columns:200px 100px 150px 1fr max-content max-content;grid-column-gap:10px}[_nghost-%COMP%]   .color-variant.edit[_ngcontent-%COMP%]{grid-template-columns:200px 100px repeat(3,-webkit-max-content);grid-template-columns:200px 100px repeat(3,max-content)}[_nghost-%COMP%]   .color-variant.header[_ngcontent-%COMP%]{font-weight:500;margin-bottom:15px}[_nghost-%COMP%]   .color-variant[_ngcontent-%COMP%] > .item[_ngcontent-%COMP%]{justify-self:start!important}"]}),t})();function Pj(t,e){if(1&t){const t=Fo();Oo(0,"div",7),Oo(1,"span",2),pa(2),Do(),Oo(3,"span",2),pa(4),Do(),Oo(5,"i",8),Vo("click",(function(){tn(t);const e=zo().$implicit;return zo().edit(e)})),pa(6," edit "),Do(),Oo(7,"i",8),Vo("click",(function(){tn(t);const e=zo().$implicit;return zo().delete(e)})),pa(8," delete "),Do(),Do()}if(2&t){const t=zo().$implicit;gr(2),fa(t.sizeKey),gr(2),fa(t.price)}}function Fj(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Size Id is required "),Do())}function Mj(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Price is required "),Do())}function Lj(t,e){if(1&t){const t=Fo();Oo(0,"form",9),Oo(1,"mat-form-field",10),Oo(2,"mat-label"),pa(3,"Size Id"),Do(),Ro(4,"input",11),Co(5,Fj,2,0,"mat-error",12),Do(),Oo(6,"mat-form-field",10),Oo(7,"mat-label"),pa(8,"Price"),Do(),Ro(9,"input",13),Co(10,Mj,2,0,"mat-error",12),Do(),Oo(11,"i",8),Vo("click",(function(){tn(t);const e=zo().$implicit;return zo().save(e)})),pa(12," save "),Do(),Oo(13,"i",8),Vo("click",(function(){tn(t);const e=zo().$implicit;return zo().cancel(e)})),pa(14," cancel "),Do(),Do()}if(2&t){const t=zo(2);Ao("formGroup",t.sizeVariantForm),gr(4),Ao("ngModel",t.editSize.sizeKey),gr(1),Ao("ngIf",t.f.sizeKey.hasError("required")),gr(4),Ao("ngModel",t.editSize.price),gr(1),Ao("ngIf",t.f.price.hasError("required"))}}function Vj(t,e){if(1&t&&(No(0),Co(1,Pj,9,2,"div",5),Co(2,Lj,15,5,"ng-template",null,6,ac),Po()),2&t){const t=e.$implicit,n=Eo(3);gr(1),Ao("ngIf",void 0===t.__edit||!1===t.__edit)("ngIfElse",n)}}let jj=(()=>{class t{constructor(t){this.siteService=t,this.isNew=!1}ngOnInit(){this.setupForm()}getVariants(){return Object.values(this.product.sizeVariants)}setupForm(){this.sizeVariantForm=new sE({sizeKey:new rE(null,[mC.required]),price:new rE(null,[mC.required])})}addNew(){const t=new Gx;t.price=10,t.sizeKey=Wx.LARGE,this.isNew=!0,this.product.sizeVariants[t.sizeKey]=t,t.__edit=!0,this.editSize=t}edit(t){t.__edit=!0,this.editSize=t}delete(t){this.siteService.confirmationPopup("Are you sure you want to delete the selected size variant?").subscribe(e=>{"yes"===e&&delete this.product.sizeVariants[t.sizeKey]})}cancel(t){t.__edit=!1,this.isNew&&delete this.product.sizeVariants[t.sizeKey],this.isNew=!1}save(t){t.__edit=!1,t.price=this.sizeVariantForm.controls.price.value,t.sizeKey=this.sizeVariantForm.controls.sizeKey.value,this.isNew=!1}get f(){return this.sizeVariantForm.controls}}return t.\u0275fac=function(e){return new(e||t)(So(Lk))},t.\u0275cmp=ye({type:t,selectors:[["app-size-variant-editor"]],inputs:{product:"product"},decls:9,vars:1,consts:[["aaa","","d","g","rg","5px",1,"size-variants"],["aaa","","fs","medium","fw","500","pos","rel",1,"size-variant","def-btm-border","header"],[1,"txt","item"],["mat-mini-fab","","color","accent","aria-label","Add new color variant","aaa","","pos","abs","r","0px",1,"mdb-25",3,"click"],[4,"ngFor","ngForOf"],["class","size-variant def-btm-border","aaa","",4,"ngIf","ngIfElse"],["editSizeTmpl",""],["aaa","",1,"size-variant","def-btm-border"],["aaa","","ps","center",1,"material-icons",3,"click"],["aaa","","d","g",1,"size-variant",3,"formGroup"],["aaa","","w","100px",1,"item"],["matInput","","type","text","formControlName","sizeKey",3,"ngModel"],[4,"ngIf"],["matInput","","type","text","formControlName","price",3,"ngModel"]],template:function(t,e){1&t&&(Oo(0,"div",0),Oo(1,"div",1),Oo(2,"span",2),pa(3,"Size Id"),Do(),Oo(4,"span",2),pa(5,"Price"),Do(),Oo(6,"button",3),Vo("click",(function(){return e.addNew()})),pa(7," + "),Do(),Do(),Co(8,Vj,4,2,"ng-container",4),Do()),2&t&&(gr(8),Ao("ngForOf",e.getVariants()))},directives:[xS,bx,fh,gh,vE,uC,CE,nk,$S,gk,nC,cC,OE,BS],styles:["[_nghost-%COMP%]   .size-variant[_ngcontent-%COMP%]{display:grid;grid-template-columns:200px 200px -webkit-max-content -webkit-max-content;grid-template-columns:200px 200px max-content max-content;grid-column-gap:10px}[_nghost-%COMP%]   .size-variant.header[_ngcontent-%COMP%]{font-weight:400;margin-bottom:15px}[_nghost-%COMP%]   .size-variant[_ngcontent-%COMP%] > .item[_ngcontent-%COMP%]{justify-self:start!important}"]}),t})();function Uj(t,e){if(1&t){const t=Fo();No(0),Oo(1,"i",16),Vo("click",(function(){tn(t);const e=zo().$implicit;return zo().delete(e)})),pa(2," delete "),Do(),Po()}}function Bj(t,e){if(1&t){const t=Fo();Oo(0,"div",14),Vo("click",(function(){tn(t);const n=e.$implicit;return zo().selectImage(n)})),Co(1,Uj,3,0,"ng-container",11),Ro(2,"img",15),Do()}if(2&t){const t=e.$implicit,n=zo();na("selected",t.__selected),gr(1),Ao("ngIf",!0===t.__selected),gr(1),wo("src",n.getEncodedUrl(t.imgUrl),Ji)}}function qj(t,e){1&t&&(Oo(0,"mat-error"),pa(1," Image name is required "),Do())}function zj(t,e){1&t&&Ro(0,"mat-spinner",17)}function Hj(t,e){1&t&&(Oo(0,"span"),pa(1,"Upload"),Do())}let Gj=(()=>{class t{constructor(t,e,n){this.siteService=t,this.afStorage=e,this.utilService=n,this.isUploading=!1}ngOnInit(){window.galleryimg=this,Object.values(this.product.galleryImages).forEach(t=>t.imgUrl=this.siteService.getGalleryImgUrl(this.product,t)),this.setupForm()}getGalleryImages(){return Object.values(this.product.galleryImages)}setupForm(){this.imagePickerForm=new sE({imgName:new rE(null,[mC.required])})}get f(){return this.imagePickerForm.controls}onFileChanged(t){t.target.files[0]&&(t.target.files[0].size/1048576>3?this.siteService.showInfoDialog({message:"File size cannot be more than 3MB"}):(this.selectedFile=t.target.files[0],this.f.imgName.setValue(this.selectedFile.name)))}getEncodedUrl(t){return encodeURI(t)}onUpload(){const t=this;if(void 0===this.selectedFile)return void this.siteService.showInfoDialog({message:"Please select a file to upload"});const e=this.imagePickerForm.getRawValue().imgName,n=`${this.siteService.getImageUrlPrefix(this.product)}/${e}`,i=this.afStorage.upload(n,this.selectedFile);this.isUploading=!0,console.log("fileloca",n),i.then(()=>{console.log("werew"),this.afStorage.ref(n),this.isUploading=!1;const e=this.siteService.getGalleryImgByPrefix(n),i=new Mx(e),r=this.utilService.getUniqueId();t.product.galleryImages[r]=i,t.siteService.closeModalPopup("add-gallery-image"),this.selectedFile=void 0},t=>{console.error("reached in error",t)}),i.percentageChanges().subscribe(t=>{console.log("progresss",t)})}delete(t){this.siteService.confirmationPopup("Are you sure you want to delete the selected Image?").subscribe(e=>{if("yes"===e){const e=Object.keys(this.product.galleryImages).find(e=>this.product.galleryImages[e]===t);delete this.product.galleryImages[e]}})}selectImage(t){Object.values(this.product.galleryImages).forEach(t=>t.__selected=!1),t.__selected=!0}}return t.\u0275fac=function(e){return new(e||t)(So(Lk),So(mS),So(vS))},t.\u0275cmp=ye({type:t,selectors:[["app-gallery-image-editor"]],inputs:{product:"product"},decls:19,vars:6,consts:[["aaa","","d","g","cg","10px","gtc","repeat(5,80px)","pi","center","pos","rel",1,"gallery-images"],["class","image-container cp","aaa","","d","g","w","100%","h","100%","pi","center","d","g","gta","'image'",3,"selected","click",4,"ngFor","ngForOf"],["aaa","","w","80px","h","80px","br","1px dotted black","op","0.5","d","g","pi","center","trigger-for","add-gallery-image",1,"place-holder","cp"],[1,"material-icons","notranslate"],["add-gallery-image","",1,"image-picker","modal-popup"],["aaa","","d","g","gtc","100px 250px","cg","15px",1,"",3,"formGroup"],["type","file",2,"display","none",3,"change"],["fileInput",""],["aaa","","mat-flat-button","","color","primary","as","c",3,"click"],["aaa","","w","200px"],["matInput","","type","text","formControlName","imgName"],[4,"ngIf"],["aaa","","mat-flat-button","","color","primary","as","c","gc","1/3",1,"upload",3,"disabled","click"],["color","accent","aaa","","diameter","20","w","50px",4,"ngIf"],["aaa","","d","g","w","100%","h","100%","pi","center","d","g","gta","'image'",1,"image-container","cp",3,"click"],["alt","","aaa","","w","100%","ga","image"],["aaa","","ga","image","zi","1",1,"material-icons","notranslate",3,"click"],["color","accent","aaa","","diameter","20","w","50px"]],template:function(t,e){if(1&t){const t=Fo();Oo(0,"div",0),Co(1,Bj,3,4,"div",1),Oo(2,"div",2),Oo(3,"i",3),pa(4," add_a_photo "),Do(),Do(),Oo(5,"div",4),Oo(6,"form",5),Oo(7,"input",6,7),Vo("change",(function(t){return e.onFileChanged(t)})),Do(),Oo(9,"button",8),Vo("click",(function(){return tn(t),Eo(8).click()})),pa(10,"Select File"),Do(),Oo(11,"mat-form-field",9),Oo(12,"mat-label"),pa(13,"Image Name"),Do(),Ro(14,"input",10),Co(15,qj,2,0,"mat-error",11),Do(),Oo(16,"button",12),Vo("click",(function(){return e.onUpload()})),Co(17,zj,1,0,"mat-spinner",13),Co(18,Hj,2,0,"span",11),Do(),Do(),Do(),Do()}2&t&&(gr(1),Ao("ngForOf",e.getGalleryImages()),gr(5),Ao("formGroup",e.imagePickerForm),gr(9),Ao("ngIf",e.f.imgName.hasError("required")),gr(1),Ao("disabled",void 0===e.selectedFile),gr(1),Ao("ngIf",!0===e.isUploading),gr(1),Ao("ngIf",!1===e.isUploading))},directives:[xS,fh,vE,uC,CE,bx,nk,$S,gk,nC,cC,OE,gh,BS,kk],styles:["[_nghost-%COMP%]   .image-container.selected[_ngcontent-%COMP%]{border:1px solid #727272}[_nghost-%COMP%]   .image-container.selected[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:95%!important;opacity:.5}"]}),t})();function Wj(t,e){if(1&t&&(Oo(0,"mat-option",9),pa(1),Do()),2&t){const t=e.$implicit;Ao("value",t),gr(1),ma(" ",t.name," ")}}function $j(t,e){if(1&t){const t=Fo();No(0),Oo(1,"span",10),pa(2),Do(),Oo(3,"i",11),Vo("click",(function(){tn(t);const n=e.$implicit;return zo().delete(n)})),pa(4," delete "),Do(),Ro(5,"div",12),Po()}if(2&t){const t=e.$implicit,n=zo();gr(2),fa(n.getCategoryPath(t))}}let Kj=(()=>{class t{constructor(t,e){this.state=t,this.siteService=e,this.categoryCntrl=new rE}ngOnInit(){window.catedit=this,this.filteredOptions=this.categoryCntrl.valueChanges.pipe(gp(""),L(t=>"string"==typeof t?t:t.name),L(t=>t?this._filter(t):this.state.categories.slice()))}displayFn(t){return t&&t.name?t.name:""}_filter(t){const e=t.toLowerCase();return this.state.categories.filter(t=>t.name.toLowerCase().indexOf(e)>-1)}addCategory(){if(this.categoryCntrl.value instanceof Ux){const t=this.categoryCntrl.value;if(this.product.categories.indexOf(t.baseId)>-1)return void this.siteService.showInfoDialog({message:`Category '${t.name}' is already added`},()=>{});this.product.categories.push(t.baseId)}this.categoryCntrl.setValue("")}getCategoryPath(t){return this.state.categories.find(e=>e.baseId===t).name}delete(t){this.siteService.confirmationPopup("Are you sure you want to delete the category?").subscribe(e=>{"yes"===e&&this.product.categories.splice(this.product.categories.indexOf(t),1)})}}return t.\u0275fac=function(e){return new(e||t)(So(gS),So(Lk))},t.\u0275cmp=ye({type:t,selectors:[["app-product-category-editor"]],inputs:{product:"product"},decls:11,vars:7,consts:[["aaa","","d","g","gtc","200px 50px","gg","10px",1,"control"],[1,"example-full-width"],["type","text","placeholder","Pick Category","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["aaa","","mat-flat-button","","color","accent","as","c",3,"click"],["aaa","","d","g","gtc","250px max-content",1,"assigned-cats"],[4,"ngFor","ngForOf"],[3,"value"],[1,"cat","txt"],["aaa","","ps","center",1,"material-icons",3,"click"],[1,"divider"]],template:function(t,e){if(1&t&&(Oo(0,"div",0),Oo(1,"mat-form-field",1),Ro(2,"input",2),Oo(3,"mat-autocomplete",3,4),Co(5,Wj,2,2,"mat-option",5),Pl(6,"async"),Do(),Do(),Oo(7,"button",6),Vo("click",(function(){return e.addCategory()})),pa(8,"Add"),Do(),Do(),Oo(9,"div",7),Co(10,$j,6,1,"ng-container",8),Do()),2&t){const t=Eo(4);gr(2),Ao("formControl",e.categoryCntrl)("matAutocomplete",t),gr(1),Ao("displayWith",e.displayFn),gr(2),Ao("ngForOf",Fl(6,5,e.filteredOptions)),gr(5),Ao("ngForOf",e.product.categories)}},directives:[xS,nk,gk,nC,cP,cC,wE,rP,fh,bx,Gw],pipes:[Rh],styles:["[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]{grid-column:1/span 2}"]}),t})(),Yj=(()=>{class t{}return t.\u0275mod=xe({type:t,bootstrap:[tD]}),t.\u0275inj=mt({factory:function(e){return new(e||t)},providers:[gS,Lk,vS,ZO,iI,gj,JO,sI],imports:[[Od,XO,cw,oD,Od,cw,aO,aO,xx,yk,ik,cT,DD,yP,WP,uP,pF,JF,xI,WM,cL,fx,MD,mj,OM,pS.initializeApp(ou),xj,Ej,Sj,WE,$E,UF,BA,Ik]]}),t})();ve(FI,[hh,dh,fh,gh,kh,Sh,bh,wh,xh,Ch,Eh,Qm,Hm,Gm,$m,Hp,sD,nO,py,rO,bx,wx,ok,ak,BS,nk,WS,$S,KS,YS,QS,gk,ck,sT,lT,SD,_D,TD,mD,gP,mP,NP,DP,LP,PP,Ew,FP,MP,Fw,GP,HP,vP,rP,Gw,Uw,cP,sP,uF,hF,dF,ZP,tF,eF,nF,iF,sF,oF,aF,rF,lF,cF,KF,XF,vI,hI,bI,dI,cI,uI,GM,aL,lL,tx,cx,ux,hx,dx,FD,TR,MR,NN,sN,hN,IN,xN,KR,kL,_L,PL,mL,zL,XL,sV,dV,bV,AV,FV,zV,XV,rj,dj,vE,FC,jC,nC,xC,IC,Zx,PC,VC,SC,cC,uC,NE,jE,BE,zE,PE,LE,yE,fE,cE,wE,CE,OE,SE,IE,VF,NF,PF,FF,LF,MF,OF,UA,jA,Sk,kk,tD,RI,YN,Cx,NI,xS,wj,DI,FI,AI,BI,Ij,Aj,wS,GI,Mk,hT,Tj,rA,dA,vA,Dj,XA,vT,ET,qI,wA,RT,PT,RO,LT,MO,Nj,jj,GT,cO,Gj,Kj,WO,HO,YO],[Rh,Mh,Nh,Bh,Yh,Hh,Gh,Fh,Wh,Lh,jh,Uh,qh]),ve(BI,[hh,dh,fh,gh,kh,Sh,bh,wh,xh,Ch,Eh,Qm,Hm,Gm,$m,Hp,sD,nO,py,rO,bx,wx,ok,ak,BS,nk,WS,$S,KS,YS,QS,gk,ck,sT,lT,SD,_D,TD,mD,gP,mP,NP,DP,LP,PP,Ew,FP,MP,Fw,GP,HP,vP,rP,Gw,Uw,cP,sP,uF,hF,dF,ZP,tF,eF,nF,iF,sF,oF,aF,rF,lF,cF,KF,XF,vI,hI,bI,dI,cI,uI,GM,aL,lL,tx,cx,ux,hx,dx,FD,TR,MR,NN,sN,hN,IN,xN,KR,kL,_L,PL,mL,zL,XL,sV,dV,bV,AV,FV,zV,XV,rj,dj,vE,FC,jC,nC,xC,IC,Zx,PC,VC,SC,cC,uC,NE,jE,BE,zE,PE,LE,yE,fE,cE,wE,CE,OE,SE,IE,VF,NF,PF,FF,LF,MF,OF,UA,jA,Sk,kk,tD,RI,YN,Cx,NI,xS,wj,DI,FI,AI,BI,Ij,Aj,wS,GI,Mk,hT,Tj,rA,dA,vA,Dj,XA,vT,ET,qI,wA,RT,PT,RO,LT,MO,Nj,jj,GT,cO,Gj,Kj,WO,HO,YO],[Rh,Mh,Nh,Bh,Yh,Hh,Gh,Fh,Wh,Lh,jh,Uh,qh]),ve(RO,[hh,dh,fh,gh,kh,Sh,bh,wh,xh,Ch,Eh,Qm,Hm,Gm,$m,Hp,sD,nO,py,rO,bx,wx,ok,ak,BS,nk,WS,$S,KS,YS,QS,gk,ck,sT,lT,SD,_D,TD,mD,gP,mP,NP,DP,LP,PP,Ew,FP,MP,Fw,GP,HP,vP,rP,Gw,Uw,cP,sP,uF,hF,dF,ZP,tF,eF,nF,iF,sF,oF,aF,rF,lF,cF,KF,XF,vI,hI,bI,dI,cI,uI,GM,aL,lL,tx,cx,ux,hx,dx,FD,TR,MR,NN,sN,hN,IN,xN,KR,kL,_L,PL,mL,zL,XL,sV,dV,bV,AV,FV,zV,XV,rj,dj,vE,FC,jC,nC,xC,IC,Zx,PC,VC,SC,cC,uC,NE,jE,BE,zE,PE,LE,yE,fE,cE,wE,CE,OE,SE,IE,VF,NF,PF,FF,LF,MF,OF,UA,jA,Sk,kk,tD,RI,YN,Cx,NI,xS,wj,DI,FI,AI,BI,Ij,Aj,wS,GI,Mk,hT,Tj,rA,dA,vA,Dj,XA,vT,ET,qI,wA,RT,PT,RO,LT,MO,Nj,jj,GT,cO,Gj,Kj,WO,HO,YO],[Rh,Mh,Nh,Bh,Yh,Hh,Gh,Fh,Wh,Lh,jh,Uh,qh]),function(){if(Ei)throw new Error("Cannot enable prod mode after platform setup.");Ci=!1}(),Ad().bootstrapModule(Yj).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG"),r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=(15&a)<<2|c>>6,h=63&c;l||(h=64,o||(u=64)),i.push(n[s>>2],n[(3&s)<<4|a>>4],n[u],n[h])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){var o=((7&r)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(o>>10)),e[i++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var s=n[t.charAt(r++)],o=r<t.length?n[t.charAt(r)]:0,a=++r<t.length?n[t.charAt(r)]:64,l=++r<t.length?n[t.charAt(r)]:64;if(++r,null==s||null==o||null==a||null==l)throw Error();i.push(s<<2|o>>4),64!==a&&(i.push(o<<4&240|a>>2),64!==l&&i.push(a<<6&192|l))}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return l.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=u(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,i))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p=function(t){function e(n,i){var r=t.call(this,i)||this;return r.code=n,r.name="FirebaseError",Object.setPrototypeOf(r,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,f.prototype.create),r}return i.__extends(e,t),e}(Error),f=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=e[0]||{},r=this.service+"/"+t,s=this.errors[t],o=s?m(s,i):"Error",a=this.serviceName+": "+o+" ("+r+").",l=new p(r,a),c=0,u=Object.keys(i);c<u.length;c++){var h=u[c];"_"!==h.slice(-1)&&(h in l&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),l[h]=i[h])}return l},t}();function m(t,e){return t.replace(g,(function(t,n){var i=e[n];return null!=i?i.toString():"<"+n+"?>"}))}var g=/\{\$([^}]+)}/g;function y(t){return JSON.parse(t)}var v=function(t){var e={},n={},i={},r="";try{var s=t.split(".");e=y(c(s[0])||""),n=y(c(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch(o){}return{header:e,claims:n,data:i,signature:r}},_=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++)n[i]=4294967295&((h=n[i-3]^n[i-8]^n[i-14]^n[i-16])<<1|h>>>31);var r,s,o=this.chain_[0],a=this.chain_[1],l=this.chain_[2],c=this.chain_[3],u=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(r=c^a&(l^c),s=1518500249):(r=a^l^c,s=1859775393):i<60?(r=a&l|c&(a|l),s=2400959708):(r=a^l^c,s=3395469782);var h=(o<<5|o>>>27)+r+u+s+n[i]&4294967295;u=c,c=l,l=4294967295&(a<<30|a>>>2),a=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,s=this.inbuf_;i<e;){if(0===s)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[s]=t.charCodeAt(i),++i,++s===this.blockSize){this.compress_(r),s=0;break}}else for(;i<e;)if(r[s]=t[i],++i,++s===this.blockSize){this.compress_(r),s=0;break}}this.inbuf_=s,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t},t}(),b=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=w),void 0===i.error&&(i.error=w),void 0===i.complete&&(i.complete=w);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}})),this.observers.push(i),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function w(){}function x(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+i+" argument "}e.CONSTANTS=r,e.Deferred=h,e.ErrorFactory=f,e.FirebaseError=p,e.Sha1=_,e.assert=s,e.assertionError=o,e.async=function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=l,e.base64Decode=c,e.base64Encode=function(t){var e=a(t);return l.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new b(t,e);return n.subscribe.bind(n)},e.decode=v,e.deepCopy=function(t){return u(void 0,t)},e.deepExtend=u,e.errorPrefix=x,e.getUA=d,e.isAdmin=function(t){var e=v(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return d().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return d().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=v(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=v(t).claims,n=Math.floor((new Date).getTime()/1e3),i=0,r=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?i=e.nbf:e.hasOwnProperty("iat")&&(i=e.iat),r=e.hasOwnProperty("exp")?e.exp:i+86400),!!n&&!!i&&!!r&&n>=i&&n<=r},e.issuedAtTime=function(t){var e=v(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=y,e.map=function(t,e,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},i=0,r=Object.entries(t);i<r.length;i++){var s=r[i];n(s[0],s[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);if(r>=55296&&r<=56319){var o=r-55296;i++,s(i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(o<<10)+(t.charCodeAt(i)-56320)}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,i){var r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")},e.validateCallback=function(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(x(t,e,i)+"must be a valid function.")},e.validateContextObject=function(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(x(t,e,i)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,i){if((!i||n)&&"string"!=typeof n)throw new Error(x(t,e,i)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);